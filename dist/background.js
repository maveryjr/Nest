/*! For license information please see background.js.LICENSE.txt */
(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?t(Object(r),!0).forEach(function(t){u(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function r(){var e,t,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function c(n,r,i,a){var c=r&&r.prototype instanceof s?r:s,f=Object.create(c.prototype);return o(f,"_invoke",function(n,r,o){var i,a,c,s=0,f=o||[],l=!1,p={p:0,n:0,v:e,a:v,f:v.bind(e,4),d:function(t,n){return i=t,a=0,c=e,p.n=n,u}};function v(n,r){for(a=n,c=r,t=0;!l&&s&&!o&&t<f.length;t++){var o,i=f[t],v=p.p,y=i[2];n>3?(o=y===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=v&&((o=n<2&&v<i[1])?(a=0,p.v=r,p.n=i[1]):v<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,p.n=y,a=0))}if(o||n>1)return u;throw l=!0,r}return function(o,f,y){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&v(f,y),a=f,c=y;(t=a<2?e:c)||!l;){i||(a?a<3?(a>1&&(p.n=-1),v(a,c)):p.n=c:p.v=c);try{if(s=2,i){if(a||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((t=(l=p.n<0)?c:n.call(r,p))!==u)break}catch(t){i=e,a=1,c=t}finally{s=1}}return{value:t,done:l}}}(n,i,a),!0),f}var u={};function s(){}function f(){}function l(){}t=Object.getPrototypeOf;var p=[][i]?t(t([][i]())):(o(t={},i,function(){return this}),t),v=l.prototype=s.prototype=Object.create(p);function y(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,o(e,a,"GeneratorFunction")),e.prototype=Object.create(v),e}return f.prototype=l,o(v,"constructor",l),o(l,"constructor",f),f.displayName="GeneratorFunction",o(l,a,"GeneratorFunction"),o(v),o(v,a,"Generator"),o(v,i,function(){return this}),o(v,"toString",function(){return"[object Generator]"}),(r=function(){return{w:c,m:y}})()}function o(e,t,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}o=function(e,t,n,r){if(t)i?i(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var a=function(t,n){o(e,t,function(e){return this._invoke(t,n,e)})};a("next",0),a("throw",1),a("return",2)}},o(e,t,n,r)}function i(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function c(e){i(a,r,o,c,u,"next",e)}function u(e){i(a,r,o,c,u,"throw",e)}c(void 0)})}}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function u(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(t){var n=function(t){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(n)?n:n+""}var f="nestData",l=new(function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,"db",null)},t=[{key:"init",value:(h=a(r().m(function e(){var t=this;return r().w(function(e){for(;;)if(0===e.n)return e.a(2,new Promise(function(e,n){var r=indexedDB.open("NestDB",1);r.onerror=function(){return n(r.error)},r.onsuccess=function(){t.db=r.result,e()},r.onupgradeneeded=function(e){var t=e.target.result;t.objectStoreNames.contains(f)||t.createObjectStore(f)}}))},e)})),function(){return h.apply(this,arguments)})},{key:"getData",value:(d=a(r().m(function e(){var t=this;return r().w(function(e){for(;;)switch(e.n){case 0:if(this.db){e.n=1;break}return e.n=1,this.init();case 1:return e.a(2,new Promise(function(e,n){var r=t.db.transaction([f],"readonly").objectStore(f).get("data");r.onerror=function(){return n(r.error)},r.onsuccess=function(){e(r.result||{links:[],collections:[],categories:[{id:"general",name:"General",color:"#6b7280",isDefault:!0},{id:"work",name:"Work",color:"#3b82f6"},{id:"personal",name:"Personal",color:"#10b981"},{id:"learning",name:"Learning",color:"#f59e0b"}],settings:{defaultCategory:"general",autoSummarize:!0}})}}))}},e,this)})),function(){return d.apply(this,arguments)})},{key:"saveData",value:(y=a(r().m(function e(t){var n=this;return r().w(function(e){for(;;)switch(e.n){case 0:if(this.db){e.n=1;break}return e.n=1,this.init();case 1:return e.a(2,new Promise(function(e,r){var o=n.db.transaction([f],"readwrite").objectStore(f).put(t,"data");o.onerror=function(){return r(o.error)},o.onsuccess=function(){return e()}}))}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"addLink",value:(v=a(r().m(function e(t){var n;return r().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.getData();case 1:return(n=e.v).links.push(t),e.n=2,this.saveData(n);case 2:return e.a(2)}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"updateLink",value:(p=a(r().m(function e(t,o){var i,a;return r().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.getData();case 1:if(i=e.v,-1===(a=i.links.findIndex(function(e){return e.id===t}))){e.n=2;break}return i.links[a]=n(n(n({},i.links[a]),o),{},{updatedAt:new Date}),e.n=2,this.saveData(i);case 2:return e.a(2)}},e,this)})),function(e,t){return p.apply(this,arguments)})},{key:"deleteLink",value:(l=a(r().m(function e(t){var n;return r().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.getData();case 1:return(n=e.v).links=n.links.filter(function(e){return e.id!==t}),e.n=2,this.saveData(n);case 2:return e.a(2)}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"addCollection",value:(s=a(r().m(function e(t){var n;return r().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.getData();case 1:return(n=e.v).collections.push(t),e.n=2,this.saveData(n);case 2:return e.a(2)}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"updateCollection",value:(i=a(r().m(function e(t,o){var i,a;return r().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.getData();case 1:if(i=e.v,-1===(a=i.collections.findIndex(function(e){return e.id===t}))){e.n=2;break}return i.collections[a]=n(n(n({},i.collections[a]),o),{},{updatedAt:new Date}),e.n=2,this.saveData(i);case 2:return e.a(2)}},e,this)})),function(e,t){return i.apply(this,arguments)})},{key:"deleteCollection",value:(o=a(r().m(function e(t){var n;return r().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.getData();case 1:return(n=e.v).collections=n.collections.filter(function(e){return e.id!==t}),n.links.forEach(function(e){e.collectionId===t&&(e.collectionId=void 0)}),e.n=2,this.saveData(n);case 2:return e.a(2)}},e,this)})),function(e){return o.apply(this,arguments)})}],t&&c(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,o,i,s,l,p,v,y,d,h}());function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function v(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return y(s,"_invoke",function(n,r,o){var i,c,u,s=0,f=o||[],l=!1,p={p:0,n:0,v:e,a:v,f:v.bind(e,4),d:function(t,n){return i=t,c=0,u=e,p.n=n,a}};function v(n,r){for(c=n,u=r,t=0;!l&&s&&!o&&t<f.length;t++){var o,i=f[t],v=p.p,y=i[2];n>3?(o=y===r)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=e):i[0]<=v&&((o=n<2&&v<i[1])?(c=0,p.v=r,p.n=i[1]):v<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,p.n=y,c=0))}if(o||n>1)return a;throw l=!0,r}return function(o,f,y){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&v(f,y),c=f,u=y;(t=c<2?e:u)||!l;){i||(c?c<3?(c>1&&(p.n=-1),v(c,u)):p.n=u:p.v=u);try{if(s=2,i){if(c||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=i.return)&&t.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=e}else if((t=(l=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,c=1,u=t}finally{s=1}}return{value:t,done:l}}}(n,o,i),!0),s}var a={};function c(){}function u(){}function s(){}t=Object.getPrototypeOf;var f=[][r]?t(t([][r]())):(y(t={},r,function(){return this}),t),l=s.prototype=c.prototype=Object.create(f);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,y(e,o,"GeneratorFunction")),e.prototype=Object.create(l),e}return u.prototype=s,y(l,"constructor",s),y(s,"constructor",u),u.displayName="GeneratorFunction",y(s,o,"GeneratorFunction"),y(l),y(l,o,"Generator"),y(l,r,function(){return this}),y(l,"toString",function(){return"[object Generator]"}),(v=function(){return{w:i,m:p}})()}function y(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}y=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var i=function(t,n){y(e,t,function(e){return this._invoke(t,n,e)})};i("next",0),i("throw",1),i("return",2)}},y(e,t,n,r)}function d(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){d(i,r,o,a,c,"next",e)}function c(e){d(i,r,o,a,c,"throw",e)}a(void 0)})}}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function b(e){var t=function(e){if("object"!=p(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==p(t)?t:t+""}var g=new(function(){return e=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.apiKey=t.apiKey||"",this.model=t.model||"gpt-3.5-turbo"},t=[{key:"generateSummary",value:(r=h(v().m(function e(t,n,r){var o,i;return v().w(function(e){for(;;)switch(e.n){case 0:if(this.apiKey){e.n=1;break}return e.a(2,this.generatePlaceholderSummary(t,n,r));case 1:return e.p=1,e.n=2,this.callOpenAI(t,n,r);case 2:return o=e.v,e.a(2,o);case 3:return e.p=3,i=e.v,console.error("AI summary generation failed:",i),e.a(2,this.generatePlaceholderSummary(t,n,r))}},e,this,[[1,3]])})),function(e,t,n){return r.apply(this,arguments)})},{key:"generatePlaceholderSummary",value:function(e,t,n){var r=new URL(n).hostname,o=e.length;return r.includes("github.com")?"GitHub repository or project page: ".concat(t):r.includes("stackoverflow.com")?"Stack Overflow discussion about programming or technical topics":r.includes("medium.com")||r.includes("blog")?"Blog article: ".concat(t.substring(0,50),"..."):r.includes("youtube.com")?"Video content: ".concat(t):r.includes("news")||r.includes("article")?"News article from ".concat(r):"Web page from ".concat(r," (").concat(Math.round(o/100)," paragraphs)")}},{key:"callOpenAI",value:(n=h(v().m(function e(t,n,r){var o,i,a,c;return v().w(function(e){for(;;)switch(e.n){case 0:return i="Summarize this web page in 1-2 sentences:\nTitle: ".concat(n,"\nURL: ").concat(r,"\nContent: ").concat(t.substring(0,1e3),"..."),e.n=1,fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{Authorization:"Bearer ".concat(this.apiKey),"Content-Type":"application/json"},body:JSON.stringify({model:this.model,messages:[{role:"user",content:i}],max_tokens:100,temperature:.3})});case 1:return a=e.v,e.n=2,a.json();case 2:return c=e.v,e.a(2,(null===(o=c.choices[0])||void 0===o||null===(o=o.message)||void 0===o?void 0:o.content)||this.generatePlaceholderSummary(t,n,r))}},e,this)})),function(e,t,r){return n.apply(this,arguments)})},{key:"updateApiKey",value:function(e){this.apiKey=e}}],t&&m(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r}());function w(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return k(s,"_invoke",function(n,r,o){var i,c,u,s=0,f=o||[],l=!1,p={p:0,n:0,v:e,a:v,f:v.bind(e,4),d:function(t,n){return i=t,c=0,u=e,p.n=n,a}};function v(n,r){for(c=n,u=r,t=0;!l&&s&&!o&&t<f.length;t++){var o,i=f[t],v=p.p,y=i[2];n>3?(o=y===r)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=e):i[0]<=v&&((o=n<2&&v<i[1])?(c=0,p.v=r,p.n=i[1]):v<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,p.n=y,c=0))}if(o||n>1)return a;throw l=!0,r}return function(o,f,y){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&v(f,y),c=f,u=y;(t=c<2?e:u)||!l;){i||(c?c<3?(c>1&&(p.n=-1),v(c,u)):p.n=u:p.v=u);try{if(s=2,i){if(c||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=i.return)&&t.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=e}else if((t=(l=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,c=1,u=t}finally{s=1}}return{value:t,done:l}}}(n,o,i),!0),s}var a={};function c(){}function u(){}function s(){}t=Object.getPrototypeOf;var f=[][r]?t(t([][r]())):(k(t={},r,function(){return this}),t),l=s.prototype=c.prototype=Object.create(f);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,k(e,o,"GeneratorFunction")),e.prototype=Object.create(l),e}return u.prototype=s,k(l,"constructor",s),k(s,"constructor",u),u.displayName="GeneratorFunction",k(s,o,"GeneratorFunction"),k(l),k(l,o,"Generator"),k(l,r,function(){return this}),k(l,"toString",function(){return"[object Generator]"}),(w=function(){return{w:i,m:p}})()}function k(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}k=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var i=function(t,n){k(e,t,function(e){return this._invoke(t,n,e)})};i("next",0),i("throw",1),i("return",2)}},k(e,t,n,r)}function O(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function j(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){O(i,r,o,a,c,"next",e)}function c(e){O(i,r,o,a,c,"throw",e)}a(void 0)})}}function P(e,t){return S.apply(this,arguments)}function S(){return(S=j(w().m(function e(t,n){var r,o,i,a,c,u,s,f,p,v,y,d;return w().w(function(e){for(;;)switch(e.n){case 0:if(r=n||t.url,o=t.title||"Untitled",r&&!r.startsWith("chrome://")&&!r.startsWith("chrome-extension://")){e.n=1;break}return console.log("Cannot save this type of page"),e.a(2);case 1:return e.p=1,i="",e.p=2,e.n=3,chrome.tabs.sendMessage(t.id,{action:"getPageContent"});case 3:a=e.v,i=(null==a?void 0:a.content)||"",e.n=5;break;case 4:e.p=4,y=e.v,console.log("Could not extract page content:",y);case 5:return(c=t.favIconUrl)||(u=new URL(r).hostname,c="https://www.google.com/s2/favicons?domain=".concat(u,"&sz=32")),e.n=6,g.generateSummary(i,o,r);case 6:return s=e.v,f=new URL(r).hostname,p="general",f.includes("github.com")?p="work":(f.includes("youtube.com")||f.includes("medium.com"))&&(p="learning"),v={id:Date.now().toString(),url:r,title:o,favicon:c,userNote:"",aiSummary:s,category:p,domain:f,createdAt:new Date,updatedAt:new Date},e.n=7,l.addLink(v);case 7:chrome.notifications.create({type:"basic",iconUrl:"icons/icon48.png",title:"Saved to Nest",message:'"'.concat(o,'" has been saved to your Holding Area')}),console.log("Page saved successfully:",v),e.n=9;break;case 8:e.p=8,d=e.v,console.error("Failed to save page:",d),chrome.notifications.create({type:"basic",iconUrl:"icons/icon48.png",title:"Nest Error",message:"Failed to save page. Please try again."});case 9:return e.a(2)}},e,null,[[2,4],[1,8]])}))).apply(this,arguments)}function D(e){return T.apply(this,arguments)}function T(){return(T=j(w().m(function e(t){var n,r;return w().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,chrome.tabs.sendMessage(t,{action:"getPageContent"});case 1:return n=e.v,e.a(2,n);case 2:return e.p=2,r=e.v,console.error("Failed to get page content:",r),e.a(2,{content:""})}},e,null,[[0,2]])}))).apply(this,arguments)}chrome.runtime.onInstalled.addListener(function(){chrome.contextMenus.create({id:"saveToNest",title:"Save to Nest",contexts:["page","link"]}),console.log("Nest extension installed")}),chrome.contextMenus.onClicked.addListener(function(){var e=j(w().m(function e(t,n){return w().w(function(e){for(;;)switch(e.n){case 0:if("saveToNest"!==t.menuItemId||!n){e.n=1;break}return e.n=1,P(n,t.linkUrl);case 1:return e.a(2)}},e)}));return function(t,n){return e.apply(this,arguments)}}()),chrome.action.onClicked.addListener(function(){var e=j(w().m(function e(t){var n;return w().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,chrome.sidePanel.open({windowId:t.windowId});case 1:e.n=3;break;case 2:e.p=2,n=e.v,console.error("Failed to open side panel:",n);case 3:return e.a(2)}},e,null,[[0,2]])}));return function(t){return e.apply(this,arguments)}}()),chrome.runtime.onMessage.addListener(function(e,t,n){return j(w().m(function r(){var o,i,a,c,u;return w().w(function(r){for(;;)switch(r.n){case 0:r.p=0,a=e.action,r.n="saveCurrentPage"===a?1:"getPageContent"===a?4:"openSidePanel"===a?7:14;break;case 1:if(!t.tab){r.n=3;break}return r.n=2,P(t.tab);case 2:n({success:!0});case 3:return r.a(3,15);case 4:if(!t.tab){r.n=6;break}return r.n=5,D(t.tab.id);case 5:o=r.v,n(o);case 6:return r.a(3,15);case 7:return r.p=7,r.n=8,chrome.tabs.query({active:!0,currentWindow:!0});case 8:if(!(i=r.v)[0]){r.n=10;break}return r.n=9,chrome.sidePanel.open({windowId:i[0].windowId});case 9:n({success:!0}),r.n=11;break;case 10:n({error:"No active tab found"});case 11:r.n=13;break;case 12:r.p=12,c=r.v,console.error("Failed to open side panel:",c),n({error:c.message});case 13:return r.a(3,15);case 14:n({error:"Unknown action"});case 15:r.n=17;break;case 16:r.p=16,u=r.v,console.error("Background script error:",u),n({error:u.message});case 17:return r.a(2)}},r,null,[[7,12],[0,16]])}))(),!0}),chrome.commands.onCommand.addListener(function(){var e=j(w().m(function e(t){var n;return w().w(function(e){for(;;)switch(e.n){case 0:if("save-page"!==t){e.n=2;break}return e.n=1,chrome.tabs.query({active:!0,currentWindow:!0});case 1:if(!(n=e.v)[0]){e.n=2;break}return e.n=2,P(n[0]);case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}())})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFja2dyb3VuZC5qcyIsIm1hcHBpbmdzIjoiOyt6QkFDQSxJQUFBQSxFQUFBQyxFQUFBQyxFQUFBLG1CQUFBQyxPQUFBQSxPQUFBLEdBQUFDLEVBQUFGLEVBQUFHLFVBQUEsYUFBQUMsRUFBQUosRUFBQUssYUFBQSx5QkFBQUMsRUFBQU4sRUFBQUUsRUFBQUUsRUFBQUUsR0FBQSxJQUFBQyxFQUFBTCxHQUFBQSxFQUFBTSxxQkFBQUMsRUFBQVAsRUFBQU8sRUFBQUMsRUFBQUMsT0FBQUMsT0FBQUwsRUFBQUMsV0FBQSxPQUFBSyxFQUFBSCxFQUFBLG1CQUFBVixFQUFBRSxFQUFBRSxHQUFBLElBQUFFLEVBQUFDLEVBQUFHLEVBQUFJLEVBQUEsRUFBQUMsRUFBQVgsR0FBQSxHQUFBWSxHQUFBLEVBQUFDLEVBQUEsQ0FBQUYsRUFBQSxFQUFBYixFQUFBLEVBQUFnQixFQUFBcEIsRUFBQXFCLEVBQUFDLEVBQUFOLEVBQUFNLEVBQUFDLEtBQUF2QixFQUFBLEdBQUFzQixFQUFBLFNBQUFyQixFQUFBQyxHQUFBLE9BQUFNLEVBQUFQLEVBQUFRLEVBQUEsRUFBQUcsRUFBQVosRUFBQW1CLEVBQUFmLEVBQUFGLEVBQUFtQixDQUFBLFlBQUFDLEVBQUFwQixFQUFBRSxHQUFBLElBQUFLLEVBQUFQLEVBQUFVLEVBQUFSLEVBQUFILEVBQUEsR0FBQWlCLEdBQUFGLElBQUFWLEdBQUFMLEVBQUFnQixFQUFBTyxPQUFBdkIsSUFBQSxLQUFBSyxFQUFBRSxFQUFBUyxFQUFBaEIsR0FBQXFCLEVBQUFILEVBQUFGLEVBQUFRLEVBQUFqQixFQUFBLEdBQUFOLEVBQUEsR0FBQUksRUFBQW1CLElBQUFyQixLQUFBUSxFQUFBSixHQUFBQyxFQUFBRCxFQUFBLE9BQUFDLEVBQUEsTUFBQUQsRUFBQSxHQUFBQSxFQUFBLEdBQUFSLEdBQUFRLEVBQUEsSUFBQWMsS0FBQWhCLEVBQUFKLEVBQUEsR0FBQW9CLEVBQUFkLEVBQUEsS0FBQUMsRUFBQSxFQUFBVSxFQUFBQyxFQUFBaEIsRUFBQWUsRUFBQWYsRUFBQUksRUFBQSxJQUFBYyxFQUFBRyxJQUFBbkIsRUFBQUosRUFBQSxHQUFBTSxFQUFBLEdBQUFKLEdBQUFBLEVBQUFxQixLQUFBakIsRUFBQSxHQUFBTixFQUFBTSxFQUFBLEdBQUFKLEVBQUFlLEVBQUFmLEVBQUFxQixFQUFBaEIsRUFBQSxPQUFBSCxHQUFBSixFQUFBLFNBQUFtQixFQUFBLE1BQUFILEdBQUEsRUFBQWQsQ0FBQSxpQkFBQUUsRUFBQVcsRUFBQVEsR0FBQSxHQUFBVCxFQUFBLFFBQUFVLFVBQUEsb0NBQUFSLEdBQUEsSUFBQUQsR0FBQUssRUFBQUwsRUFBQVEsR0FBQWhCLEVBQUFRLEVBQUFMLEVBQUFhLEdBQUF4QixFQUFBUSxFQUFBLEVBQUFULEVBQUFZLEtBQUFNLEdBQUEsQ0FBQVYsSUFBQUMsRUFBQUEsRUFBQSxHQUFBQSxFQUFBLElBQUFVLEVBQUFmLEdBQUEsR0FBQWtCLEVBQUFiLEVBQUFHLElBQUFPLEVBQUFmLEVBQUFRLEVBQUFPLEVBQUFDLEVBQUFSLEdBQUEsT0FBQUksRUFBQSxFQUFBUixFQUFBLElBQUFDLElBQUFILEVBQUEsUUFBQUwsRUFBQU8sRUFBQUYsR0FBQSxNQUFBTCxFQUFBQSxFQUFBMEIsS0FBQW5CLEVBQUFJLElBQUEsTUFBQWMsVUFBQSx3Q0FBQXpCLEVBQUEyQixLQUFBLE9BQUEzQixFQUFBVyxFQUFBWCxFQUFBNEIsTUFBQXBCLEVBQUEsSUFBQUEsRUFBQSxZQUFBQSxJQUFBUixFQUFBTyxFQUFBLFNBQUFQLEVBQUEwQixLQUFBbkIsR0FBQUMsRUFBQSxJQUFBRyxFQUFBYyxVQUFBLG9DQUFBcEIsRUFBQSxZQUFBRyxFQUFBLEdBQUFELEVBQUFSLENBQUEsVUFBQUMsR0FBQWlCLEVBQUFDLEVBQUFmLEVBQUEsR0FBQVEsRUFBQVYsRUFBQXlCLEtBQUF2QixFQUFBZSxNQUFBRSxFQUFBLFlBQUFwQixHQUFBTyxFQUFBUixFQUFBUyxFQUFBLEVBQUFHLEVBQUFYLENBQUEsU0FBQWUsRUFBQSxVQUFBYSxNQUFBNUIsRUFBQTJCLEtBQUFWLEVBQUEsR0FBQWhCLEVBQUFJLEVBQUFFLElBQUEsR0FBQUksQ0FBQSxLQUFBUyxFQUFBLFlBQUFWLElBQUEsVUFBQW1CLElBQUEsVUFBQUMsSUFBQSxDQUFBOUIsRUFBQVksT0FBQW1CLGVBQUEsSUFBQXZCLEVBQUEsR0FBQUwsR0FBQUgsRUFBQUEsRUFBQSxHQUFBRyxRQUFBVyxFQUFBZCxFQUFBLEdBQUFHLEVBQUEseUJBQUFILEdBQUFXLEVBQUFtQixFQUFBckIsVUFBQUMsRUFBQUQsVUFBQUcsT0FBQUMsT0FBQUwsR0FBQSxTQUFBTyxFQUFBaEIsR0FBQSxPQUFBYSxPQUFBb0IsZUFBQXBCLE9BQUFvQixlQUFBakMsRUFBQStCLElBQUEvQixFQUFBa0MsVUFBQUgsRUFBQWhCLEVBQUFmLEVBQUFNLEVBQUEsc0JBQUFOLEVBQUFVLFVBQUFHLE9BQUFDLE9BQUFGLEdBQUFaLENBQUEsUUFBQThCLEVBQUFwQixVQUFBcUIsRUFBQWhCLEVBQUFILEVBQUEsY0FBQW1CLEdBQUFoQixFQUFBZ0IsRUFBQSxjQUFBRCxHQUFBQSxFQUFBSyxZQUFBLG9CQUFBcEIsRUFBQWdCLEVBQUF6QixFQUFBLHFCQUFBUyxFQUFBSCxHQUFBRyxFQUFBSCxFQUFBTixFQUFBLGFBQUFTLEVBQUFILEVBQUFSLEVBQUEseUJBQUFXLEVBQUFILEVBQUEsb0RBQUF3QixFQUFBLGtCQUFBQyxFQUFBN0IsRUFBQThCLEVBQUF0QixFQUFBLGNBQUFELEVBQUFmLEVBQUFFLEVBQUFFLEVBQUFILEdBQUEsSUFBQU8sRUFBQUssT0FBQTBCLGVBQUEsSUFBQS9CLEVBQUEsZ0JBQUFSLEdBQUFRLEVBQUEsRUFBQU8sRUFBQSxTQUFBZixFQUFBRSxFQUFBRSxFQUFBSCxHQUFBLEdBQUFDLEVBQUFNLEVBQUFBLEVBQUFSLEVBQUFFLEVBQUEsQ0FBQTJCLE1BQUF6QixFQUFBb0MsWUFBQXZDLEVBQUF3QyxjQUFBeEMsRUFBQXlDLFVBQUF6QyxJQUFBRCxFQUFBRSxHQUFBRSxNQUFBLEtBQUFFLEVBQUEsU0FBQUosRUFBQUUsR0FBQVcsRUFBQWYsRUFBQUUsRUFBQSxTQUFBRixHQUFBLFlBQUEyQyxRQUFBekMsRUFBQUUsRUFBQUosRUFBQSxJQUFBTSxFQUFBLFVBQUFBLEVBQUEsV0FBQUEsRUFBQSxjQUFBUyxFQUFBZixFQUFBRSxFQUFBRSxFQUFBSCxFQUFBLFVBQUEyQyxFQUFBeEMsRUFBQUgsRUFBQUQsRUFBQUUsRUFBQUksRUFBQWUsRUFBQVosR0FBQSxRQUFBRCxFQUFBSixFQUFBaUIsR0FBQVosR0FBQUcsRUFBQUosRUFBQXFCLEtBQUEsT0FBQXpCLEdBQUEsWUFBQUosRUFBQUksRUFBQSxDQUFBSSxFQUFBb0IsS0FBQTNCLEVBQUFXLEdBQUFpQyxRQUFBQyxRQUFBbEMsR0FBQW1DLEtBQUE3QyxFQUFBSSxFQUFBLFVBQUEwQyxFQUFBNUMsR0FBQSxzQkFBQUgsRUFBQSxLQUFBRCxFQUFBaUQsVUFBQSxXQUFBSixRQUFBLFNBQUEzQyxFQUFBSSxHQUFBLElBQUFlLEVBQUFqQixFQUFBOEMsTUFBQWpELEVBQUFELEdBQUEsU0FBQW1ELEVBQUEvQyxHQUFBd0MsRUFBQXZCLEVBQUFuQixFQUFBSSxFQUFBNkMsRUFBQUMsRUFBQSxPQUFBaEQsRUFBQSxVQUFBZ0QsRUFBQWhELEdBQUF3QyxFQUFBdkIsRUFBQW5CLEVBQUFJLEVBQUE2QyxFQUFBQyxFQUFBLFFBQUFoRCxFQUFBLENBQUErQyxPQUFBLGVBQUFFLEVBQUFyRCxFQUFBRSxHQUFBLFFBQUFELEVBQUEsRUFBQUEsRUFBQUMsRUFBQXNCLE9BQUF2QixJQUFBLEtBQUFLLEVBQUFKLEVBQUFELEdBQUFLLEVBQUFrQyxXQUFBbEMsRUFBQWtDLGFBQUEsRUFBQWxDLEVBQUFtQyxjQUFBLFlBQUFuQyxJQUFBQSxFQUFBb0MsVUFBQSxHQUFBN0IsT0FBQTBCLGVBQUF2QyxFQUFBc0QsRUFBQWhELEVBQUFpRCxLQUFBakQsRUFBQSxXQUFBa0QsRUFBQXhELEVBQUFFLEVBQUFELEdBQUEsT0FBQUMsRUFBQW9ELEVBQUFwRCxNQUFBRixFQUFBYSxPQUFBMEIsZUFBQXZDLEVBQUFFLEVBQUEsQ0FBQTJCLE1BQUE1QixFQUFBdUMsWUFBQSxFQUFBQyxjQUFBLEVBQUFDLFVBQUEsSUFBQTFDLEVBQUFFLEdBQUFELEVBQUFELENBQUEsVUFBQXNELEVBQUFyRCxHQUFBLElBQUFPLEVBQUEsU0FBQVAsR0FBQSxhQUFBd0QsRUFBQXhELEtBQUFBLEVBQUEsT0FBQUEsRUFBQSxJQUFBRCxFQUFBQyxFQUFBRSxPQUFBdUQsYUFBQSxZQUFBMUQsRUFBQSxLQUFBUSxFQUFBUixFQUFBMkIsS0FBQTFCLEVBQUFDLFVBQUEsYUFBQXVELEVBQUFqRCxHQUFBLE9BQUFBLEVBQUEsVUFBQWtCLFVBQUEsdURBQUFpQyxPQUFBMUQsRUFBQSxDQUFBMkQsQ0FBQTNELEdBQUEsZ0JBQUF3RCxFQUFBakQsR0FBQUEsRUFBQUEsRUFBQSxHQUNBLElBRU1xRCxFQUFhLFdBbUhOQyxFQUFVLElBakhILFdBQ21CLE9BTnZDOUQsRUFLb0IsU0FBQStELEtBTHBCLFNBQUExQyxFQUFBakIsR0FBQSxLQUFBaUIsYUFBQWpCLEdBQUEsVUFBQXNCLFVBQUEscUNBS29Cc0MsQ0FBQSxLQUFBRCxHQUFBUCxFQUFBLFVBQ2UsS0FBSSxFQU52Q3RELEVBTXVDLEVBQUFxRCxJQUFBLE9BQUExQixPQUFBb0MsRUFBQWpCLEVBQUFaLElBQUFFLEVBRXJDLFNBQUE0QixJQUFBLElBQUFDLEVBQUEsWUFBQS9CLElBQUFDLEVBQUEsU0FBQStCLEdBQUEsY0FBQUEsRUFBQWhFLEVBQUEsT0FBQWdFLEVBQUEvQyxFQUFBLEVBQ1MsSUFBSXdCLFFBQVEsU0FBQ0MsRUFBU3VCLEdBQzNCLElBQU1DLEVBQVVDLFVBQVVDLEtBVGhCLFNBQ0csR0FVYkYsRUFBUUcsUUFBVSxrQkFBTUosRUFBT0MsRUFBUUksTUFBTSxFQUM3Q0osRUFBUUssVUFBWSxXQUNsQlIsRUFBS1MsR0FBS04sRUFBUU8sT0FDbEIvQixHQUNGLEVBRUF3QixFQUFRUSxnQkFBa0IsU0FBQ0MsR0FDekIsSUFBTUgsRUFBTUcsRUFBTUMsT0FBNEJILE9BQ3pDRCxFQUFHSyxpQkFBaUJDLFNBQVNyQixJQUNoQ2UsRUFBR08sa0JBQWtCdEIsRUFFekIsQ0FDRixHQUFFLEVBQUFLLEVBQUEsSUFDSCxXQWpCUyxPQUFBRCxFQUFBZixNQUFDLEtBQURELFVBQUEsS0FBQU0sSUFBQSxVQUFBMUIsT0FBQXVELEVBQUFwQyxFQUFBWixJQUFBRSxFQW1CVixTQUFBK0MsSUFBQSxJQUFBQyxFQUFBLFlBQUFsRCxJQUFBQyxFQUFBLFNBQUFrRCxHQUFBLGNBQUFBLEVBQUFuRixHQUFBLFVBQ09vRixLQUFLWixHQUFJLENBQUZXLEVBQUFuRixFQUFBLGVBQUFtRixFQUFBbkYsRUFBQSxFQUFRb0YsS0FBS0MsT0FBTSxjQUFBRixFQUFBbEUsRUFBQSxFQUV4QixJQUFJd0IsUUFBUSxTQUFDQyxFQUFTdUIsR0FDM0IsSUFFTUMsRUFGY2dCLEVBQUtWLEdBQUljLFlBQVksQ0FBQzdCLEdBQWEsWUFDN0I4QixZQUFZOUIsR0FDaEIrQixJQUFJLFFBRTFCdEIsRUFBUUcsUUFBVSxrQkFBTUosRUFBT0MsRUFBUUksTUFBTSxFQUM3Q0osRUFBUUssVUFBWSxXQWVsQjdCLEVBQVF3QixFQUFRTyxRQWRpQixDQUMvQmdCLE1BQU8sR0FDUEMsWUFBYSxHQUNiQyxXQUFZLENBQ1YsQ0FBRUMsR0FBSSxVQUFXQyxLQUFNLFVBQVdDLE1BQU8sVUFBV0MsV0FBVyxHQUMvRCxDQUFFSCxHQUFJLE9BQVFDLEtBQU0sT0FBUUMsTUFBTyxXQUNuQyxDQUFFRixHQUFJLFdBQVlDLEtBQU0sV0FBWUMsTUFBTyxXQUMzQyxDQUFFRixHQUFJLFdBQVlDLEtBQU0sV0FBWUMsTUFBTyxZQUU3Q0UsU0FBVSxDQUNSQyxnQkFBaUIsVUFDakJDLGVBQWUsSUFJckIsQ0FDRixJQUFFLEVBQUFqQixFQUFBLFNBQ0gsV0EzQlksT0FBQUQsRUFBQWxDLE1BQUMsS0FBREQsVUFBQSxLQUFBTSxJQUFBLFdBQUExQixPQUFBMEUsRUFBQXZELEVBQUFaLElBQUFFLEVBNkJiLFNBQUFrRSxFQUFlQyxHQUFpQixJQUFBQyxFQUFBLFlBQUF0RSxJQUFBQyxFQUFBLFNBQUFzRSxHQUFBLGNBQUFBLEVBQUF2RyxHQUFBLFVBQ3pCb0YsS0FBS1osR0FBSSxDQUFGK0IsRUFBQXZHLEVBQUEsZUFBQXVHLEVBQUF2RyxFQUFBLEVBQVFvRixLQUFLQyxPQUFNLGNBQUFrQixFQUFBdEYsRUFBQSxFQUV4QixJQUFJd0IsUUFBUSxTQUFDQyxFQUFTdUIsR0FDM0IsSUFFTUMsRUFGY29DLEVBQUs5QixHQUFJYyxZQUFZLENBQUM3QixHQUFhLGFBQzdCOEIsWUFBWTlCLEdBQ2hCK0MsSUFBSUgsRUFBTSxRQUVoQ25DLEVBQVFHLFFBQVUsa0JBQU1KLEVBQU9DLEVBQVFJLE1BQU0sRUFDN0NKLEVBQVFLLFVBQVksa0JBQU03QixHQUFTLENBQ3JDLElBQUUsRUFBQTBELEVBQUEsU0FDSCxTQVhhSyxHQUFBLE9BQUFOLEVBQUFyRCxNQUFDLEtBQURELFVBQUEsS0FBQU0sSUFBQSxVQUFBMUIsT0FBQWlGLEVBQUE5RCxFQUFBWixJQUFBRSxFQWFkLFNBQUF5RSxFQUFjQyxHQUFlLElBQUFQLEVBQUEsT0FBQXJFLElBQUFDLEVBQUEsU0FBQTRFLEdBQUEsY0FBQUEsRUFBQTdHLEdBQUEsY0FBQTZHLEVBQUE3RyxFQUFBLEVBQ1JvRixLQUFLMEIsVUFBUyxPQUNYLE9BRGhCVCxFQUFJUSxFQUFBN0YsR0FDTHlFLE1BQU1zQixLQUFLSCxHQUFNQyxFQUFBN0csRUFBQSxFQUNoQm9GLEtBQUs0QixTQUFTWCxHQUFLLGNBQUFRLEVBQUE1RixFQUFBLEtBQUEwRixFQUFBLFNBQzFCLFNBSllNLEdBQUEsT0FBQVAsRUFBQTVELE1BQUMsS0FBREQsVUFBQSxLQUFBTSxJQUFBLGFBQUExQixPQUFBeUYsRUFBQXRFLEVBQUFaLElBQUFFLEVBTWIsU0FBQWlGLEVBQWlCQyxFQUFnQkMsR0FBMkIsSUFBQWhCLEVBQUFpQixFQUFBLE9BQUF0RixJQUFBQyxFQUFBLFNBQUFzRixHQUFBLGNBQUFBLEVBQUF2SCxHQUFBLGNBQUF1SCxFQUFBdkgsRUFBQSxFQUN2Q29GLEtBQUswQixVQUFTLE9BQ2lDLEdBRDVEVCxFQUFJa0IsRUFBQXZHLEdBRVMsS0FEYnNHLEVBQVlqQixFQUFLWixNQUFNK0IsVUFBVSxTQUFBWixHQUFJLE9BQUlBLEVBQUtoQixLQUFPd0IsQ0FBTSxJQUM3QyxDQUFBRyxFQUFBdkgsRUFBQSxRQUNzRSxPQUF4RnFHLEVBQUtaLE1BQU02QixHQUFVRyxFQUFBQSxFQUFBQSxFQUFBLEdBQVFwQixFQUFLWixNQUFNNkIsSUFBZUQsR0FBTyxJQUFFSyxVQUFXLElBQUlDLE9BQVNKLEVBQUF2SCxFQUFBLEVBQ2xGb0YsS0FBSzRCLFNBQVNYLEdBQUssY0FBQWtCLEVBQUF0RyxFQUFBLEtBQUFrRyxFQUFBLFNBRTVCLFNBUGVTLEVBQUFDLEdBQUEsT0FBQVgsRUFBQXBFLE1BQUMsS0FBREQsVUFBQSxLQUFBTSxJQUFBLGFBQUExQixPQUFBcUcsRUFBQWxGLEVBQUFaLElBQUFFLEVBU2hCLFNBQUE2RixFQUFpQlgsR0FBYyxJQUFBZixFQUFBLE9BQUFyRSxJQUFBQyxFQUFBLFNBQUErRixHQUFBLGNBQUFBLEVBQUFoSSxHQUFBLGNBQUFnSSxFQUFBaEksRUFBQSxFQUNWb0YsS0FBSzBCLFVBQVMsT0FDMEIsT0FEckRULEVBQUkyQixFQUFBaEgsR0FDTHlFLE1BQVFZLEVBQUtaLE1BQU13QyxPQUFPLFNBQUFyQixHQUFJLE9BQUlBLEVBQUtoQixLQUFPd0IsQ0FBTSxHQUFFWSxFQUFBaEksRUFBQSxFQUNyRG9GLEtBQUs0QixTQUFTWCxHQUFLLGNBQUEyQixFQUFBL0csRUFBQSxLQUFBOEcsRUFBQSxTQUMxQixTQUplRyxHQUFBLE9BQUFKLEVBQUFoRixNQUFDLEtBQURELFVBQUEsS0FBQU0sSUFBQSxnQkFBQTFCLE9BQUEwRyxFQUFBdkYsRUFBQVosSUFBQUUsRUFNaEIsU0FBQWtHLEVBQW9CQyxHQUFzQixJQUFBaEMsRUFBQSxPQUFBckUsSUFBQUMsRUFBQSxTQUFBcUcsR0FBQSxjQUFBQSxFQUFBdEksR0FBQSxjQUFBc0ksRUFBQXRJLEVBQUEsRUFDckJvRixLQUFLMEIsVUFBUyxPQUNDLE9BRDVCVCxFQUFJaUMsRUFBQXRILEdBQ0wwRSxZQUFZcUIsS0FBS3NCLEdBQVlDLEVBQUF0SSxFQUFBLEVBQzVCb0YsS0FBSzRCLFNBQVNYLEdBQUssY0FBQWlDLEVBQUFySCxFQUFBLEtBQUFtSCxFQUFBLFNBQzFCLFNBSmtCRyxHQUFBLE9BQUFKLEVBQUFyRixNQUFDLEtBQURELFVBQUEsS0FBQU0sSUFBQSxtQkFBQTFCLE9BQUErRyxFQUFBNUYsRUFBQVosSUFBQUUsRUFNbkIsU0FBQXVHLEVBQXVCQyxFQUFzQnJCLEdBQTRCLElBQUFoQixFQUFBc0MsRUFBQSxPQUFBM0csSUFBQUMsRUFBQSxTQUFBMkcsR0FBQSxjQUFBQSxFQUFBNUksR0FBQSxjQUFBNEksRUFBQTVJLEVBQUEsRUFDcERvRixLQUFLMEIsVUFBUyxPQUNpRCxHQUQ1RVQsRUFBSXVDLEVBQUE1SCxHQUVlLEtBRG5CMkgsRUFBa0J0QyxFQUFLWCxZQUFZOEIsVUFBVSxTQUFBcUIsR0FBRyxPQUFJQSxFQUFJakQsS0FBTzhDLENBQVksSUFDdkQsQ0FBQUUsRUFBQTVJLEVBQUEsUUFDd0YsT0FBaEhxRyxFQUFLWCxZQUFZaUQsR0FBZ0JsQixFQUFBQSxFQUFBQSxFQUFBLEdBQVFwQixFQUFLWCxZQUFZaUQsSUFBcUJ0QixHQUFPLElBQUVLLFVBQVcsSUFBSUMsT0FBU2lCLEVBQUE1SSxFQUFBLEVBQzFHb0YsS0FBSzRCLFNBQVNYLEdBQUssY0FBQXVDLEVBQUEzSCxFQUFBLEtBQUF3SCxFQUFBLFNBRTVCLFNBUHFCSyxFQUFBQyxHQUFBLE9BQUFQLEVBQUExRixNQUFDLEtBQURELFVBQUEsS0FBQU0sSUFBQSxtQkFBQTFCLE9BQUF1SCxFQUFBcEcsRUFBQVosSUFBQUUsRUFTdEIsU0FBQStHLEVBQXVCUCxHQUFvQixJQUFBckMsRUFBQSxPQUFBckUsSUFBQUMsRUFBQSxTQUFBaUgsR0FBQSxjQUFBQSxFQUFBbEosR0FBQSxjQUFBa0osRUFBQWxKLEVBQUEsRUFDdEJvRixLQUFLMEIsVUFBUyxPQU85QixPQVBHVCxFQUFJNkMsRUFBQWxJLEdBQ0wwRSxZQUFjVyxFQUFLWCxZQUFZdUMsT0FBTyxTQUFBWSxHQUFHLE9BQUlBLEVBQUlqRCxLQUFPOEMsQ0FBWSxHQUV6RXJDLEVBQUtaLE1BQU0wRCxRQUFRLFNBQUF2QyxHQUNiQSxFQUFLOEIsZUFBaUJBLElBQ3hCOUIsRUFBSzhCLGtCQUFlVSxFQUV4QixHQUFHRixFQUFBbEosRUFBQSxFQUNHb0YsS0FBSzRCLFNBQVNYLEdBQUssY0FBQTZDLEVBQUFqSSxFQUFBLEtBQUFnSSxFQUFBLFNBQzFCLFNBVnFCSSxHQUFBLE9BQUFMLEVBQUFsRyxNQUFDLEtBQURELFVBQUEsS0F6R3hCL0MsR0FBQW1ELEVBQUFyRCxFQUFBVSxVQUFBUixHQUFBVyxPQUFBMEIsZUFBQXZDLEVBQUEsYUFBQTBDLFVBQUEsSUFBQTFDLEVBQUEsSUFBQUEsRUFBQUUsRUFnR3dCa0osRUFOSFIsRUFOSEwsRUFUQUwsRUFOSFosRUFiQ1IsRUE3QkRQLEVBbkJIbkIsRUFGMkJuQixDQW1HZixDQXBHSixJLG1QQ0xwQixJQUFBakUsRUFBQUMsRUFBQUMsRUFBQSxtQkFBQUMsT0FBQUEsT0FBQSxHQUFBQyxFQUFBRixFQUFBRyxVQUFBLGFBQUFDLEVBQUFKLEVBQUFLLGFBQUEseUJBQUFDLEVBQUFOLEVBQUFFLEVBQUFFLEVBQUFFLEdBQUEsSUFBQUMsRUFBQUwsR0FBQUEsRUFBQU0scUJBQUFDLEVBQUFQLEVBQUFPLEVBQUFDLEVBQUFDLE9BQUFDLE9BQUFMLEVBQUFDLFdBQUEsT0FBQUssRUFBQUgsRUFBQSxtQkFBQVYsRUFBQUUsRUFBQUUsR0FBQSxJQUFBRSxFQUFBQyxFQUFBRyxFQUFBSSxFQUFBLEVBQUFDLEVBQUFYLEdBQUEsR0FBQVksR0FBQSxFQUFBQyxFQUFBLENBQUFGLEVBQUEsRUFBQWIsRUFBQSxFQUFBZ0IsRUFBQXBCLEVBQUFxQixFQUFBQyxFQUFBTixFQUFBTSxFQUFBQyxLQUFBdkIsRUFBQSxHQUFBc0IsRUFBQSxTQUFBckIsRUFBQUMsR0FBQSxPQUFBTSxFQUFBUCxFQUFBUSxFQUFBLEVBQUFHLEVBQUFaLEVBQUFtQixFQUFBZixFQUFBRixFQUFBbUIsQ0FBQSxZQUFBQyxFQUFBcEIsRUFBQUUsR0FBQSxJQUFBSyxFQUFBUCxFQUFBVSxFQUFBUixFQUFBSCxFQUFBLEdBQUFpQixHQUFBRixJQUFBVixHQUFBTCxFQUFBZ0IsRUFBQU8sT0FBQXZCLElBQUEsS0FBQUssRUFBQUUsRUFBQVMsRUFBQWhCLEdBQUFxQixFQUFBSCxFQUFBRixFQUFBUSxFQUFBakIsRUFBQSxHQUFBTixFQUFBLEdBQUFJLEVBQUFtQixJQUFBckIsS0FBQVEsRUFBQUosR0FBQUMsRUFBQUQsRUFBQSxPQUFBQyxFQUFBLE1BQUFELEVBQUEsR0FBQUEsRUFBQSxHQUFBUixHQUFBUSxFQUFBLElBQUFjLEtBQUFoQixFQUFBSixFQUFBLEdBQUFvQixFQUFBZCxFQUFBLEtBQUFDLEVBQUEsRUFBQVUsRUFBQUMsRUFBQWhCLEVBQUFlLEVBQUFmLEVBQUFJLEVBQUEsSUFBQWMsRUFBQUcsSUFBQW5CLEVBQUFKLEVBQUEsR0FBQU0sRUFBQSxHQUFBSixHQUFBQSxFQUFBcUIsS0FBQWpCLEVBQUEsR0FBQU4sRUFBQU0sRUFBQSxHQUFBSixFQUFBZSxFQUFBZixFQUFBcUIsRUFBQWhCLEVBQUEsT0FBQUgsR0FBQUosRUFBQSxTQUFBbUIsRUFBQSxNQUFBSCxHQUFBLEVBQUFkLENBQUEsaUJBQUFFLEVBQUFXLEVBQUFRLEdBQUEsR0FBQVQsRUFBQSxRQUFBVSxVQUFBLG9DQUFBUixHQUFBLElBQUFELEdBQUFLLEVBQUFMLEVBQUFRLEdBQUFoQixFQUFBUSxFQUFBTCxFQUFBYSxHQUFBeEIsRUFBQVEsRUFBQSxFQUFBVCxFQUFBWSxLQUFBTSxHQUFBLENBQUFWLElBQUFDLEVBQUFBLEVBQUEsR0FBQUEsRUFBQSxJQUFBVSxFQUFBZixHQUFBLEdBQUFrQixFQUFBYixFQUFBRyxJQUFBTyxFQUFBZixFQUFBUSxFQUFBTyxFQUFBQyxFQUFBUixHQUFBLE9BQUFJLEVBQUEsRUFBQVIsRUFBQSxJQUFBQyxJQUFBSCxFQUFBLFFBQUFMLEVBQUFPLEVBQUFGLEdBQUEsTUFBQUwsRUFBQUEsRUFBQTBCLEtBQUFuQixFQUFBSSxJQUFBLE1BQUFjLFVBQUEsd0NBQUF6QixFQUFBMkIsS0FBQSxPQUFBM0IsRUFBQVcsRUFBQVgsRUFBQTRCLE1BQUFwQixFQUFBLElBQUFBLEVBQUEsWUFBQUEsSUFBQVIsRUFBQU8sRUFBQSxTQUFBUCxFQUFBMEIsS0FBQW5CLEdBQUFDLEVBQUEsSUFBQUcsRUFBQWMsVUFBQSxvQ0FBQXBCLEVBQUEsWUFBQUcsRUFBQSxHQUFBRCxFQUFBUixDQUFBLFVBQUFDLEdBQUFpQixFQUFBQyxFQUFBZixFQUFBLEdBQUFRLEVBQUFWLEVBQUF5QixLQUFBdkIsRUFBQWUsTUFBQUUsRUFBQSxZQUFBcEIsR0FBQU8sRUFBQVIsRUFBQVMsRUFBQSxFQUFBRyxFQUFBWCxDQUFBLFNBQUFlLEVBQUEsVUFBQWEsTUFBQTVCLEVBQUEyQixLQUFBVixFQUFBLEdBQUFoQixFQUFBSSxFQUFBRSxJQUFBLEdBQUFJLENBQUEsS0FBQVMsRUFBQSxZQUFBVixJQUFBLFVBQUFtQixJQUFBLFVBQUFDLElBQUEsQ0FBQTlCLEVBQUFZLE9BQUFtQixlQUFBLElBQUF2QixFQUFBLEdBQUFMLEdBQUFILEVBQUFBLEVBQUEsR0FBQUcsUUFBQVcsRUFBQWQsRUFBQSxHQUFBRyxFQUFBLHlCQUFBSCxHQUFBVyxFQUFBbUIsRUFBQXJCLFVBQUFDLEVBQUFELFVBQUFHLE9BQUFDLE9BQUFMLEdBQUEsU0FBQU8sRUFBQWhCLEdBQUEsT0FBQWEsT0FBQW9CLGVBQUFwQixPQUFBb0IsZUFBQWpDLEVBQUErQixJQUFBL0IsRUFBQWtDLFVBQUFILEVBQUFoQixFQUFBZixFQUFBTSxFQUFBLHNCQUFBTixFQUFBVSxVQUFBRyxPQUFBQyxPQUFBRixHQUFBWixDQUFBLFFBQUE4QixFQUFBcEIsVUFBQXFCLEVBQUFoQixFQUFBSCxFQUFBLGNBQUFtQixHQUFBaEIsRUFBQWdCLEVBQUEsY0FBQUQsR0FBQUEsRUFBQUssWUFBQSxvQkFBQXBCLEVBQUFnQixFQUFBekIsRUFBQSxxQkFBQVMsRUFBQUgsR0FBQUcsRUFBQUgsRUFBQU4sRUFBQSxhQUFBUyxFQUFBSCxFQUFBUixFQUFBLHlCQUFBVyxFQUFBSCxFQUFBLG9EQUFBd0IsRUFBQSxrQkFBQUMsRUFBQTdCLEVBQUE4QixFQUFBdEIsRUFBQSxjQUFBRCxFQUFBZixFQUFBRSxFQUFBRSxFQUFBSCxHQUFBLElBQUFPLEVBQUFLLE9BQUEwQixlQUFBLElBQUEvQixFQUFBLGdCQUFBUixHQUFBUSxFQUFBLEVBQUFPLEVBQUEsU0FBQWYsRUFBQUUsRUFBQUUsRUFBQUgsR0FBQSxHQUFBQyxFQUFBTSxFQUFBQSxFQUFBUixFQUFBRSxFQUFBLENBQUEyQixNQUFBekIsRUFBQW9DLFlBQUF2QyxFQUFBd0MsY0FBQXhDLEVBQUF5QyxVQUFBekMsSUFBQUQsRUFBQUUsR0FBQUUsTUFBQSxLQUFBRSxFQUFBLFNBQUFKLEVBQUFFLEdBQUFXLEVBQUFmLEVBQUFFLEVBQUEsU0FBQUYsR0FBQSxZQUFBMkMsUUFBQXpDLEVBQUFFLEVBQUFKLEVBQUEsSUFBQU0sRUFBQSxVQUFBQSxFQUFBLFdBQUFBLEVBQUEsY0FBQVMsRUFBQWYsRUFBQUUsRUFBQUUsRUFBQUgsRUFBQSxVQUFBMkMsRUFBQXhDLEVBQUFILEVBQUFELEVBQUFFLEVBQUFJLEVBQUFlLEVBQUFaLEdBQUEsUUFBQUQsRUFBQUosRUFBQWlCLEdBQUFaLEdBQUFHLEVBQUFKLEVBQUFxQixLQUFBLE9BQUF6QixHQUFBLFlBQUFKLEVBQUFJLEVBQUEsQ0FBQUksRUFBQW9CLEtBQUEzQixFQUFBVyxHQUFBaUMsUUFBQUMsUUFBQWxDLEdBQUFtQyxLQUFBN0MsRUFBQUksRUFBQSxVQUFBMEMsRUFBQTVDLEdBQUEsc0JBQUFILEVBQUEsS0FBQUQsRUFBQWlELFVBQUEsV0FBQUosUUFBQSxTQUFBM0MsRUFBQUksR0FBQSxJQUFBZSxFQUFBakIsRUFBQThDLE1BQUFqRCxFQUFBRCxHQUFBLFNBQUFtRCxFQUFBL0MsR0FBQXdDLEVBQUF2QixFQUFBbkIsRUFBQUksRUFBQTZDLEVBQUFDLEVBQUEsT0FBQWhELEVBQUEsVUFBQWdELEVBQUFoRCxHQUFBd0MsRUFBQXZCLEVBQUFuQixFQUFBSSxFQUFBNkMsRUFBQUMsRUFBQSxRQUFBaEQsRUFBQSxDQUFBK0MsT0FBQSxlQUFBRSxFQUFBckQsRUFBQUUsR0FBQSxRQUFBRCxFQUFBLEVBQUFBLEVBQUFDLEVBQUFzQixPQUFBdkIsSUFBQSxLQUFBSyxFQUFBSixFQUFBRCxHQUFBSyxFQUFBa0MsV0FBQWxDLEVBQUFrQyxhQUFBLEVBQUFsQyxFQUFBbUMsY0FBQSxZQUFBbkMsSUFBQUEsRUFBQW9DLFVBQUEsR0FBQTdCLE9BQUEwQixlQUFBdkMsRUFBQXNELEVBQUFoRCxFQUFBaUQsS0FBQWpELEVBQUEsV0FBQWdELEVBQUFyRCxHQUFBLElBQUFPLEVBQUEsU0FBQVAsR0FBQSxhQUFBd0QsRUFBQXhELEtBQUFBLEVBQUEsT0FBQUEsRUFBQSxJQUFBRCxFQUFBQyxFQUFBRSxPQUFBdUQsYUFBQSxZQUFBMUQsRUFBQSxLQUFBUSxFQUFBUixFQUFBMkIsS0FBQTFCLEVBQUFDLFVBQUEsYUFBQXVELEVBQUFqRCxHQUFBLE9BQUFBLEVBQUEsVUFBQWtCLFVBQUEsdURBQUFpQyxPQUFBMUQsRUFBQSxDQUFBMkQsQ0FBQTNELEdBQUEsZ0JBQUF3RCxFQUFBakQsR0FBQUEsRUFBQUEsRUFBQSxHQUtPLElBa0ZNa0osRUFBWSxJQWxGSCxXQU9uQixPQVpIMUosRUFTRSxTQUFBMkosSUFBbUMsSUFBdkJDLEVBQWdCM0csVUFBQXpCLE9BQUEsUUFBQWdJLElBQUF2RyxVQUFBLEdBQUFBLFVBQUEsR0FBRyxDQUFDLEdBVGxDLFNBQUE1QixFQUFBakIsR0FBQSxLQUFBaUIsYUFBQWpCLEdBQUEsVUFBQXNCLFVBQUEscUNBU21Dc0MsQ0FBQSxLQUFBMkYsR0FDL0JuRSxLQUFLcUUsT0FBU0QsRUFBT0MsUUFBVSxHQUMvQnJFLEtBQUtzRSxNQUFRRixFQUFPRSxPQUFTLGVBQy9CLEVBWkY1SixFQVlHLEVBQUFxRCxJQUFBLGtCQUFBMUIsT0FBQWtJLEVBQUEvRyxFQUFBWixJQUFBRSxFQUVELFNBQUE0QixFQUFzQjhGLEVBQWlCQyxFQUFlQyxHQUFXLElBQUFDLEVBQUFDLEVBQUEsT0FBQWhJLElBQUFDLEVBQUEsU0FBQStCLEdBQUEsY0FBQUEsRUFBQWhFLEdBQUEsVUFHMURvRixLQUFLcUUsT0FBUSxDQUFGekYsRUFBQWhFLEVBQUEsZUFBQWdFLEVBQUEvQyxFQUFBLEVBQ1BtRSxLQUFLNkUsMkJBQTJCTCxFQUFTQyxFQUFPQyxJQUFJLGNBQUE5RixFQUFBbkQsRUFBQSxFQUFBbUQsRUFBQWhFLEVBQUEsRUFLcENvRixLQUFLOEUsV0FBV04sRUFBU0MsRUFBT0MsR0FBSSxPQUE3QyxPQUFSQyxFQUFRL0YsRUFBQWhELEVBQUFnRCxFQUFBL0MsRUFBQSxFQUNQOEksR0FBUSxPQUV1QyxPQUZ2Qy9GLEVBQUFuRCxFQUFBLEVBQUFtSixFQUFBaEcsRUFBQWhELEVBRWZtSixRQUFRN0YsTUFBTSxnQ0FBK0IwRixHQUFTaEcsRUFBQS9DLEVBQUEsRUFDL0NtRSxLQUFLNkUsMkJBQTJCTCxFQUFTQyxFQUFPQyxJQUFJLEVBQUFoRyxFQUFBLGlCQUU5RCxTQWZvQjJDLEVBQUFRLEVBQUFXLEdBQUEsT0FBQStCLEVBQUE3RyxNQUFDLEtBQURELFVBQUEsS0FBQU0sSUFBQSw2QkFBQTFCLE1BaUJyQixTQUFtQ21JLEVBQWlCQyxFQUFlQyxHQUNqRSxJQUFNTSxFQUFTLElBQUlDLElBQUlQLEdBQUtRLFNBQ3RCQyxFQUFnQlgsRUFBUXhJLE9BRzlCLE9BQUlnSixFQUFPSSxTQUFTLGNBQ1gsc0NBQVBDLE9BQTZDWixHQUNwQ08sRUFBT0ksU0FBUyxxQkFDbEIsa0VBQ0VKLEVBQU9JLFNBQVMsZUFBaUJKLEVBQU9JLFNBQVMsUUFDbkQsaUJBQVBDLE9BQXdCWixFQUFNYSxVQUFVLEVBQUcsSUFBRyxPQUNyQ04sRUFBT0ksU0FBUyxlQUNsQixrQkFBUEMsT0FBeUJaLEdBQ2hCTyxFQUFPSSxTQUFTLFNBQVdKLEVBQU9JLFNBQVMsV0FDN0MscUJBQVBDLE9BQTRCTCxHQUVyQixpQkFBUEssT0FBd0JMLEVBQU0sTUFBQUssT0FBS0UsS0FBS0MsTUFBTUwsRUFBZ0IsS0FBSSxlQUV0RSxHQUFDLENBQUFwSCxJQUFBLGFBQUExQixPQUFBb0osRUFBQWpJLEVBQUFaLElBQUFFLEVBRUQsU0FBQStDLEVBQXlCMkUsRUFBaUJDLEVBQWVDLEdBQVcsSUFBQWdCLEVBQUFDLEVBQUFoQixFQUFBMUQsRUFBQSxPQUFBckUsSUFBQUMsRUFBQSxTQUFBa0QsR0FBQSxjQUFBQSxFQUFBbkYsR0FBQSxPQU9sRSxPQUxNK0ssRUFBUyxxREFBSE4sT0FDUFosRUFBSyxXQUFBWSxPQUNQWCxFQUFHLGVBQUFXLE9BQ0NiLEVBQVFjLFVBQVUsRUFBRyxLQUFLLE9BRWpDdkYsRUFBQW5GLEVBQUEsRUFDdUJnTCxNQUFNLDZDQUE4QyxDQUN6RUMsT0FBUSxPQUNSQyxRQUFTLENBQ1AsY0FBaUIsVUFBRlQsT0FBWXJGLEtBQUtxRSxRQUNoQyxlQUFnQixvQkFFbEIwQixLQUFNQyxLQUFLQyxVQUFVLENBQ25CM0IsTUFBT3RFLEtBQUtzRSxNQUNaNEIsU0FBVSxDQUNSLENBQ0VDLEtBQU0sT0FDTjNCLFFBQVNtQixJQUdiUyxXQUFZLElBQ1pDLFlBQWEsT0FFZixPQWpCWSxPQUFSMUIsRUFBUTVFLEVBQUFuRSxFQUFBbUUsRUFBQW5GLEVBQUcsRUFtQkUrSixFQUFTMkIsT0FBTSxPQUF4QixPQUFKckYsRUFBSWxCLEVBQUFuRSxFQUFBbUUsRUFBQWxFLEVBQUEsR0FDWSxRQUFmNkosRUFBQXpFLEVBQUtzRixRQUFRLFVBQUUsSUFBQWIsR0FBUyxRQUFUQSxFQUFmQSxFQUFpQmMsZUFBTyxJQUFBZCxPQUFBLEVBQXhCQSxFQUEwQmxCLFVBQVd4RSxLQUFLNkUsMkJBQTJCTCxFQUFTQyxFQUFPQyxJQUFJLEVBQUE3RSxFQUFBLFNBQ2pHLFNBN0J1QjRDLEVBQUFLLEVBQUFLLEdBQUEsT0FBQXNDLEVBQUEvSCxNQUFDLEtBQURELFVBQUEsS0FBQU0sSUFBQSxlQUFBMUIsTUErQnhCLFNBQWFnSSxHQUNYckUsS0FBS3FFLE9BQVNBLENBQ2hCLElBcEZGM0osR0FBQW1ELEVBQUFyRCxFQUFBVSxVQUFBUixHQUFBVyxPQUFBMEIsZUFBQXZDLEVBQUEsYUFBQTBDLFVBQUEsSUFBQTFDLEVBQUEsSUFBQUEsRUFBQUUsRUFpREcrSyxFQXJDQWxCLENBd0VBLENBL0VtQixJLGFDTHRCLElBQUEvSixFQUFBQyxFQUFBQyxFQUFBLG1CQUFBQyxPQUFBQSxPQUFBLEdBQUFDLEVBQUFGLEVBQUFHLFVBQUEsYUFBQUMsRUFBQUosRUFBQUssYUFBQSx5QkFBQUMsRUFBQU4sRUFBQUUsRUFBQUUsRUFBQUUsR0FBQSxJQUFBQyxFQUFBTCxHQUFBQSxFQUFBTSxxQkFBQUMsRUFBQVAsRUFBQU8sRUFBQUMsRUFBQUMsT0FBQUMsT0FBQUwsRUFBQUMsV0FBQSxPQUFBSyxFQUFBSCxFQUFBLG1CQUFBVixFQUFBRSxFQUFBRSxHQUFBLElBQUFFLEVBQUFDLEVBQUFHLEVBQUFJLEVBQUEsRUFBQUMsRUFBQVgsR0FBQSxHQUFBWSxHQUFBLEVBQUFDLEVBQUEsQ0FBQUYsRUFBQSxFQUFBYixFQUFBLEVBQUFnQixFQUFBcEIsRUFBQXFCLEVBQUFDLEVBQUFOLEVBQUFNLEVBQUFDLEtBQUF2QixFQUFBLEdBQUFzQixFQUFBLFNBQUFyQixFQUFBQyxHQUFBLE9BQUFNLEVBQUFQLEVBQUFRLEVBQUEsRUFBQUcsRUFBQVosRUFBQW1CLEVBQUFmLEVBQUFGLEVBQUFtQixDQUFBLFlBQUFDLEVBQUFwQixFQUFBRSxHQUFBLElBQUFLLEVBQUFQLEVBQUFVLEVBQUFSLEVBQUFILEVBQUEsR0FBQWlCLEdBQUFGLElBQUFWLEdBQUFMLEVBQUFnQixFQUFBTyxPQUFBdkIsSUFBQSxLQUFBSyxFQUFBRSxFQUFBUyxFQUFBaEIsR0FBQXFCLEVBQUFILEVBQUFGLEVBQUFRLEVBQUFqQixFQUFBLEdBQUFOLEVBQUEsR0FBQUksRUFBQW1CLElBQUFyQixLQUFBUSxFQUFBSixHQUFBQyxFQUFBRCxFQUFBLE9BQUFDLEVBQUEsTUFBQUQsRUFBQSxHQUFBQSxFQUFBLEdBQUFSLEdBQUFRLEVBQUEsSUFBQWMsS0FBQWhCLEVBQUFKLEVBQUEsR0FBQW9CLEVBQUFkLEVBQUEsS0FBQUMsRUFBQSxFQUFBVSxFQUFBQyxFQUFBaEIsRUFBQWUsRUFBQWYsRUFBQUksRUFBQSxJQUFBYyxFQUFBRyxJQUFBbkIsRUFBQUosRUFBQSxHQUFBTSxFQUFBLEdBQUFKLEdBQUFBLEVBQUFxQixLQUFBakIsRUFBQSxHQUFBTixFQUFBTSxFQUFBLEdBQUFKLEVBQUFlLEVBQUFmLEVBQUFxQixFQUFBaEIsRUFBQSxPQUFBSCxHQUFBSixFQUFBLFNBQUFtQixFQUFBLE1BQUFILEdBQUEsRUFBQWQsQ0FBQSxpQkFBQUUsRUFBQVcsRUFBQVEsR0FBQSxHQUFBVCxFQUFBLFFBQUFVLFVBQUEsb0NBQUFSLEdBQUEsSUFBQUQsR0FBQUssRUFBQUwsRUFBQVEsR0FBQWhCLEVBQUFRLEVBQUFMLEVBQUFhLEdBQUF4QixFQUFBUSxFQUFBLEVBQUFULEVBQUFZLEtBQUFNLEdBQUEsQ0FBQVYsSUFBQUMsRUFBQUEsRUFBQSxHQUFBQSxFQUFBLElBQUFVLEVBQUFmLEdBQUEsR0FBQWtCLEVBQUFiLEVBQUFHLElBQUFPLEVBQUFmLEVBQUFRLEVBQUFPLEVBQUFDLEVBQUFSLEdBQUEsT0FBQUksRUFBQSxFQUFBUixFQUFBLElBQUFDLElBQUFILEVBQUEsUUFBQUwsRUFBQU8sRUFBQUYsR0FBQSxNQUFBTCxFQUFBQSxFQUFBMEIsS0FBQW5CLEVBQUFJLElBQUEsTUFBQWMsVUFBQSx3Q0FBQXpCLEVBQUEyQixLQUFBLE9BQUEzQixFQUFBVyxFQUFBWCxFQUFBNEIsTUFBQXBCLEVBQUEsSUFBQUEsRUFBQSxZQUFBQSxJQUFBUixFQUFBTyxFQUFBLFNBQUFQLEVBQUEwQixLQUFBbkIsR0FBQUMsRUFBQSxJQUFBRyxFQUFBYyxVQUFBLG9DQUFBcEIsRUFBQSxZQUFBRyxFQUFBLEdBQUFELEVBQUFSLENBQUEsVUFBQUMsR0FBQWlCLEVBQUFDLEVBQUFmLEVBQUEsR0FBQVEsRUFBQVYsRUFBQXlCLEtBQUF2QixFQUFBZSxNQUFBRSxFQUFBLFlBQUFwQixHQUFBTyxFQUFBUixFQUFBUyxFQUFBLEVBQUFHLEVBQUFYLENBQUEsU0FBQWUsRUFBQSxVQUFBYSxNQUFBNUIsRUFBQTJCLEtBQUFWLEVBQUEsR0FBQWhCLEVBQUFJLEVBQUFFLElBQUEsR0FBQUksQ0FBQSxLQUFBUyxFQUFBLFlBQUFWLElBQUEsVUFBQW1CLElBQUEsVUFBQUMsSUFBQSxDQUFBOUIsRUFBQVksT0FBQW1CLGVBQUEsSUFBQXZCLEVBQUEsR0FBQUwsR0FBQUgsRUFBQUEsRUFBQSxHQUFBRyxRQUFBVyxFQUFBZCxFQUFBLEdBQUFHLEVBQUEseUJBQUFILEdBQUFXLEVBQUFtQixFQUFBckIsVUFBQUMsRUFBQUQsVUFBQUcsT0FBQUMsT0FBQUwsR0FBQSxTQUFBTyxFQUFBaEIsR0FBQSxPQUFBYSxPQUFBb0IsZUFBQXBCLE9BQUFvQixlQUFBakMsRUFBQStCLElBQUEvQixFQUFBa0MsVUFBQUgsRUFBQWhCLEVBQUFmLEVBQUFNLEVBQUEsc0JBQUFOLEVBQUFVLFVBQUFHLE9BQUFDLE9BQUFGLEdBQUFaLENBQUEsUUFBQThCLEVBQUFwQixVQUFBcUIsRUFBQWhCLEVBQUFILEVBQUEsY0FBQW1CLEdBQUFoQixFQUFBZ0IsRUFBQSxjQUFBRCxHQUFBQSxFQUFBSyxZQUFBLG9CQUFBcEIsRUFBQWdCLEVBQUF6QixFQUFBLHFCQUFBUyxFQUFBSCxHQUFBRyxFQUFBSCxFQUFBTixFQUFBLGFBQUFTLEVBQUFILEVBQUFSLEVBQUEseUJBQUFXLEVBQUFILEVBQUEsb0RBQUF3QixFQUFBLGtCQUFBQyxFQUFBN0IsRUFBQThCLEVBQUF0QixFQUFBLGNBQUFELEVBQUFmLEVBQUFFLEVBQUFFLEVBQUFILEdBQUEsSUFBQU8sRUFBQUssT0FBQTBCLGVBQUEsSUFBQS9CLEVBQUEsZ0JBQUFSLEdBQUFRLEVBQUEsRUFBQU8sRUFBQSxTQUFBZixFQUFBRSxFQUFBRSxFQUFBSCxHQUFBLEdBQUFDLEVBQUFNLEVBQUFBLEVBQUFSLEVBQUFFLEVBQUEsQ0FBQTJCLE1BQUF6QixFQUFBb0MsWUFBQXZDLEVBQUF3QyxjQUFBeEMsRUFBQXlDLFVBQUF6QyxJQUFBRCxFQUFBRSxHQUFBRSxNQUFBLEtBQUFFLEVBQUEsU0FBQUosRUFBQUUsR0FBQVcsRUFBQWYsRUFBQUUsRUFBQSxTQUFBRixHQUFBLFlBQUEyQyxRQUFBekMsRUFBQUUsRUFBQUosRUFBQSxJQUFBTSxFQUFBLFVBQUFBLEVBQUEsV0FBQUEsRUFBQSxjQUFBUyxFQUFBZixFQUFBRSxFQUFBRSxFQUFBSCxFQUFBLFVBQUEyQyxFQUFBeEMsRUFBQUgsRUFBQUQsRUFBQUUsRUFBQUksRUFBQWUsRUFBQVosR0FBQSxRQUFBRCxFQUFBSixFQUFBaUIsR0FBQVosR0FBQUcsRUFBQUosRUFBQXFCLEtBQUEsT0FBQXpCLEdBQUEsWUFBQUosRUFBQUksRUFBQSxDQUFBSSxFQUFBb0IsS0FBQTNCLEVBQUFXLEdBQUFpQyxRQUFBQyxRQUFBbEMsR0FBQW1DLEtBQUE3QyxFQUFBSSxFQUFBLFVBQUEwQyxFQUFBNUMsR0FBQSxzQkFBQUgsRUFBQSxLQUFBRCxFQUFBaUQsVUFBQSxXQUFBSixRQUFBLFNBQUEzQyxFQUFBSSxHQUFBLElBQUFlLEVBQUFqQixFQUFBOEMsTUFBQWpELEVBQUFELEdBQUEsU0FBQW1ELEVBQUEvQyxHQUFBd0MsRUFBQXZCLEVBQUFuQixFQUFBSSxFQUFBNkMsRUFBQUMsRUFBQSxPQUFBaEQsRUFBQSxVQUFBZ0QsRUFBQWhELEdBQUF3QyxFQUFBdkIsRUFBQW5CLEVBQUFJLEVBQUE2QyxFQUFBQyxFQUFBLFFBQUFoRCxFQUFBLENBQUErQyxPQUFBLE1BMkVHLFNBRVk4SSxFQUFlaEUsRUFBQUssR0FBQSxPQUFBNEQsRUFBQWhKLE1BQUMsS0FBREQsVUFBQSxVQUFBaUosSUEwRTdCLE9BMUU2QkEsRUFBQWxKLEVBQUFaLElBQUFFLEVBQTlCLFNBQUFpRixFQUErQjRFLEVBQXNCQyxHQUFnQixJQUFBbEMsRUFBQUQsRUFBQW9DLEVBQUFsQyxFQUFBbUMsRUFBQUMsRUFBQUMsRUFBQWhDLEVBQUFpQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBLE9BQUF4SyxJQUFBQyxFQUFBLFNBQUFzRixHQUFBLGNBQUFBLEVBQUF2SCxHQUFBLE9BRTlCLEdBRC9COEosRUFBTWtDLEdBQVdELEVBQUlqQyxJQUNyQkQsRUFBUWtDLEVBQUlsQyxPQUFTLFdBRXRCQyxJQUFPQSxFQUFJMkMsV0FBVyxlQUFnQjNDLEVBQUkyQyxXQUFXLHVCQUFzQixDQUFBbEYsRUFBQXZILEVBQUEsUUFDakMsT0FBN0NtSyxRQUFRdUMsSUFBSSxpQ0FBaUNuRixFQUFBdEcsRUFBQSxVQU16QixPQU55QnNHLEVBQUExRyxFQUFBLEVBTXpDb0wsRUFBYyxHQUFFMUUsRUFBQTFHLEVBQUEsRUFBQTBHLEVBQUF2SCxFQUFBLEVBRUsyTSxPQUFPQyxLQUFLQyxZQUFZZCxFQUFJbkcsR0FBSyxDQUFFa0gsT0FBUSxtQkFBbUIsT0FBL0UvQyxFQUFReEMsRUFBQXZHLEVBQ2RpTCxHQUFjbEMsYUFBUSxFQUFSQSxFQUFVSCxVQUFXLEdBQUdyQyxFQUFBdkgsRUFBQSxlQUFBdUgsRUFBQTFHLEVBQUEsRUFBQTBMLEVBQUFoRixFQUFBdkcsRUFFdENtSixRQUFRdUMsSUFBSSxrQ0FBaUNILEdBQVMsT0FVeEQsT0FOSUwsRUFBVUgsRUFBSWdCLGNBRVYzQyxFQUFTLElBQUlDLElBQUlQLEdBQUtRLFNBQzVCNEIsRUFBVSw2Q0FBSHpCLE9BQWdETCxFQUFNLFdBRy9EN0MsRUFBQXZILEVBQUEsRUFDd0JzSixFQUFVMEQsZ0JBQWdCZixFQUFhcEMsRUFBT0MsR0FBSSxPQTBCMUUsT0ExQk1zQyxFQUFTN0UsRUFBQXZHLEVBR1RvSixFQUFTLElBQUlDLElBQUlQLEdBQUtRLFNBQ3hCK0IsRUFBb0IsVUFFcEJqQyxFQUFPSSxTQUFTLGNBQ2xCNkIsRUFBb0IsUUFDWGpDLEVBQU9JLFNBQVMsZ0JBQWtCSixFQUFPSSxTQUFTLGlCQUMzRDZCLEVBQW9CLFlBSWhCQyxFQUFxQixDQUN6QjFHLEdBQUkrQixLQUFLc0YsTUFBTUMsV0FDZnBELElBQUFBLEVBQ0FELE1BQUFBLEVBQ0FxQyxRQUFBQSxFQUNBaUIsU0FBVSxHQUNWZixVQUFBQSxFQUNBZ0IsU0FBVWYsRUFDVmpDLE9BQVFBLEVBQ1JpRCxVQUFXLElBQUkxRixLQUNmRCxVQUFXLElBQUlDLE1BR2pCSixFQUFBdkgsRUFBQSxFQUNNMEQsRUFBUTRKLFFBQVFoQixHQUFRLE9BRzlCSyxPQUFPWSxjQUFjN00sT0FBTyxDQUMxQjhNLEtBQU0sUUFDTkMsUUFBUyxtQkFDVDVELE1BQU8sZ0JBQ1ArQixRQUFTLElBQUZuQixPQUFNWixFQUFLLDJDQUdwQk0sUUFBUXVDLElBQUksMkJBQTRCSixHQUFTL0UsRUFBQXZILEVBQUEsZUFBQXVILEVBQUExRyxFQUFBLEVBQUEyTCxFQUFBakYsRUFBQXZHLEVBRWpEbUosUUFBUTdGLE1BQU0sdUJBQXNCa0ksR0FDcENHLE9BQU9ZLGNBQWM3TSxPQUFPLENBQzFCOE0sS0FBTSxRQUNOQyxRQUFTLG1CQUNUNUQsTUFBTyxhQUNQK0IsUUFBUywyQ0FDUixjQUFBckUsRUFBQXRHLEVBQUEsS0FBQWtHLEVBQUEsd0JBRU5yRSxNQUFBLEtBQUFELFVBQUEsVUFFYzZLLEVBQWNuRixHQUFBLE9BQUFvRixFQUFBN0ssTUFBQyxLQUFERCxVQUFBLENBVTdCLFNBQUE4SyxJQUZDLE9BRURBLEVBQUEvSyxFQUFBWixJQUFBRSxFQVZBLFNBQUE2RixFQUE4QjZGLEdBQWEsSUFBQTdELEVBQUE4RCxFQUFBLE9BQUE3TCxJQUFBQyxFQUFBLFNBQUErRixHQUFBLGNBQUFBLEVBQUFoSSxHQUFBLGNBQUFnSSxFQUFBbkgsRUFBQSxFQUFBbUgsRUFBQWhJLEVBQUEsRUFFaEIyTSxPQUFPQyxLQUFLQyxZQUFZZSxFQUFPLENBQUVkLE9BQVEsbUJBQW1CLE9BQXJFLE9BQVIvQyxFQUFRL0IsRUFBQWhILEVBQUFnSCxFQUFBL0csRUFBQSxFQUNQOEksR0FBUSxPQUVxQyxPQUZyQy9CLEVBQUFuSCxFQUFBLEVBQUFnTixFQUFBN0YsRUFBQWhILEVBRWZtSixRQUFRN0YsTUFBTSw4QkFBNkJ1SixHQUFTN0YsRUFBQS9HLEVBQUEsRUFDN0MsQ0FBRTJJLFFBQVMsS0FBSSxFQUFBN0IsRUFBQSxrQkFFekJqRixNQUFBLEtBQUFELFVBQUEsQ0E3SkQ4SixPQUFPbUIsUUFBUUMsWUFBWUMsWUFBWSxXQUVyQ3JCLE9BQU9zQixhQUFhdk4sT0FBTyxDQUN6QmtGLEdBQUksYUFDSmlFLE1BQU8sZUFDUHFFLFNBQVUsQ0FBQyxPQUFRLFVBR3JCL0QsUUFBUXVDLElBQUksMkJBQ2QsR0FHQUMsT0FBT3NCLGFBQWFFLFVBQVVILFlBQVcsZUFBQUksRUFBQXhMLEVBQUFaLElBQUFFLEVBQUMsU0FBQTRCLEVBQU91SyxFQUFNdEMsR0FBRyxPQUFBL0osSUFBQUMsRUFBQSxTQUFBK0IsR0FBQSxjQUFBQSxFQUFBaEUsR0FBQSxVQUNoQyxlQUFwQnFPLEVBQUtDLGFBQStCdkMsRUFBRyxDQUFBL0gsRUFBQWhFLEVBQUEsZUFBQWdFLEVBQUFoRSxFQUFBLEVBQ25DNkwsRUFBZ0JFLEVBQUtzQyxFQUFLckMsU0FBUSxjQUFBaEksRUFBQS9DLEVBQUEsS0FBQTZDLEVBQUEsSUFFM0MsZ0JBQUEyQyxFQUFBUSxHQUFBLE9BQUFtSCxFQUFBdEwsTUFBQSxLQUFBRCxVQUFBLEVBSndDLElBT3pDOEosT0FBT0csT0FBT3FCLFVBQVVILFlBQVcsZUFBQU8sRUFBQTNMLEVBQUFaLElBQUFFLEVBQUMsU0FBQStDLEVBQU84RyxHQUFHLElBQUEvQixFQUFBLE9BQUFoSSxJQUFBQyxFQUFBLFNBQUFrRCxHQUFBLGNBQUFBLEVBQUFuRixHQUFBLGNBQUFtRixFQUFBdEUsRUFBQSxFQUFBc0UsRUFBQW5GLEVBQUEsRUFHcEMyTSxPQUFPNkIsVUFBVXBLLEtBQUssQ0FBRXFLLFNBQVUxQyxFQUFJMEMsV0FBVyxPQUFBdEosRUFBQW5GLEVBQUEsZUFBQW1GLEVBQUF0RSxFQUFBLEVBQUFtSixFQUFBN0UsRUFBQW5FLEVBRXZEbUosUUFBUTdGLE1BQU0sNkJBQTRCMEYsR0FBUyxjQUFBN0UsRUFBQWxFLEVBQUEsS0FBQWdFLEVBQUEsaUJBRXRELGdCQUFBMkMsR0FBQSxPQUFBMkcsRUFBQXpMLE1BQUEsS0FBQUQsVUFBQSxFQVBrQyxJQVVuQzhKLE9BQU9tQixRQUFRWSxVQUFVVixZQUFZLFNBQUM5SixFQUFTeUssRUFBUUMsR0F5Q3JELE9BeENBaE0sRUFBQVosSUFBQUUsRUFBQyxTQUFBa0UsSUFBQSxJQUFBMkQsRUFBQTZDLEVBQUFpQyxFQUFBQyxFQUFBQyxFQUFBLE9BQUEvTSxJQUFBQyxFQUFBLFNBQUFzRSxHQUFBLGNBQUFBLEVBQUF2RyxHQUFBLE9BQUF1RyxFQUFBMUYsRUFBQSxFQUFBZ08sRUFFVzNLLEVBQVE0SSxPQUFNdkcsRUFBQXZHLEVBQ2Ysb0JBRGU2TyxFQUNFLEVBT2pCLG1CQVBpQkEsRUFPRCxFQU9oQixrQkFQZ0JBLEVBT0Qsc0JBYmRGLEVBQU81QyxJQUFLLENBQUZ4RixFQUFBdkcsRUFBQSxlQUFBdUcsRUFBQXZHLEVBQUEsRUFDTjZMLEVBQWdCOEMsRUFBTzVDLEtBQUksT0FDakM2QyxFQUFhLENBQUVJLFNBQVMsSUFBUSxjQUFBekksRUFBQXRGLEVBQUEsaUJBSzlCME4sRUFBTzVDLElBQUssQ0FBRnhGLEVBQUF2RyxFQUFBLGVBQUF1RyxFQUFBdkcsRUFBQSxFQUNXME4sRUFBZWlCLEVBQU81QyxJQUFJbkcsSUFBSSxPQUEvQ21FLEVBQVF4RCxFQUFBdkYsRUFDZDROLEVBQWE3RSxHQUFVLGNBQUF4RCxFQUFBdEYsRUFBQSxvQkFBQXNGLEVBQUExRixFQUFBLEVBQUEwRixFQUFBdkcsRUFBQSxFQU1KMk0sT0FBT0MsS0FBS3FDLE1BQU0sQ0FBRUMsUUFBUSxFQUFNQyxlQUFlLElBQU8sT0FBakUsS0FBSnZDLEVBQUlyRyxFQUFBdkYsR0FDRCxHQUFJLENBQUZ1RixFQUFBdkcsRUFBQSxnQkFBQXVHLEVBQUF2RyxFQUFBLEVBQ0gyTSxPQUFPNkIsVUFBVXBLLEtBQUssQ0FBRXFLLFNBQVU3QixFQUFLLEdBQUc2QixXQUFXLE9BQzNERyxFQUFhLENBQUVJLFNBQVMsSUFBUXpJLEVBQUF2RyxFQUFBLGlCQUVoQzRPLEVBQWEsQ0FBRXRLLE1BQU8sd0JBQXlCLFFBQUFpQyxFQUFBdkcsRUFBQSxpQkFBQXVHLEVBQUExRixFQUFBLEdBQUFpTyxFQUFBdkksRUFBQXZGLEVBR2pEbUosUUFBUTdGLE1BQU0sNkJBQTRCd0ssR0FDMUNGLEVBQWEsQ0FBRXRLLE1BQU93SyxFQUFNbEQsVUFBVyxlQUFBckYsRUFBQXRGLEVBQUEsY0FLekMyTixFQUFhLENBQUV0SyxNQUFPLG1CQUFvQixRQUFBaUMsRUFBQXZHLEVBQUEsaUJBQUF1RyxFQUFBMUYsRUFBQSxHQUFBa08sRUFBQXhJLEVBQUF2RixFQUc5Q21KLFFBQVE3RixNQUFNLDJCQUEwQnlLLEdBQ3hDSCxFQUFhLENBQUV0SyxNQUFPeUssRUFBTW5ELFVBQVcsZUFBQXJGLEVBQUF0RixFQUFBLEtBQUFtRixFQUFBLHdCQXJDM0N4RCxJQXdDTyxDQUNULEdBeUZBK0osT0FBT3lDLFNBQVNDLFVBQVVyQixZQUFXLGVBQUFzQixFQUFBMU0sRUFBQVosSUFBQUUsRUFBQyxTQUFBeUUsRUFBTzRJLEdBQU8sSUFBQTNDLEVBQUEsT0FBQTVLLElBQUFDLEVBQUEsU0FBQTRFLEdBQUEsY0FBQUEsRUFBQTdHLEdBQUEsVUFDbEMsY0FBWnVQLEVBQXVCLENBQUExSSxFQUFBN0csRUFBQSxlQUFBNkcsRUFBQTdHLEVBQUEsRUFDTjJNLE9BQU9DLEtBQUtxQyxNQUFNLENBQUVDLFFBQVEsRUFBTUMsZUFBZSxJQUFPLE9BQWpFLEtBQUp2QyxFQUFJL0YsRUFBQTdGLEdBQ0QsR0FBSSxDQUFGNkYsRUFBQTdHLEVBQUEsZUFBQTZHLEVBQUE3RyxFQUFBLEVBQ0g2TCxFQUFnQmUsRUFBSyxJQUFHLGNBQUEvRixFQUFBNUYsRUFBQSxLQUFBMEYsRUFBQSxJQUduQyxnQkFBQW1DLEdBQUEsT0FBQXdHLEVBQUF4TSxNQUFBLEtBQUFELFVBQUEsRUFQb0MsRyIsInNvdXJjZXMiOlsid2VicGFjazovL25lc3QtY2hyb21lLWV4dGVuc2lvbi8uL3NyYy91dGlscy9zdG9yYWdlLnRzIiwid2VicGFjazovL25lc3QtY2hyb21lLWV4dGVuc2lvbi8uL3NyYy91dGlscy9haS50cyIsIndlYnBhY2s6Ly9uZXN0LWNocm9tZS1leHRlbnNpb24vLi9zcmMvYmFja2dyb3VuZC9iYWNrZ3JvdW5kLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNhdmVkTGluaywgQ29sbGVjdGlvbiwgQ2F0ZWdvcnksIFN0b3JhZ2VEYXRhIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5jb25zdCBEQl9OQU1FID0gJ05lc3REQic7XG5jb25zdCBEQl9WRVJTSU9OID0gMTtcbmNvbnN0IFNUT1JFX05BTUUgPSAnbmVzdERhdGEnO1xuXG5jbGFzcyBTdG9yYWdlTWFuYWdlciB7XG4gIHByaXZhdGUgZGI6IElEQkRhdGFiYXNlIHwgbnVsbCA9IG51bGw7XG5cbiAgYXN5bmMgaW5pdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdCA9IGluZGV4ZWREQi5vcGVuKERCX05BTUUsIERCX1ZFUlNJT04pO1xuXG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiByZWplY3QocmVxdWVzdC5lcnJvcik7XG4gICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5kYiA9IHJlcXVlc3QucmVzdWx0O1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9O1xuXG4gICAgICByZXF1ZXN0Lm9udXBncmFkZW5lZWRlZCA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBkYiA9IChldmVudC50YXJnZXQgYXMgSURCT3BlbkRCUmVxdWVzdCkucmVzdWx0O1xuICAgICAgICBpZiAoIWRiLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoU1RPUkVfTkFNRSkpIHtcbiAgICAgICAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShTVE9SRV9OQU1FKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGdldERhdGEoKTogUHJvbWlzZTxTdG9yYWdlRGF0YT4ge1xuICAgIGlmICghdGhpcy5kYikgYXdhaXQgdGhpcy5pbml0KCk7XG4gICAgXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gdGhpcy5kYiEudHJhbnNhY3Rpb24oW1NUT1JFX05BTUVdLCAncmVhZG9ubHknKTtcbiAgICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoU1RPUkVfTkFNRSk7XG4gICAgICBjb25zdCByZXF1ZXN0ID0gc3RvcmUuZ2V0KCdkYXRhJyk7XG5cbiAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHJlamVjdChyZXF1ZXN0LmVycm9yKTtcbiAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBkZWZhdWx0RGF0YTogU3RvcmFnZURhdGEgPSB7XG4gICAgICAgICAgbGlua3M6IFtdLFxuICAgICAgICAgIGNvbGxlY3Rpb25zOiBbXSxcbiAgICAgICAgICBjYXRlZ29yaWVzOiBbXG4gICAgICAgICAgICB7IGlkOiAnZ2VuZXJhbCcsIG5hbWU6ICdHZW5lcmFsJywgY29sb3I6ICcjNmI3MjgwJywgaXNEZWZhdWx0OiB0cnVlIH0sXG4gICAgICAgICAgICB7IGlkOiAnd29yaycsIG5hbWU6ICdXb3JrJywgY29sb3I6ICcjM2I4MmY2JyB9LFxuICAgICAgICAgICAgeyBpZDogJ3BlcnNvbmFsJywgbmFtZTogJ1BlcnNvbmFsJywgY29sb3I6ICcjMTBiOTgxJyB9LFxuICAgICAgICAgICAgeyBpZDogJ2xlYXJuaW5nJywgbmFtZTogJ0xlYXJuaW5nJywgY29sb3I6ICcjZjU5ZTBiJyB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgZGVmYXVsdENhdGVnb3J5OiAnZ2VuZXJhbCcsXG4gICAgICAgICAgICBhdXRvU3VtbWFyaXplOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXNvbHZlKHJlcXVlc3QucmVzdWx0IHx8IGRlZmF1bHREYXRhKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBzYXZlRGF0YShkYXRhOiBTdG9yYWdlRGF0YSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghdGhpcy5kYikgYXdhaXQgdGhpcy5pbml0KCk7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSB0aGlzLmRiIS50cmFuc2FjdGlvbihbU1RPUkVfTkFNRV0sICdyZWFkd3JpdGUnKTtcbiAgICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoU1RPUkVfTkFNRSk7XG4gICAgICBjb25zdCByZXF1ZXN0ID0gc3RvcmUucHV0KGRhdGEsICdkYXRhJyk7XG5cbiAgICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHJlamVjdChyZXF1ZXN0LmVycm9yKTtcbiAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4gcmVzb2x2ZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgYWRkTGluayhsaW5rOiBTYXZlZExpbmspOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5nZXREYXRhKCk7XG4gICAgZGF0YS5saW5rcy5wdXNoKGxpbmspO1xuICAgIGF3YWl0IHRoaXMuc2F2ZURhdGEoZGF0YSk7XG4gIH1cblxuICBhc3luYyB1cGRhdGVMaW5rKGxpbmtJZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPFNhdmVkTGluaz4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5nZXREYXRhKCk7XG4gICAgY29uc3QgbGlua0luZGV4ID0gZGF0YS5saW5rcy5maW5kSW5kZXgobGluayA9PiBsaW5rLmlkID09PSBsaW5rSWQpO1xuICAgIGlmIChsaW5rSW5kZXggIT09IC0xKSB7XG4gICAgICBkYXRhLmxpbmtzW2xpbmtJbmRleF0gPSB7IC4uLmRhdGEubGlua3NbbGlua0luZGV4XSwgLi4udXBkYXRlcywgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpIH07XG4gICAgICBhd2FpdCB0aGlzLnNhdmVEYXRhKGRhdGEpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZUxpbmsobGlua0lkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5nZXREYXRhKCk7XG4gICAgZGF0YS5saW5rcyA9IGRhdGEubGlua3MuZmlsdGVyKGxpbmsgPT4gbGluay5pZCAhPT0gbGlua0lkKTtcbiAgICBhd2FpdCB0aGlzLnNhdmVEYXRhKGRhdGEpO1xuICB9XG5cbiAgYXN5bmMgYWRkQ29sbGVjdGlvbihjb2xsZWN0aW9uOiBDb2xsZWN0aW9uKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMuZ2V0RGF0YSgpO1xuICAgIGRhdGEuY29sbGVjdGlvbnMucHVzaChjb2xsZWN0aW9uKTtcbiAgICBhd2FpdCB0aGlzLnNhdmVEYXRhKGRhdGEpO1xuICB9XG5cbiAgYXN5bmMgdXBkYXRlQ29sbGVjdGlvbihjb2xsZWN0aW9uSWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxDb2xsZWN0aW9uPik6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLmdldERhdGEoKTtcbiAgICBjb25zdCBjb2xsZWN0aW9uSW5kZXggPSBkYXRhLmNvbGxlY3Rpb25zLmZpbmRJbmRleChjb2wgPT4gY29sLmlkID09PSBjb2xsZWN0aW9uSWQpO1xuICAgIGlmIChjb2xsZWN0aW9uSW5kZXggIT09IC0xKSB7XG4gICAgICBkYXRhLmNvbGxlY3Rpb25zW2NvbGxlY3Rpb25JbmRleF0gPSB7IC4uLmRhdGEuY29sbGVjdGlvbnNbY29sbGVjdGlvbkluZGV4XSwgLi4udXBkYXRlcywgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpIH07XG4gICAgICBhd2FpdCB0aGlzLnNhdmVEYXRhKGRhdGEpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZUNvbGxlY3Rpb24oY29sbGVjdGlvbklkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5nZXREYXRhKCk7XG4gICAgZGF0YS5jb2xsZWN0aW9ucyA9IGRhdGEuY29sbGVjdGlvbnMuZmlsdGVyKGNvbCA9PiBjb2wuaWQgIT09IGNvbGxlY3Rpb25JZCk7XG4gICAgLy8gTW92ZSBhbGwgbGlua3MgZnJvbSB0aGlzIGNvbGxlY3Rpb24gYmFjayB0byBob2xkaW5nIGFyZWFcbiAgICBkYXRhLmxpbmtzLmZvckVhY2gobGluayA9PiB7XG4gICAgICBpZiAobGluay5jb2xsZWN0aW9uSWQgPT09IGNvbGxlY3Rpb25JZCkge1xuICAgICAgICBsaW5rLmNvbGxlY3Rpb25JZCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBhd2FpdCB0aGlzLnNhdmVEYXRhKGRhdGEpO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBzdG9yYWdlID0gbmV3IFN0b3JhZ2VNYW5hZ2VyKCk7ICIsIi8vIEFJIFN1bW1hcnkgdXRpbGl0eSBmdW5jdGlvbnNcbmV4cG9ydCBpbnRlcmZhY2UgQUlDb25maWcge1xuICBhcGlLZXk/OiBzdHJpbmc7XG4gIG1vZGVsPzogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgQUlTZXJ2aWNlIHtcbiAgcHJpdmF0ZSBhcGlLZXk6IHN0cmluZztcbiAgcHJpdmF0ZSBtb2RlbDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogQUlDb25maWcgPSB7fSkge1xuICAgIHRoaXMuYXBpS2V5ID0gY29uZmlnLmFwaUtleSB8fCAnJztcbiAgICB0aGlzLm1vZGVsID0gY29uZmlnLm1vZGVsIHx8ICdncHQtMy41LXR1cmJvJztcbiAgfVxuXG4gIGFzeW5jIGdlbmVyYXRlU3VtbWFyeShjb250ZW50OiBzdHJpbmcsIHRpdGxlOiBzdHJpbmcsIHVybDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAvLyBGb3Igbm93LCByZXR1cm4gYSBwbGFjZWhvbGRlciBzdW1tYXJ5XG4gICAgLy8gVGhpcyBjYW4gYmUgcmVwbGFjZWQgd2l0aCBhY3R1YWwgT3BlbkFJIEFQSSBjYWxsc1xuICAgIGlmICghdGhpcy5hcGlLZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRlUGxhY2Vob2xkZXJTdW1tYXJ5KGNvbnRlbnQsIHRpdGxlLCB1cmwpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyBQbGFjZWhvbGRlciBmb3IgT3BlbkFJIEFQSSBpbnRlZ3JhdGlvblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNhbGxPcGVuQUkoY29udGVudCwgdGl0bGUsIHVybCk7XG4gICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0FJIHN1bW1hcnkgZ2VuZXJhdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVQbGFjZWhvbGRlclN1bW1hcnkoY29udGVudCwgdGl0bGUsIHVybCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZVBsYWNlaG9sZGVyU3VtbWFyeShjb250ZW50OiBzdHJpbmcsIHRpdGxlOiBzdHJpbmcsIHVybDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBkb21haW4gPSBuZXcgVVJMKHVybCkuaG9zdG5hbWU7XG4gICAgY29uc3QgY29udGVudExlbmd0aCA9IGNvbnRlbnQubGVuZ3RoO1xuICAgIFxuICAgIC8vIEdlbmVyYXRlIGEgc2ltcGxlIHJ1bGUtYmFzZWQgc3VtbWFyeVxuICAgIGlmIChkb21haW4uaW5jbHVkZXMoJ2dpdGh1Yi5jb20nKSkge1xuICAgICAgcmV0dXJuIGBHaXRIdWIgcmVwb3NpdG9yeSBvciBwcm9qZWN0IHBhZ2U6ICR7dGl0bGV9YDtcbiAgICB9IGVsc2UgaWYgKGRvbWFpbi5pbmNsdWRlcygnc3RhY2tvdmVyZmxvdy5jb20nKSkge1xuICAgICAgcmV0dXJuIGBTdGFjayBPdmVyZmxvdyBkaXNjdXNzaW9uIGFib3V0IHByb2dyYW1taW5nIG9yIHRlY2huaWNhbCB0b3BpY3NgO1xuICAgIH0gZWxzZSBpZiAoZG9tYWluLmluY2x1ZGVzKCdtZWRpdW0uY29tJykgfHwgZG9tYWluLmluY2x1ZGVzKCdibG9nJykpIHtcbiAgICAgIHJldHVybiBgQmxvZyBhcnRpY2xlOiAke3RpdGxlLnN1YnN0cmluZygwLCA1MCl9Li4uYDtcbiAgICB9IGVsc2UgaWYgKGRvbWFpbi5pbmNsdWRlcygneW91dHViZS5jb20nKSkge1xuICAgICAgcmV0dXJuIGBWaWRlbyBjb250ZW50OiAke3RpdGxlfWA7XG4gICAgfSBlbHNlIGlmIChkb21haW4uaW5jbHVkZXMoJ25ld3MnKSB8fCBkb21haW4uaW5jbHVkZXMoJ2FydGljbGUnKSkge1xuICAgICAgcmV0dXJuIGBOZXdzIGFydGljbGUgZnJvbSAke2RvbWFpbn1gO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYFdlYiBwYWdlIGZyb20gJHtkb21haW59ICgke01hdGgucm91bmQoY29udGVudExlbmd0aCAvIDEwMCl9IHBhcmFncmFwaHMpYDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGNhbGxPcGVuQUkoY29udGVudDogc3RyaW5nLCB0aXRsZTogc3RyaW5nLCB1cmw6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgLy8gUGxhY2Vob2xkZXIgZm9yIGFjdHVhbCBPcGVuQUkgQVBJIGltcGxlbWVudGF0aW9uXG4gICAgY29uc3QgcHJvbXB0ID0gYFN1bW1hcml6ZSB0aGlzIHdlYiBwYWdlIGluIDEtMiBzZW50ZW5jZXM6XG5UaXRsZTogJHt0aXRsZX1cblVSTDogJHt1cmx9XG5Db250ZW50OiAke2NvbnRlbnQuc3Vic3RyaW5nKDAsIDEwMDApfS4uLmA7XG5cbiAgICAvLyBUaGlzIHdvdWxkIGJlIHJlcGxhY2VkIHdpdGggYWN0dWFsIE9wZW5BSSBBUEkgY2FsbFxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLm9wZW5haS5jb20vdjEvY2hhdC9jb21wbGV0aW9ucycsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0aGlzLmFwaUtleX1gLFxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbW9kZWw6IHRoaXMubW9kZWwsXG4gICAgICAgIG1lc3NhZ2VzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgICAgICAgY29udGVudDogcHJvbXB0XG4gICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBtYXhfdG9rZW5zOiAxMDAsXG4gICAgICAgIHRlbXBlcmF0dXJlOiAwLjNcbiAgICAgIH0pXG4gICAgfSk7XG5cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIHJldHVybiBkYXRhLmNob2ljZXNbMF0/Lm1lc3NhZ2U/LmNvbnRlbnQgfHwgdGhpcy5nZW5lcmF0ZVBsYWNlaG9sZGVyU3VtbWFyeShjb250ZW50LCB0aXRsZSwgdXJsKTtcbiAgfVxuXG4gIHVwZGF0ZUFwaUtleShhcGlLZXk6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuYXBpS2V5ID0gYXBpS2V5O1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBhaVNlcnZpY2UgPSBuZXcgQUlTZXJ2aWNlKCk7ICIsImltcG9ydCB7IHN0b3JhZ2UgfSBmcm9tICcuLi91dGlscy9zdG9yYWdlJztcbmltcG9ydCB7IGFpU2VydmljZSB9IGZyb20gJy4uL3V0aWxzL2FpJztcbmltcG9ydCB7IFNhdmVkTGluayB9IGZyb20gJy4uL3R5cGVzJztcblxuLy8gSW5pdGlhbGl6ZSBleHRlbnNpb25cbmNocm9tZS5ydW50aW1lLm9uSW5zdGFsbGVkLmFkZExpc3RlbmVyKCgpID0+IHtcbiAgLy8gQ3JlYXRlIGNvbnRleHQgbWVudVxuICBjaHJvbWUuY29udGV4dE1lbnVzLmNyZWF0ZSh7XG4gICAgaWQ6ICdzYXZlVG9OZXN0JyxcbiAgICB0aXRsZTogJ1NhdmUgdG8gTmVzdCcsXG4gICAgY29udGV4dHM6IFsncGFnZScsICdsaW5rJ11cbiAgfSk7XG5cbiAgY29uc29sZS5sb2coJ05lc3QgZXh0ZW5zaW9uIGluc3RhbGxlZCcpO1xufSk7XG5cbi8vIEhhbmRsZSBjb250ZXh0IG1lbnUgY2xpY2tzXG5jaHJvbWUuY29udGV4dE1lbnVzLm9uQ2xpY2tlZC5hZGRMaXN0ZW5lcihhc3luYyAoaW5mbywgdGFiKSA9PiB7XG4gIGlmIChpbmZvLm1lbnVJdGVtSWQgPT09ICdzYXZlVG9OZXN0JyAmJiB0YWIpIHtcbiAgICBhd2FpdCBzYXZlQ3VycmVudFBhZ2UodGFiLCBpbmZvLmxpbmtVcmwpO1xuICB9XG59KTtcblxuLy8gSGFuZGxlIGJyb3dzZXIgYWN0aW9uIGNsaWNrcyAodGhpcyB3b24ndCBmaXJlIGlmIHRoZXJlJ3MgYSBwb3B1cCwgYnV0IGtlZXBpbmcgZm9yIHJlZmVyZW5jZSlcbmNocm9tZS5hY3Rpb24ub25DbGlja2VkLmFkZExpc3RlbmVyKGFzeW5jICh0YWIpID0+IHtcbiAgdHJ5IHtcbiAgICAvLyBPcGVuIHNpZGUgcGFuZWxcbiAgICBhd2FpdCBjaHJvbWUuc2lkZVBhbmVsLm9wZW4oeyB3aW5kb3dJZDogdGFiLndpbmRvd0lkIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBvcGVuIHNpZGUgcGFuZWw6JywgZXJyb3IpO1xuICB9XG59KTtcblxuLy8gSGFuZGxlIG1lc3NhZ2VzIGZyb20gY29udGVudCBzY3JpcHQgYW5kIHBvcHVwXG5jaHJvbWUucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoKHJlcXVlc3QsIHNlbmRlciwgc2VuZFJlc3BvbnNlKSA9PiB7XG4gIChhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHN3aXRjaCAocmVxdWVzdC5hY3Rpb24pIHtcbiAgICAgICAgY2FzZSAnc2F2ZUN1cnJlbnRQYWdlJzpcbiAgICAgICAgICBpZiAoc2VuZGVyLnRhYikge1xuICAgICAgICAgICAgYXdhaXQgc2F2ZUN1cnJlbnRQYWdlKHNlbmRlci50YWIpO1xuICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHsgc3VjY2VzczogdHJ1ZSB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIFxuICAgICAgICBjYXNlICdnZXRQYWdlQ29udGVudCc6XG4gICAgICAgICAgaWYgKHNlbmRlci50YWIpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0UGFnZUNvbnRlbnQoc2VuZGVyLnRhYi5pZCEpO1xuICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnb3BlblNpZGVQYW5lbCc6XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHRhYnMgPSBhd2FpdCBjaHJvbWUudGFicy5xdWVyeSh7IGFjdGl2ZTogdHJ1ZSwgY3VycmVudFdpbmRvdzogdHJ1ZSB9KTtcbiAgICAgICAgICAgIGlmICh0YWJzWzBdKSB7XG4gICAgICAgICAgICAgIGF3YWl0IGNocm9tZS5zaWRlUGFuZWwub3Blbih7IHdpbmRvd0lkOiB0YWJzWzBdLndpbmRvd0lkIH0pO1xuICAgICAgICAgICAgICBzZW5kUmVzcG9uc2UoeyBzdWNjZXNzOiB0cnVlIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHsgZXJyb3I6ICdObyBhY3RpdmUgdGFiIGZvdW5kJyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIG9wZW4gc2lkZSBwYW5lbDonLCBlcnJvcik7XG4gICAgICAgICAgICBzZW5kUmVzcG9uc2UoeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBzZW5kUmVzcG9uc2UoeyBlcnJvcjogJ1Vua25vd24gYWN0aW9uJyB9KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignQmFja2dyb3VuZCBzY3JpcHQgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgc2VuZFJlc3BvbnNlKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XG4gICAgfVxuICB9KSgpO1xuICByZXR1cm4gdHJ1ZTsgLy8gS2VlcCBtZXNzYWdlIGNoYW5uZWwgb3BlbiBmb3IgYXN5bmMgcmVzcG9uc2Vcbn0pO1xuXG5hc3luYyBmdW5jdGlvbiBzYXZlQ3VycmVudFBhZ2UodGFiOiBjaHJvbWUudGFicy5UYWIsIGxpbmtVcmw/OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgdXJsID0gbGlua1VybCB8fCB0YWIudXJsO1xuICBjb25zdCB0aXRsZSA9IHRhYi50aXRsZSB8fCAnVW50aXRsZWQnO1xuICBcbiAgaWYgKCF1cmwgfHwgdXJsLnN0YXJ0c1dpdGgoJ2Nocm9tZTovLycpIHx8IHVybC5zdGFydHNXaXRoKCdjaHJvbWUtZXh0ZW5zaW9uOi8vJykpIHtcbiAgICBjb25zb2xlLmxvZygnQ2Fubm90IHNhdmUgdGhpcyB0eXBlIG9mIHBhZ2UnKTtcbiAgICByZXR1cm47XG4gIH1cblxuICB0cnkge1xuICAgIC8vIEdldCBwYWdlIGNvbnRlbnQgZm9yIEFJIHN1bW1hcnlcbiAgICBsZXQgcGFnZUNvbnRlbnQgPSAnJztcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjaHJvbWUudGFicy5zZW5kTWVzc2FnZSh0YWIuaWQhLCB7IGFjdGlvbjogJ2dldFBhZ2VDb250ZW50JyB9KTtcbiAgICAgIHBhZ2VDb250ZW50ID0gcmVzcG9uc2U/LmNvbnRlbnQgfHwgJyc7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdDb3VsZCBub3QgZXh0cmFjdCBwYWdlIGNvbnRlbnQ6JywgZXJyb3IpO1xuICAgIH1cblxuICAgIC8vIEdldCBmYXZpY29uXG4gICAgbGV0IGZhdmljb24gPSB0YWIuZmF2SWNvblVybDtcbiAgICBpZiAoIWZhdmljb24pIHtcbiAgICAgIGNvbnN0IGRvbWFpbiA9IG5ldyBVUkwodXJsKS5ob3N0bmFtZTtcbiAgICAgIGZhdmljb24gPSBgaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9zMi9mYXZpY29ucz9kb21haW49JHtkb21haW59JnN6PTMyYDtcbiAgICB9XG5cbiAgICAvLyBHZW5lcmF0ZSBBSSBzdW1tYXJ5XG4gICAgY29uc3QgYWlTdW1tYXJ5ID0gYXdhaXQgYWlTZXJ2aWNlLmdlbmVyYXRlU3VtbWFyeShwYWdlQ29udGVudCwgdGl0bGUsIHVybCk7XG5cbiAgICAvLyBEZXRlcm1pbmUgY2F0ZWdvcnkgYmFzZWQgb24gZG9tYWluXG4gICAgY29uc3QgZG9tYWluID0gbmV3IFVSTCh1cmwpLmhvc3RuYW1lO1xuICAgIGxldCBzdWdnZXN0ZWRDYXRlZ29yeSA9ICdnZW5lcmFsJztcbiAgICBcbiAgICBpZiAoZG9tYWluLmluY2x1ZGVzKCdnaXRodWIuY29tJykpIHtcbiAgICAgIHN1Z2dlc3RlZENhdGVnb3J5ID0gJ3dvcmsnO1xuICAgIH0gZWxzZSBpZiAoZG9tYWluLmluY2x1ZGVzKCd5b3V0dWJlLmNvbScpIHx8IGRvbWFpbi5pbmNsdWRlcygnbWVkaXVtLmNvbScpKSB7XG4gICAgICBzdWdnZXN0ZWRDYXRlZ29yeSA9ICdsZWFybmluZyc7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIG5ldyBsaW5rXG4gICAgY29uc3QgbmV3TGluazogU2F2ZWRMaW5rID0ge1xuICAgICAgaWQ6IERhdGUubm93KCkudG9TdHJpbmcoKSxcbiAgICAgIHVybCxcbiAgICAgIHRpdGxlLFxuICAgICAgZmF2aWNvbixcbiAgICAgIHVzZXJOb3RlOiAnJyxcbiAgICAgIGFpU3VtbWFyeSxcbiAgICAgIGNhdGVnb3J5OiBzdWdnZXN0ZWRDYXRlZ29yeSxcbiAgICAgIGRvbWFpbjogZG9tYWluLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpXG4gICAgfTtcblxuICAgIC8vIFNhdmUgdG8gc3RvcmFnZVxuICAgIGF3YWl0IHN0b3JhZ2UuYWRkTGluayhuZXdMaW5rKTtcblxuICAgIC8vIFNob3cgbm90aWZpY2F0aW9uXG4gICAgY2hyb21lLm5vdGlmaWNhdGlvbnMuY3JlYXRlKHtcbiAgICAgIHR5cGU6ICdiYXNpYycsXG4gICAgICBpY29uVXJsOiAnaWNvbnMvaWNvbjQ4LnBuZycsXG4gICAgICB0aXRsZTogJ1NhdmVkIHRvIE5lc3QnLFxuICAgICAgbWVzc2FnZTogYFwiJHt0aXRsZX1cIiBoYXMgYmVlbiBzYXZlZCB0byB5b3VyIEhvbGRpbmcgQXJlYWBcbiAgICB9KTtcblxuICAgIGNvbnNvbGUubG9nKCdQYWdlIHNhdmVkIHN1Y2Nlc3NmdWxseTonLCBuZXdMaW5rKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2F2ZSBwYWdlOicsIGVycm9yKTtcbiAgICBjaHJvbWUubm90aWZpY2F0aW9ucy5jcmVhdGUoe1xuICAgICAgdHlwZTogJ2Jhc2ljJyxcbiAgICAgIGljb25Vcmw6ICdpY29ucy9pY29uNDgucG5nJyxcbiAgICAgIHRpdGxlOiAnTmVzdCBFcnJvcicsXG4gICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIHNhdmUgcGFnZS4gUGxlYXNlIHRyeSBhZ2Fpbi4nXG4gICAgfSk7XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0UGFnZUNvbnRlbnQodGFiSWQ6IG51bWJlcik6IFByb21pc2U8eyBjb250ZW50OiBzdHJpbmcgfT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgY2hyb21lLnRhYnMuc2VuZE1lc3NhZ2UodGFiSWQsIHsgYWN0aW9uOiAnZ2V0UGFnZUNvbnRlbnQnIH0pO1xuICAgIHJldHVybiByZXNwb25zZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZ2V0IHBhZ2UgY29udGVudDonLCBlcnJvcik7XG4gICAgcmV0dXJuIHsgY29udGVudDogJycgfTtcbiAgfVxufVxuXG4vLyBIYW5kbGUga2V5Ym9hcmQgc2hvcnRjdXRzIChpZiBjb25maWd1cmVkIGluIG1hbmlmZXN0KVxuY2hyb21lLmNvbW1hbmRzLm9uQ29tbWFuZC5hZGRMaXN0ZW5lcihhc3luYyAoY29tbWFuZCkgPT4ge1xuICBpZiAoY29tbWFuZCA9PT0gJ3NhdmUtcGFnZScpIHtcbiAgICBjb25zdCB0YWJzID0gYXdhaXQgY2hyb21lLnRhYnMucXVlcnkoeyBhY3RpdmU6IHRydWUsIGN1cnJlbnRXaW5kb3c6IHRydWUgfSk7XG4gICAgaWYgKHRhYnNbMF0pIHtcbiAgICAgIGF3YWl0IHNhdmVDdXJyZW50UGFnZSh0YWJzWzBdKTtcbiAgICB9XG4gIH1cbn0pOyAiXSwibmFtZXMiOlsiZSIsInQiLCJyIiwiU3ltYm9sIiwibiIsIml0ZXJhdG9yIiwibyIsInRvU3RyaW5nVGFnIiwiaSIsImMiLCJwcm90b3R5cGUiLCJHZW5lcmF0b3IiLCJ1IiwiT2JqZWN0IiwiY3JlYXRlIiwiX3JlZ2VuZXJhdG9yRGVmaW5lMiIsImYiLCJwIiwieSIsIkciLCJ2IiwiYSIsImQiLCJiaW5kIiwibGVuZ3RoIiwibCIsIlR5cGVFcnJvciIsImNhbGwiLCJkb25lIiwidmFsdWUiLCJHZW5lcmF0b3JGdW5jdGlvbiIsIkdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlIiwiZ2V0UHJvdG90eXBlT2YiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsImRpc3BsYXlOYW1lIiwiX3JlZ2VuZXJhdG9yIiwidyIsIm0iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIl9pbnZva2UiLCJhc3luY0dlbmVyYXRvclN0ZXAiLCJQcm9taXNlIiwicmVzb2x2ZSIsInRoZW4iLCJfYXN5bmNUb0dlbmVyYXRvciIsImFyZ3VtZW50cyIsImFwcGx5IiwiX25leHQiLCJfdGhyb3ciLCJfZGVmaW5lUHJvcGVydGllcyIsIl90b1Byb3BlcnR5S2V5Iiwia2V5IiwiX2RlZmluZVByb3BlcnR5IiwiX3R5cGVvZiIsInRvUHJpbWl0aXZlIiwiU3RyaW5nIiwiX3RvUHJpbWl0aXZlIiwiU1RPUkVfTkFNRSIsInN0b3JhZ2UiLCJTdG9yYWdlTWFuYWdlciIsIl9jbGFzc0NhbGxDaGVjayIsIl9pbml0IiwiX2NhbGxlZSIsIl90aGlzIiwiX2NvbnRleHQiLCJyZWplY3QiLCJyZXF1ZXN0IiwiaW5kZXhlZERCIiwib3BlbiIsIm9uZXJyb3IiLCJlcnJvciIsIm9uc3VjY2VzcyIsImRiIiwicmVzdWx0Iiwib251cGdyYWRlbmVlZGVkIiwiZXZlbnQiLCJ0YXJnZXQiLCJvYmplY3RTdG9yZU5hbWVzIiwiY29udGFpbnMiLCJjcmVhdGVPYmplY3RTdG9yZSIsIl9nZXREYXRhIiwiX2NhbGxlZTIiLCJfdGhpczIiLCJfY29udGV4dDIiLCJ0aGlzIiwiaW5pdCIsInRyYW5zYWN0aW9uIiwib2JqZWN0U3RvcmUiLCJnZXQiLCJsaW5rcyIsImNvbGxlY3Rpb25zIiwiY2F0ZWdvcmllcyIsImlkIiwibmFtZSIsImNvbG9yIiwiaXNEZWZhdWx0Iiwic2V0dGluZ3MiLCJkZWZhdWx0Q2F0ZWdvcnkiLCJhdXRvU3VtbWFyaXplIiwiX3NhdmVEYXRhIiwiX2NhbGxlZTMiLCJkYXRhIiwiX3RoaXMzIiwiX2NvbnRleHQzIiwicHV0IiwiX3giLCJfYWRkTGluayIsIl9jYWxsZWU0IiwibGluayIsIl9jb250ZXh0NCIsImdldERhdGEiLCJwdXNoIiwic2F2ZURhdGEiLCJfeDIiLCJfdXBkYXRlTGluayIsIl9jYWxsZWU1IiwibGlua0lkIiwidXBkYXRlcyIsImxpbmtJbmRleCIsIl9jb250ZXh0NSIsImZpbmRJbmRleCIsIl9vYmplY3RTcHJlYWQiLCJ1cGRhdGVkQXQiLCJEYXRlIiwiX3gzIiwiX3g0IiwiX2RlbGV0ZUxpbmsiLCJfY2FsbGVlNiIsIl9jb250ZXh0NiIsImZpbHRlciIsIl94NSIsIl9hZGRDb2xsZWN0aW9uIiwiX2NhbGxlZTciLCJjb2xsZWN0aW9uIiwiX2NvbnRleHQ3IiwiX3g2IiwiX3VwZGF0ZUNvbGxlY3Rpb24iLCJfY2FsbGVlOCIsImNvbGxlY3Rpb25JZCIsImNvbGxlY3Rpb25JbmRleCIsIl9jb250ZXh0OCIsImNvbCIsIl94NyIsIl94OCIsIl9kZWxldGVDb2xsZWN0aW9uIiwiX2NhbGxlZTkiLCJfY29udGV4dDkiLCJmb3JFYWNoIiwidW5kZWZpbmVkIiwiX3g5IiwiYWlTZXJ2aWNlIiwiQUlTZXJ2aWNlIiwiY29uZmlnIiwiYXBpS2V5IiwibW9kZWwiLCJfZ2VuZXJhdGVTdW1tYXJ5IiwiY29udGVudCIsInRpdGxlIiwidXJsIiwicmVzcG9uc2UiLCJfdCIsImdlbmVyYXRlUGxhY2Vob2xkZXJTdW1tYXJ5IiwiY2FsbE9wZW5BSSIsImNvbnNvbGUiLCJkb21haW4iLCJVUkwiLCJob3N0bmFtZSIsImNvbnRlbnRMZW5ndGgiLCJpbmNsdWRlcyIsImNvbmNhdCIsInN1YnN0cmluZyIsIk1hdGgiLCJyb3VuZCIsIl9jYWxsT3BlbkFJIiwiX2RhdGEkY2hvaWNlcyQiLCJwcm9tcHQiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm1lc3NhZ2VzIiwicm9sZSIsIm1heF90b2tlbnMiLCJ0ZW1wZXJhdHVyZSIsImpzb24iLCJjaG9pY2VzIiwibWVzc2FnZSIsInNhdmVDdXJyZW50UGFnZSIsIl9zYXZlQ3VycmVudFBhZ2UiLCJ0YWIiLCJsaW5rVXJsIiwicGFnZUNvbnRlbnQiLCJmYXZpY29uIiwiX2RvbWFpbiIsImFpU3VtbWFyeSIsInN1Z2dlc3RlZENhdGVnb3J5IiwibmV3TGluayIsIl90NSIsIl90NiIsInN0YXJ0c1dpdGgiLCJsb2ciLCJjaHJvbWUiLCJ0YWJzIiwic2VuZE1lc3NhZ2UiLCJhY3Rpb24iLCJmYXZJY29uVXJsIiwiZ2VuZXJhdGVTdW1tYXJ5Iiwibm93IiwidG9TdHJpbmciLCJ1c2VyTm90ZSIsImNhdGVnb3J5IiwiY3JlYXRlZEF0IiwiYWRkTGluayIsIm5vdGlmaWNhdGlvbnMiLCJ0eXBlIiwiaWNvblVybCIsImdldFBhZ2VDb250ZW50IiwiX2dldFBhZ2VDb250ZW50IiwidGFiSWQiLCJfdDciLCJydW50aW1lIiwib25JbnN0YWxsZWQiLCJhZGRMaXN0ZW5lciIsImNvbnRleHRNZW51cyIsImNvbnRleHRzIiwib25DbGlja2VkIiwiX3JlZiIsImluZm8iLCJtZW51SXRlbUlkIiwiX3JlZjIiLCJzaWRlUGFuZWwiLCJ3aW5kb3dJZCIsIm9uTWVzc2FnZSIsInNlbmRlciIsInNlbmRSZXNwb25zZSIsIl90MiIsIl90MyIsIl90NCIsInN1Y2Nlc3MiLCJxdWVyeSIsImFjdGl2ZSIsImN1cnJlbnRXaW5kb3ciLCJjb21tYW5kcyIsIm9uQ29tbWFuZCIsIl9yZWY0IiwiY29tbWFuZCJdLCJzb3VyY2VSb290IjoiIn0=