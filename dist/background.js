/*! For license information please see background.js.LICENSE.txt */
(()=>{"use strict";var e,t={45:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(r(825));t.default=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=t,this.schema=r,this.fetch=n}select(e,{head:t=!1,count:r}={}){const n=t?"HEAD":"GET";let i=!1;const o=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!i?"":('"'===e&&(i=!i),e)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new s.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:r=!0}={}){const n=[];if(this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),r||n.push("missing=default"),this.headers.Prefer=n.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new s.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){const o=[`resolution=${r?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new s.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),this.headers.Prefer=r.join(","),new s.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new s.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},261:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(r(660));class i extends s.default{select(e){let t=!1;const r=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=void 0===n?"offset":`${n}.offset`,i=void 0===n?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var o;const a=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=null!==(o=this.headers.Accept)&&void 0!==o?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${c}"; options=${a};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=i},279:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const s=n(r(342));t.PostgrestClient=s.default;const i=n(r(45));t.PostgrestQueryBuilder=i.default;const o=n(r(825));t.PostgrestFilterBuilder=o.default;const a=n(r(261));t.PostgrestTransformBuilder=a.default;const c=n(r(660));t.PostgrestBuilder=c.default;const l=n(r(818));t.PostgrestError=l.default,t.default={PostgrestClient:s.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:c.default,PostgrestError:l.default}},342:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(r(45)),i=n(r(825)),o=r(530);class a{constructor(e,{headers:t={},schema:r,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},o.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=n}from(e){const t=new URL(`${this.url}/${e}`);return new s.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new a(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:n=!1,count:s}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let c;r||n?(o=r?"HEAD":"GET",Object.entries(t).filter(([e,t])=>void 0!==t).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`]).forEach(([e,t])=>{a.searchParams.append(e,t)})):(o="POST",c=t);const l=Object.assign({},this.headers);return s&&(l.Prefer=`count=${s}`),new i.default({method:o,url:a,headers:l,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}}t.default=a},519:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},530:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;const n=r(519);t.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${n.version}`}},660:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(r(907)),i=n(r(818));t.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=s.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,r,n;let s=null,o=null,a=null,c=e.status,l=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(o="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const n=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),i=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");n&&i&&i.length>1&&(a=parseInt(i[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(o)&&(o.length>1?(s={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,a=null,c=406,l="Not Acceptable"):o=1===o.length?o[0]:null)}else{const t=await e.text();try{s=JSON.parse(t),Array.isArray(s)&&404===e.status&&(o=[],s=null,c=200,l="OK")}catch(r){404===e.status&&""===t?(c=204,l="No Content"):s={message:t}}if(s&&this.isMaybeSingle&&(null===(n=null==s?void 0:s.details)||void 0===n?void 0:n.includes("0 rows"))&&(s=null,c=200,l="OK"),s&&this.shouldThrowOnError)throw new i.default(s)}return{error:s,data:o,count:a,status:c,statusText:l}});return this.shouldThrowOnError||(r=r.catch(e=>{var t,r,n;return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!==(r=null==e?void 0:e.stack)&&void 0!==r?r:""}`,hint:"",code:`${null!==(n=null==e?void 0:e.code)&&void 0!==n?n:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}}},818:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=r},825:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(r(261));class i extends s.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(e=>"string"==typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";"plain"===n?s="pl":"phrase"===n?s="ph":"websearch"===n&&(s="w");const i=void 0===r?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}}t.default=i},907:(e,t,r)=>{r.r(t),r.d(t,{Headers:()=>o,Request:()=>a,Response:()=>c,default:()=>i,fetch:()=>s});var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw new Error("unable to locate global object")}();const s=n.fetch,i=n.fetch.bind(n),o=n.Headers,a=n.Request,c=n.Response}},r={};function n(e){var s=r[e];if(void 0!==s)return s.exports;var i=r[e]={exports:{}};return t[e].call(i.exports,i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};class s extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class i extends s{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class o extends s{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class a extends s{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(e||(e={}));class c{constructor(t,{headers:r={},customFetch:s,region:i=e.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=(e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(n.bind(n,907)).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)})(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r,n,s,c,l;return n=this,s=void 0,l=function*(){try{const{headers:n,method:s,body:c}=t;let l={},{region:u}=t;u||(u=this.region);const h=new URL(`${this.url}/${e}`);let d;u&&"any"!==u&&(l["x-region"]=u,h.searchParams.set("forceFunctionRegion",u)),c&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&("undefined"!=typeof Blob&&c instanceof Blob||c instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=c):"string"==typeof c?(l["Content-Type"]="text/plain",d=c):"undefined"!=typeof FormData&&c instanceof FormData?d=c:(l["Content-Type"]="application/json",d=JSON.stringify(c)));const f=yield this.fetch(h.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),n),body:d}).catch(e=>{throw new i(e)}),p=f.headers.get("x-relay-error");if(p&&"true"===p)throw new o(f);if(!f.ok)throw new a(f);let g,v=(null!==(r=f.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return g="application/json"===v?yield f.json():"application/octet-stream"===v?yield f.blob():"text/event-stream"===v?f:"multipart/form-data"===v?yield f.formData():yield f.text(),{data:g,error:null,response:f}}catch(e){return{data:null,error:e,response:e instanceof a||e instanceof o?e.context:void 0}}},new((c=void 0)||(c=Promise))(function(e,t){function r(e){try{o(l.next(e))}catch(e){t(e)}}function i(e){try{o(l.throw(e))}catch(e){t(e)}}function o(t){var n;t.done?e(t.value):(n=t.value,n instanceof c?n:new c(function(e){e(n)})).then(r,i)}o((l=l.apply(n,s||[])).next())})}}var l=n(279);const{PostgrestClient:u,PostgrestQueryBuilder:h,PostgrestFilterBuilder:d,PostgrestTransformBuilder:f,PostgrestBuilder:p,PostgrestError:g}=l,v=function(){if("undefined"!=typeof WebSocket)return WebSocket;if(void 0!==global.WebSocket)return global.WebSocket;if(void 0!==window.WebSocket)return window.WebSocket;if(void 0!==self.WebSocket)return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}();var y,m,w,b,_,k,S;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(y||(y={})),(S=m||(m={})).closed="closed",S.errored="errored",S.joined="joined",S.joining="joining",S.leaving="leaving",function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(w||(w={})),function(e){e.websocket="websocket"}(b||(b={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(_||(_={}));class T{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"==typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const n=t.getUint8(1),s=t.getUint8(2);let i=this.HEADER_LENGTH+2;const o=r.decode(e.slice(i,i+n));i+=n;const a=r.decode(e.slice(i,i+s));return i+=s,{ref:null,topic:o,event:a,payload:JSON.parse(r.decode(e.slice(i,e.byteLength)))}}}class j{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(k||(k={}));const O=(e,t,r={})=>{var n;const s=null!==(n=r.skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce((r,n)=>(r[n]=E(n,e,t,s),r),{})},E=(e,t,r,n)=>{const s=t.find(t=>t.name===e),i=null==s?void 0:s.type,o=r[e];return i&&!n.includes(i)?P(i,o):A(o)},P=(e,t)=>{if("_"===e.charAt(0)){const r=e.slice(1,e.length);return x(t,r)}switch(e){case k.bool:return $(t);case k.float4:case k.float8:case k.int2:case k.int4:case k.int8:case k.numeric:case k.oid:return C(t);case k.json:case k.jsonb:return I(t);case k.timestamp:return R(t);case k.abstime:case k.date:case k.daterange:case k.int4range:case k.int8range:case k.money:case k.reltime:case k.text:case k.time:case k.timestamptz:case k.timetz:case k.tsrange:case k.tstzrange:default:return A(t)}},A=e=>e,$=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},C=e=>{if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},I=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},x=(e,t)=>{if("string"!=typeof e)return e;const r=e.length-1,n=e[r];if("{"===e[0]&&"}"===n){let n;const s=e.slice(1,r);try{n=JSON.parse("["+s+"]")}catch(e){n=s?s.split(","):[]}return n.map(e=>P(t,e))}return e},R=e=>"string"==typeof e?e.replace(" ","T"):e,U=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class L{constructor(e,t,r={},n=1e4){this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var D,N,q,B;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(D||(D={}));class F{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.joinRef=this.channel._joinRef(),this.state=F.syncState(this.state,e,t,r),this.pendingDiffs.forEach(e=>{this.state=F.syncDiff(this.state,e,t,r)}),this.pendingDiffs=[],n()}),this.channel._on(r.diff,{},e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=F.syncDiff(this.state,e,t,r),n())}),this.onJoin((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})}),this.onLeave((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,n){const s=this.cloneDeep(e),i=this.transformState(t),o={},a={};return this.map(s,(e,t)=>{i[e]||(a[e]=t)}),this.map(i,(e,t)=>{const r=s[e];if(r){const n=t.map(e=>e.presence_ref),s=r.map(e=>e.presence_ref),i=t.filter(e=>s.indexOf(e.presence_ref)<0),c=r.filter(e=>n.indexOf(e.presence_ref)<0);i.length>0&&(o[e]=i),c.length>0&&(a[e]=c)}else o[e]=t}),this.syncDiff(s,{joins:o,leaves:a},r,n)}static syncDiff(e,t,r,n){const{joins:s,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(s,(t,n)=>{var s;const i=null!==(s=e[t])&&void 0!==s?s:[];if(e[t]=this.cloneDeep(n),i.length>0){const r=e[t].map(e=>e.presence_ref),n=i.filter(e=>r.indexOf(e.presence_ref)<0);e[t].unshift(...n)}r(t,i,n)}),this.map(i,(t,r)=>{let s=e[t];if(!s)return;const i=r.map(e=>e.presence_ref);s=s.filter(e=>i.indexOf(e.presence_ref)<0),e[t]=s,n(t,s,r),0===s.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const n=e[r];return t[r]="metas"in n?n.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(N||(N={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(q||(q={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(B||(B={}));class M{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=m.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new L(this,w.join,this.params,this.timeout),this.rejoinTimer=new j(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=m.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=m.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=m.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=m.errored,this.rejoinTimer.scheduleTimeout())}),this._on(w.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new F(this),this.broadcastEndpointURL=U(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.state==m.closed){const{config:{broadcast:s,presence:i,private:o}}=this.params;this._onError(t=>null==e?void 0:e(B.CHANNEL_ERROR,t)),this._onClose(()=>null==e?void 0:e(B.CLOSED));const a={},c={broadcast:s,presence:i,postgres_changes:null!==(n=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map(e=>e.filter))&&void 0!==n?n:[],private:o};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},a)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:t})=>{var r;if(this.socket.setAuth(),void 0!==t){const n=this.bindings.postgres_changes,s=null!==(r=null==n?void 0:n.length)&&void 0!==r?r:0,i=[];for(let r=0;r<s;r++){const s=n[r],{filter:{event:o,schema:a,table:c,filter:l}}=s,u=t&&t[r];if(!u||u.event!==o||u.schema!==a||u.table!==c||u.filter!==l)return this.unsubscribe(),this.state=m.errored,void(null==e||e(B.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));i.push(Object.assign(Object.assign({},s),{id:u.id}))}return this.bindings.postgres_changes=i,void(e&&e(B.SUBSCRIBED))}null==e||e(B.SUBSCRIBED)}).receive("error",t=>{this.state=m.errored,null==e||e(B.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null==e||e(B.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e,t={}){var r,n;if(this._canPush()||"broadcast"!==e.type)return new Promise(r=>{var n,s,i;const o=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(i=null===(s=null===(n=this.params)||void 0===n?void 0:n.config)||void 0===s?void 0:s.broadcast)||void 0===i?void 0:i.ack)||r("ok"),o.receive("ok",()=>r("ok")),o.receive("error",()=>r("error")),o.receive("timeout",()=>r("timed out"))});{const{event:s,payload:i}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(r=t.timeout)&&void 0!==r?r:this.timeout);return await(null===(n=e.body)||void 0===n?void 0:n.cancel()),e.ok?"ok":"error"}catch(e){return"AbortError"===e.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=m.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(w.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new L(this,w.leave,{},e),r.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{null==r||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,r){const n=new AbortController,s=setTimeout(()=>n.abort(),r),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(s),i}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new L(this,e,t,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var n,s;const i=e.toLocaleLowerCase(),{close:o,error:a,leave:c,join:l}=w;if(r&&[o,a,c,l].indexOf(i)>=0&&r!==this._joinRef())return;let u=this._onMessage(i,t,r);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?null===(n=this.bindings.postgres_changes)||void 0===n||n.filter(e=>{var t,r,n;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(n=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===n?void 0:n.toLocaleLowerCase())===i}).map(e=>e.callback(u,r)):null===(s=this.bindings[i])||void 0===s||s.filter(e=>{var r,n,s,o,a,c;if(["broadcast","presence","postgres_changes"].includes(i)){if("id"in e){const i=e.id,o=null===(r=e.filter)||void 0===r?void 0:r.event;return i&&(null===(n=t.ids)||void 0===n?void 0:n.includes(i))&&("*"===o||(null==o?void 0:o.toLocaleLowerCase())===(null===(s=t.data)||void 0===s?void 0:s.type.toLocaleLowerCase()))}{const r=null===(a=null===(o=null==e?void 0:e.filter)||void 0===o?void 0:o.event)||void 0===a?void 0:a.toLocaleLowerCase();return"*"===r||r===(null===(c=null==t?void 0:t.event)||void 0===c?void 0:c.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===i}).map(e=>{if("object"==typeof u&&"ids"in u){const e=u.data,{schema:t,table:r,commit_timestamp:n,type:s,errors:i}=e,o={schema:t,table:r,commit_timestamp:n,eventType:s,new:{},old:{},errors:i};u=Object.assign(Object.assign({},o),this._getPayloadRecords(e))}e.callback(u,r)})}_isClosed(){return this.state===m.closed}_isJoined(){return this.state===m.joined}_isJoining(){return this.state===m.joining}_isLeaving(){return this.state===m.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const n=e.toLocaleLowerCase(),s={type:n,filter:t,callback:r};return this.bindings[n]?this.bindings[n].push(s):this.bindings[n]=[s],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(e=>{var n;return!((null===(n=e.type)||void 0===n?void 0:n.toLocaleLowerCase())===r&&M.isEqual(e.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(w.close,{},e)}_onError(e){this._on(w.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=m.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=O(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=O(e.columns,e.old_record)),t}}const z=()=>{};class G{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=z,this.ref=0,this.logger=z,this.conn=null,this.sendBuffer=[],this.serializer=new T,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(n.bind(n,907)).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},this.endPoint=`${e}/${b.websocket}`,this.httpEndpoint=U(e),(null==t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null==t?void 0:t.params)&&(this.params=t.params),(null==t?void 0:t.timeout)&&(this.timeout=t.timeout),(null==t?void 0:t.logger)&&(this.logger=t.logger),((null==t?void 0:t.logLevel)||(null==t?void 0:t.log_level))&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),(null==t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=null===(r=null==t?void 0:t.params)||void 0===r?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=(null==t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null==t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null==t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new j(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(null==t?void 0:t.fetch),null==t?void 0:t.worker){if("undefined"!=typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null==t?void 0:t.worker)||!1,this.workerUrl=null==t?void 0:t.workerUrl}this.accessToken=(null==t?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=v),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(e=>e.teardown()))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case y.connecting:return _.Connecting;case y.open:return _.Open;case y.closing:return _.Closing;default:return _.Closed}}isConnected(){return this.connectionState()===_.Open}channel(e,t={config:{}}){const r=`realtime:${e}`,n=this.getChannels().find(e=>e.topic===r);if(n)return n;{const r=new M(`realtime:${e}`,t,this);return this.channels.push(r),r}}push(e){const{topic:t,event:r,payload:n,ref:s}=e,i=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${r} (${s})`,n),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{const r={access_token:t,version:"realtime-js/2.11.15"};t&&e.updateJoinPayload(r),e.joinedOnce&&e._isJoined()&&e._push(w.access_token,{access_token:t})}))}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}else this.heartbeatCallback("disconnected")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,e=>{let{topic:t,event:r,payload:n,ref:s}=e;"phoenix"===t&&"phx_reply"===r&&this.heartbeatCallback("ok"==e.payload.status?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${n.status||""} ${t} ${r} ${s&&"("+s+")"||""}`,n),Array.from(this.channels).filter(e=>e._isMember(t)).forEach(e=>e._trigger(r,n,s)),this.stateChangeCallbacks.message.forEach(t=>t(e))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(w.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?";return`${e}${r}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}}class J extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function W(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class K extends J{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class H extends J{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const V=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(n.bind(n,907)).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},Y=e=>{if(Array.isArray(e))return e.map(e=>Y(e));if("function"==typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([e,r])=>{const n=e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[n]=Y(r)}),t};var Q=function(e,t,r,n){return new(r||(r=Promise))(function(s,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};const X=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Z=(e,t,r)=>Q(void 0,void 0,void 0,function*(){const s=yield(i=void 0,o=void 0,a=void 0,c=function*(){return"undefined"==typeof Response?(yield Promise.resolve().then(n.bind(n,907))).Response:Response},new(a||(a=Promise))(function(e,t){function r(e){try{s(c.next(e))}catch(e){t(e)}}function n(e){try{s(c.throw(e))}catch(e){t(e)}}function s(t){var s;t.done?e(t.value):(s=t.value,s instanceof a?s:new a(function(e){e(s)})).then(r,n)}s((c=c.apply(i,o||[])).next())}));var i,o,a,c;e instanceof s&&!(null==r?void 0:r.noResolveJson)?e.json().then(r=>{t(new K(X(r),e.status||500))}).catch(e=>{t(new H(X(e),e))}):t(new H(X(e),e))});function ee(e,t,r,n,s,i){return Q(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,((e,t,r,n)=>{const s={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?s:(s.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))})(t,n,s,i)).then(e=>{if(!e.ok)throw e;return(null==n?void 0:n.noResolveJson)?e:e.json()}).then(e=>o(e)).catch(e=>Z(e,a,n))})})}function te(e,t,r,n){return Q(this,void 0,void 0,function*(){return ee(e,"GET",t,r,n)})}function re(e,t,r,n,s){return Q(this,void 0,void 0,function*(){return ee(e,"POST",t,n,s,r)})}function ne(e,t,r,n,s){return Q(this,void 0,void 0,function*(){return ee(e,"DELETE",t,n,s,r)})}var se=function(e,t,r,n){return new(r||(r=Promise))(function(s,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};const ie={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},oe={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ae{constructor(e,t={},r,n){this.url=e,this.headers=t,this.bucketId=r,this.fetch=V(n)}uploadOrUpdate(e,t,r,n){return se(this,void 0,void 0,function*(){try{let s;const i=Object.assign(Object.assign({},oe),n);let o=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(i.upsert)});const a=i.metadata;"undefined"!=typeof Blob&&r instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),a&&s.append("metadata",this.encodeMetadata(a)),s.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(s=r,s.append("cacheControl",i.cacheControl),a&&s.append("metadata",this.encodeMetadata(a))):(s=r,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType,a&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),(null==n?void 0:n.headers)&&(o=Object.assign(Object.assign({},o),n.headers));const c=this._removeEmptyFolders(t),l=this._getFinalPath(c),u=yield this.fetch(`${this.url}/object/${l}`,Object.assign({method:e,body:s,headers:o},(null==i?void 0:i.duplex)?{duplex:i.duplex}:{})),h=yield u.json();return u.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(e){if(W(e))return{data:null,error:e};throw e}})}upload(e,t,r){return se(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,n){return se(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),i=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${i}`);o.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:oe.upsert},n),i=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&r instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(e=r,e.append("cacheControl",t.cacheControl)):(e=r,i["cache-control"]=`max-age=${t.cacheControl}`,i["content-type"]=t.contentType);const a=yield this.fetch(o.toString(),{method:"PUT",body:e,headers:i}),c=yield a.json();return a.ok?{data:{path:s,fullPath:c.Key},error:null}:{data:null,error:c}}catch(e){if(W(e))return{data:null,error:e};throw e}})}createSignedUploadUrl(e,t){return se(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);(null==t?void 0:t.upsert)&&(n["x-upsert"]="true");const s=yield re(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),i=new URL(this.url+s.url),o=i.searchParams.get("token");if(!o)throw new J("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:o},error:null}}catch(e){if(W(e))return{data:null,error:e};throw e}})}update(e,t,r){return se(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return se(this,void 0,void 0,function*(){try{return{data:yield re(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(e){if(W(e))return{data:null,error:e};throw e}})}copy(e,t,r){return se(this,void 0,void 0,function*(){try{return{data:{path:(yield re(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(e){if(W(e))return{data:null,error:e};throw e}})}createSignedUrl(e,t,r){return se(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),s=yield re(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:t},(null==r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers});const i=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${i}`)},{data:s,error:null}}catch(e){if(W(e))return{data:null,error:e};throw e}})}createSignedUrls(e,t,r){return se(this,void 0,void 0,function*(){try{const n=yield re(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{data:n.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${s}`):null})),error:null}}catch(e){if(W(e))return{data:null,error:e};throw e}})}download(e,t){return se(this,void 0,void 0,function*(){const r=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",n=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),s=n?`?${n}`:"";try{const t=this._getFinalPath(e),n=yield te(this.fetch,`${this.url}/${r}/${t}${s}`,{headers:this.headers,noResolveJson:!0});return{data:yield n.blob(),error:null}}catch(e){if(W(e))return{data:null,error:e};throw e}})}info(e){return se(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield te(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Y(e),error:null}}catch(e){if(W(e))return{data:null,error:e};throw e}})}exists(e){return se(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,r){return Q(this,void 0,void 0,function*(){return ee(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),undefined)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(e){if(W(e)&&e instanceof H){const t=e.originalError;if([400,404].includes(null==t?void 0:t.status))return{data:!1,error:e}}throw e}})}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==s&&n.push(s);const i=void 0!==(null==t?void 0:t.transform)?"render/image":"object",o=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==o&&n.push(o);let a=n.join("&");return""!==a&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${a}`)}}}remove(e){return se(this,void 0,void 0,function*(){try{return{data:yield ne(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(e){if(W(e))return{data:null,error:e};throw e}})}list(e,t,r){return se(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},ie),t),{prefix:e||""});return{data:yield re(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(e){if(W(e))return{data:null,error:e};throw e}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!=typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const ce={"X-Client-Info":"storage-js/2.7.1"};var le=function(e,t,r,n){return new(r||(r=Promise))(function(s,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};class ue{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},ce),t),this.fetch=V(r)}listBuckets(){return le(this,void 0,void 0,function*(){try{return{data:yield te(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(W(e))return{data:null,error:e};throw e}})}getBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield te(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(e){if(W(e))return{data:null,error:e};throw e}})}createBucket(e,t={public:!1}){return le(this,void 0,void 0,function*(){try{return{data:yield re(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(e){if(W(e))return{data:null,error:e};throw e}})}updateBucket(e,t){return le(this,void 0,void 0,function*(){try{const r=yield function(e,t,r,n){return Q(this,void 0,void 0,function*(){return ee(e,"PUT",t,n,undefined,r)})}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:r,error:null}}catch(e){if(W(e))return{data:null,error:e};throw e}})}emptyBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield re(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(W(e))return{data:null,error:e};throw e}})}deleteBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield ne(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(e){if(W(e))return{data:null,error:e};throw e}})}}class he extends ue{constructor(e,t={},r){super(e,t,r)}from(e){return new ae(this.url,this.headers,e,this.fetch)}}let de="";de="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const fe={headers:{"X-Client-Info":`supabase-js-${de}/2.50.3`}},pe={schema:"public"},ge={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ve={};var ye=n(907);const me=e=>{let t;return t=e||("undefined"==typeof fetch?ye.default:fetch),(...e)=>t(...e)},we=(e,t,r)=>{const n=me(r),s="undefined"==typeof Headers?ye.Headers:Headers;return(r,i)=>{return o=void 0,a=void 0,l=function*(){var o;const a=null!==(o=yield t())&&void 0!==o?o:e;let c=new s(null==i?void 0:i.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${a}`),n(r,Object.assign(Object.assign({},i),{headers:c}))},new((c=void 0)||(c=Promise))(function(e,t){function r(e){try{s(l.next(e))}catch(e){t(e)}}function n(e){try{s(l.throw(e))}catch(e){t(e)}}function s(t){var s;t.done?e(t.value):(s=t.value,s instanceof c?s:new c(function(e){e(s)})).then(r,n)}s((l=l.apply(o,a||[])).next())});var o,a,c,l}};const be="2.70.0",_e=3e4,ke={"X-Client-Info":`gotrue-js/${be}`},Se="X-Supabase-Api-Version",Te=Date.parse("2024-01-01T00:00:00.0Z"),je="2024-01-01",Oe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Ee extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function Pe(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class Ae extends Ee{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class $e extends Ee{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Ce extends Ee{constructor(e,t,r,n){super(e,r,n),this.name=t,this.status=r}}class Ie extends Ce{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class xe extends Ce{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Re extends Ce{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ue extends Ce{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Le extends Ce{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class De extends Ce{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Ne(e){return Pe(e)&&"AuthRetryableFetchError"===e.name}class qe extends Ce{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Be extends Ce{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Me=" \t\n\r=".split(""),ze=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Me.length;t+=1)e[Me[t].charCodeAt(0)]=-2;for(let t=0;t<Fe.length;t+=1)e[Fe[t].charCodeAt(0)]=t;return e})();function Ge(e,t,r){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(Fe[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;r(Fe[e]),t.queuedBits-=6}}function Je(e,t,r){const n=ze[e];if(!(n>-1)){if(-2===n)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function We(e){const t=[],r=e=>{t.push(String.fromCodePoint(e))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127)return void r(e);for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,n,r)};for(let t=0;t<e.length;t+=1)Je(e.charCodeAt(t),s,i);return t.join("")}function Ke(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function He(e){const t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};for(let t=0;t<e.length;t+=1)Je(e.charCodeAt(t),r,n);return new Uint8Array(t)}function Ve(e){const t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};return e.forEach(e=>Ge(e,r,n)),Ge(null,r,n),t.join("")}const Ye=()=>"undefined"!=typeof window&&"undefined"!=typeof document,Qe={tested:!1,writable:!1},Xe=()=>{if(!Ye())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(e){return!1}if(Qe.tested)return Qe.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Qe.tested=!0,Qe.writable=!0}catch(e){Qe.tested=!0,Qe.writable=!1}return Qe.writable},Ze=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(n.bind(n,907)).then(({default:t})=>t(...e)):fetch),(...e)=>t(...e)},et=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},tt=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(e){return r}},rt=async(e,t)=>{await e.removeItem(t)};class nt{constructor(){this.promise=new nt.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function st(e){const t=e.split(".");if(3!==t.length)throw new Be("Invalid JWT structure");for(let e=0;e<t.length;e++)if(!Oe.test(t[e]))throw new Be("JWT not in base64url format");return{header:JSON.parse(We(t[0])),payload:JSON.parse(We(t[1])),signature:He(t[2]),raw:{header:t[0],payload:t[1]}}}function it(e){return("0"+e.toString(16)).substr(-2)}async function ot(e,t,r=!1){const n=function(){const e=new Uint32Array(56);if("undefined"==typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let r="";for(let n=0;n<56;n++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,it).join("")}();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await et(e,`${t}-code-verifier`,s);const i=await async function(e){if("undefined"==typeof crypto||void 0===crypto.subtle||"undefined"==typeof TextEncoder)return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),r=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(r);return Array.from(n).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}(n);return[i,n===i?"plain":"s256"]}nt.promiseConstructor=Promise;const at=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,ct=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function lt(e){if(!ct.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}const ut=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ht=[502,503,504];async function dt(e){var t,r;if(!("object"==typeof(r=e)&&null!==r&&"status"in r&&"ok"in r&&"json"in r&&"function"==typeof r.json))throw new De(ut(e),0);if(ht.includes(e.status))throw new De(ut(e),e.status);let n,s;try{n=await e.json()}catch(e){throw new $e(ut(e),e)}const i=function(e){const t=e.headers.get(Se);if(!t)return null;if(!t.match(at))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(e){return null}}(e);if(i&&i.getTime()>=Te&&"object"==typeof n&&n&&"string"==typeof n.code?s=n.code:"object"==typeof n&&n&&"string"==typeof n.error_code&&(s=n.error_code),s){if("weak_password"===s)throw new qe(ut(n),e.status,(null===(t=n.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===s)throw new Ie}else if("object"==typeof n&&n&&"object"==typeof n.weak_password&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0))throw new qe(ut(n),e.status,n.weak_password.reasons);throw new Ae(ut(n),e.status||500,s)}async function ft(e,t,r,n){var s;const i=Object.assign({},null==n?void 0:n.headers);i[Se]||(i[Se]=je),(null==n?void 0:n.jwt)&&(i.Authorization=`Bearer ${n.jwt}`);const o=null!==(s=null==n?void 0:n.query)&&void 0!==s?s:{};(null==n?void 0:n.redirectTo)&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await async function(e,t,r,n,s,i){const o=((e,t,r,n)=>{const s={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))})(t,n,{},i);let a;try{a=await e(r,Object.assign({},o))}catch(e){throw console.error(e),new De(ut(e),0)}if(a.ok||await dt(a),null==n?void 0:n.noResolveJson)return a;try{return await a.json()}catch(e){await dt(e)}}(e,t,r+a,{headers:i,noResolveJson:null==n?void 0:n.noResolveJson},0,null==n?void 0:n.body);return(null==n?void 0:n.xform)?null==n?void 0:n.xform(c):{data:Object.assign({},c),error:null}}function pt(e){var t;let r=null;var n;return function(e){return e.access_token&&e.refresh_token&&e.expires_in}(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=(n=e.expires_in,Math.round(Date.now()/1e3)+n))),{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function gt(e){const t=pt(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function vt(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function yt(e){return{data:e,error:null}}function mt(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]])}return r}(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},user:Object.assign({},o)},error:null}}function wt(e){return e}const bt=["global","local","others"];class _t{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=Ze(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=bt[0]){if(bt.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${bt.join(", ")}`);try{return await ft(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(e){if(Pe(e))return{data:null,error:e};throw e}}async inviteUserByEmail(e,t={}){try{return await ft(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:vt})}catch(e){if(Pe(e))return{data:{user:null},error:e};throw e}}async generateLink(e){try{const{options:t}=e,r=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]])}return r}(e,["options"]),n=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(n.new_email=null==r?void 0:r.newEmail,delete n.newEmail),await ft(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:mt,redirectTo:null==t?void 0:t.redirectTo})}catch(e){if(Pe(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(e){try{return await ft(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:vt})}catch(e){if(Pe(e))return{data:{user:null},error:e};throw e}}async listUsers(e){var t,r,n,s,i,o,a;try{const c={nextPage:null,lastPage:0,total:0},l=await ft(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(s=null===(n=null==e?void 0:e.perPage)||void 0===n?void 0:n.toString())&&void 0!==s?s:""},xform:wt});if(l.error)throw l.error;const u=await l.json(),h=null!==(i=l.headers.get("x-total-count"))&&void 0!==i?i:0,d=null!==(a=null===(o=l.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==a?a:[];return d.length>0&&(d.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);c[`${r}Page`]=t}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},u),c),error:null}}catch(e){if(Pe(e))return{data:{users:[]},error:e};throw e}}async getUserById(e){lt(e);try{return await ft(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:vt})}catch(e){if(Pe(e))return{data:{user:null},error:e};throw e}}async updateUserById(e,t){lt(e);try{return await ft(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:vt})}catch(e){if(Pe(e))return{data:{user:null},error:e};throw e}}async deleteUser(e,t=!1){lt(e);try{return await ft(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:vt})}catch(e){if(Pe(e))return{data:{user:null},error:e};throw e}}async _listFactors(e){lt(e.userId);try{const{data:t,error:r}=await ft(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(e){if(Pe(e))return{data:null,error:e};throw e}}async _deleteFactor(e){lt(e.userId),lt(e.id);try{return{data:await ft(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(e){if(Pe(e))return{data:null,error:e};throw e}}}const kt={getItem:e=>Xe()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Xe()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Xe()&&globalThis.localStorage.removeItem(e)}};function St(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Tt=!!(globalThis&&Xe()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class jt extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Ot extends jt{}async function Et(e,t,r){Tt&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Tt&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async n=>{if(!n){if(0===t)throw Tt&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Ot(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Tt)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(e){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",e)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}Tt&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{Tt&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}))}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();const Pt={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ke,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function At(e,t,r){return await r()}class $t{constructor(e){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=$t.nextInstanceID,$t.nextInstanceID+=1,this.instanceID>0&&Ye()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Pt),e);if(this.logDebugMessages=!!n.debug,"function"==typeof n.debug&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new _t({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Ze(n.fetch),this.lock=n.lock||At,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Ye()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=Et:this.lock=At,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:Xe()?this.storage=kt:(this.memoryStorage={},this.storage=St(this.memoryStorage)):(this.memoryStorage={},this.storage=St(this.memoryStorage)),Ye()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(e){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",e)}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${be}) ${(new Date).toISOString()}`,...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach((e,r)=>{t[r]=e})}catch(e){}return r.searchParams.forEach((e,r)=>{t[r]=e}),t}(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),Ye()&&this.detectSessionInUrl&&"none"!==r){const{data:n,error:s}=await this._getSessionFromURL(t,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),function(e){return Pe(e)&&"AuthImplicitGrantRedirectError"===e.name}(s)){const t=null===(e=s.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:s}}return await this._removeSession(),{error:s}}const{session:i,redirectType:o}=n;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{"recovery"===o?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return Pe(e)?{error:e}:{error:new $e("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,n;try{const s=await ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(r=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null===(n=null==e?void 0:e.options)||void 0===n?void 0:n.captchaToken}},xform:pt}),{data:i,error:o}=s;if(o||!i)return{data:{user:null,session:null},error:o};const a=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(e){if(Pe(e))return{data:{user:null,session:null},error:e};throw e}}async signUp(e){var t,r,n;try{let s;if("email"in e){const{email:r,password:n,options:i}=e;let o=null,a=null;"pkce"===this.flowType&&([o,a]=await ot(this.storage,this.storageKey)),s=await ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==i?void 0:i.emailRedirectTo,body:{email:r,password:n,data:null!==(t=null==i?void 0:i.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},code_challenge:o,code_challenge_method:a},xform:pt})}else{if(!("phone"in e))throw new Re("You must provide either an email or phone number and a password");{const{phone:t,password:i,options:o}=e;s=await ft(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:i,data:null!==(r=null==o?void 0:o.data)&&void 0!==r?r:{},channel:null!==(n=null==o?void 0:o.channel)&&void 0!==n?n:"sms",gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},xform:pt})}}const{data:i,error:o}=s;if(o||!i)return{data:{user:null,session:null},error:o};const a=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(e){if(Pe(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithPassword(e){try{let t;if("email"in e){const{email:r,password:n,options:s}=e;t=await ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:n,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:gt})}else{if(!("phone"in e))throw new Re("You must provide either an email or phone number and a password");{const{phone:r,password:n,options:s}=e;t=await ft(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:n,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:gt})}}const{data:r,error:n}=t;return n?{data:{user:null,session:null},error:n}:r&&r.session&&r.user?(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n}):{data:{user:null,session:null},error:new xe}}catch(e){if(Pe(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOAuth(e){var t,r,n,s;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(n=e.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:null===(s=e.options)||void 0===s?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,r,n,s,i,o,a,c,l,u,h,d;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:h,wallet:d,statement:g,options:v}=e;let y;if(Ye())if("object"==typeof d)y=d;else{const e=window;if(!("solana"in e)||"object"!=typeof e.solana||!("signIn"in e.solana&&"function"==typeof e.solana.signIn||"signMessage"in e.solana&&"function"==typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");y=e.solana}else{if("object"!=typeof d||!(null==v?void 0:v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=d}const m=new URL(null!==(t=null==v?void 0:v.url)&&void 0!==t?t:window.location.href);if("signIn"in y&&y.signIn){const e=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null==v?void 0:v.signInWithSolana),{version:"1",domain:m.host,uri:m.href}),g?{statement:g}:null));let t;if(Array.isArray(e)&&e[0]&&"object"==typeof e[0])t=e[0];else{if(!(e&&"object"==typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"==typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");f="string"==typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in y&&"function"==typeof y.signMessage&&"publicKey"in y&&"object"==typeof y&&y.publicKey&&"toBase58"in y.publicKey&&"function"==typeof y.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=[`${m.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${m.href}`,`Issued At: ${null!==(n=null===(r=null==v?void 0:v.signInWithSolana)||void 0===r?void 0:r.issuedAt)&&void 0!==n?n:(new Date).toISOString()}`,...(null===(s=null==v?void 0:v.signInWithSolana)||void 0===s?void 0:s.notBefore)?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...(null===(i=null==v?void 0:v.signInWithSolana)||void 0===i?void 0:i.expirationTime)?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...(null===(o=null==v?void 0:v.signInWithSolana)||void 0===o?void 0:o.chainId)?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...(null===(a=null==v?void 0:v.signInWithSolana)||void 0===a?void 0:a.nonce)?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...(null===(c=null==v?void 0:v.signInWithSolana)||void 0===c?void 0:c.requestId)?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...(null===(u=null===(l=null==v?void 0:v.signInWithSolana)||void 0===l?void 0:l.resources)||void 0===u?void 0:u.length)?["Resources",...v.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");const e=await y.signMessage((new TextEncoder).encode(f),"utf8");if(!(e&&e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:r}=await ft(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:Ve(p)},(null===(h=e.options)||void 0===h?void 0:h.captchaToken)?{gotrue_meta_security:{captcha_token:null===(d=e.options)||void 0===d?void 0:d.captchaToken}}:null),xform:pt});if(r)throw r;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:r}):{data:{user:null,session:null},error:new xe}}catch(e){if(Pe(e))return{data:{user:null,session:null},error:e};throw e}}async _exchangeCodeForSession(e){const t=await tt(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(null!=t?t:"").split("/");try{const{data:t,error:s}=await ft(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:pt});if(await rt(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!=n?n:null}),error:s}):{data:{user:null,session:null,redirectType:null},error:new xe}}catch(e){if(Pe(e))return{data:{user:null,session:null,redirectType:null},error:e};throw e}}async signInWithIdToken(e){try{const{options:t,provider:r,token:n,access_token:s,nonce:i}=e,o=await ft(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:pt}),{data:a,error:c}=o;return c?{data:{user:null,session:null},error:c}:a&&a.session&&a.user?(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:c}):{data:{user:null,session:null},error:new xe}}catch(e){if(Pe(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOtp(e){var t,r,n,s,i;try{if("email"in e){const{email:n,options:s}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await ot(this.storage,this.storageKey));const{error:a}=await ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:n,data:null!==(t=null==s?void 0:s.data)&&void 0!==t?t:{},create_user:null===(r=null==s?void 0:s.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},code_challenge:i,code_challenge_method:o},redirectTo:null==s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){const{phone:t,options:r}=e,{data:o,error:a}=await ft(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(n=null==r?void 0:r.data)&&void 0!==n?n:{},create_user:null===(s=null==r?void 0:r.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:null==r?void 0:r.captchaToken},channel:null!==(i=null==r?void 0:r.channel)&&void 0!==i?i:"sms"}});return{data:{user:null,session:null,messageId:null==o?void 0:o.message_id},error:a}}throw new Re("You must provide either an email or phone number.")}catch(e){if(Pe(e))return{data:{user:null,session:null},error:e};throw e}}async verifyOtp(e){var t,r;try{let n,s;"options"in e&&(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo,s=null===(r=e.options)||void 0===r?void 0:r.captchaToken);const{data:i,error:o}=await ft(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:n,xform:pt});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const a=i.session,c=i.user;return(null==a?void 0:a.access_token)&&(await this._saveSession(a),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(e){if(Pe(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithSSO(e){var t,r,n;try{let s=null,i=null;return"pkce"===this.flowType&&([s,i]=await ot(this.storage,this.storageKey)),await ft(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(n=null==e?void 0:e.options)||void 0===n?void 0:n.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:i}),headers:this.headers,xform:yt})}catch(e){if(Pe(e))return{data:null,error:e};throw e}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new Ie;const{error:n}=await ft(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(Pe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:s}=e,{error:i}=await ft(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},redirectTo:null==s?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in e){const{phone:r,type:n,options:s}=e,{data:i,error:o}=await ft(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:null==i?void 0:i.message_id},error:o}}throw new Re("You must provide either an email or phone number and a type")}catch(e){if(Pe(e))return{data:{user:null,session:null},error:e};throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(e){}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(e){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await tt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=!!e.expires_at&&1e3*e.expires_at-Date.now()<9e4;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,r,n)=>(t||"user"!==r||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,r,n))})}return{data:{session:e},error:null}}const{session:n,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:vt}):await this._useSession(async e=>{var t,r,n;const{data:s,error:i}=e;if(i)throw i;return(null===(t=s.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await ft(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(n=null===(r=s.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0,xform:vt}):{data:{user:null},error:new Ie}})}catch(e){if(Pe(e))return function(e){return Pe(e)&&"AuthSessionMissingError"===e.name}(e)&&(await this._removeSession(),await rt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:e};throw e}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:n,error:s}=r;if(s)throw s;if(!n.session)throw new Ie;const i=n.session;let o=null,a=null;"pkce"===this.flowType&&null!=e.email&&([o,a]=await ot(this.storage,this.storageKey));const{data:c,error:l}=await ft(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:a}),jwt:i.access_token,xform:vt});if(l)throw l;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(e){if(Pe(e))return{data:{user:null},error:e};throw e}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ie;const t=Date.now()/1e3;let r=t,n=!0,s=null;const{payload:i}=st(e.access_token);if(i.exp&&(r=i.exp,n=r<=t),n){const{session:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return{data:{user:null,session:null},error:r};if(!t)return{data:{user:null,session:null},error:null};s=t}else{const{data:n,error:i}=await this._getUser(e.access_token);if(i)throw i;s={access_token:e.access_token,refresh_token:e.refresh_token,user:n.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(e){if(Pe(e))return{data:{session:null,user:null},error:e};throw e}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:n,error:s}=t;if(s)throw s;e=null!==(r=n.session)&&void 0!==r?r:void 0}if(!(null==e?void 0:e.refresh_token))throw new Ie;const{session:n,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(e){if(Pe(e))return{data:{user:null,session:null},error:e};throw e}}async _getSessionFromURL(e,t){try{if(!Ye())throw new Ue("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ue(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Le("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Ue("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Le("No code detected.");const{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;const n=new URL(window.location.href);return n.searchParams.delete("code"),window.history.replaceState(window.history.state,"",n.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:s,refresh_token:i,expires_in:o,expires_at:a,token_type:c}=e;if(!(s&&o&&i&&c))throw new Ue("No session defined in URL");const l=Math.round(Date.now()/1e3),u=parseInt(o);let h=l+u;a&&(h=parseInt(a));const d=h-l;1e3*d<=_e&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${u}s`);const f=h-u;l-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,h,l):l-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,h,l);const{data:p,error:g}=await this._getUser(s);if(g)throw g;const v={provider_token:r,provider_refresh_token:n,access_token:s,expires_in:u,expires_at:h,refresh_token:i,token_type:c,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(e){if(Pe(e))return{data:{session:null,redirectType:null},error:e};throw e}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await tt(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:n,error:s}=t;if(s)return{error:s};const i=null===(r=n.session)||void 0===r?void 0:r.access_token;if(i){const{error:t}=await this.admin.signOut(i,e);if(t&&(!function(e){return Pe(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await rt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,n;try{const{data:{session:n},error:s}=t;if(s)throw s;await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(t){await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",t),console.error(t)}})}async resetPasswordForEmail(e,t={}){let r=null,n=null;"pkce"===this.flowType&&([r,n]=await ot(this.storage,this.storageKey,!0));try{return await ft(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(e){if(Pe(e))return{data:null,error:e};throw e}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(e){if(Pe(e))return{data:null,error:e};throw e}}async linkIdentity(e){var t;try{const{data:r,error:n}=await this._useSession(async t=>{var r,n,s,i,o;const{data:a,error:c}=t;if(c)throw c;const l=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(s=e.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:!0});return await ft(this.fetch,"GET",l,{headers:this.headers,jwt:null!==(o=null===(i=a.session)||void 0===i?void 0:i.access_token)&&void 0!==o?o:void 0})});if(n)throw n;return Ye()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null==r?void 0:r.url),{data:{provider:e.provider,url:null==r?void 0:r.url},error:null}}catch(t){if(Pe(t))return{data:{provider:e.provider,url:null},error:t};throw t}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,n;const{data:s,error:i}=t;if(i)throw i;return await ft(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(n=null===(r=s.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0})})}catch(e){if(Pe(e))return{data:null,error:e};throw e}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await(r=async r=>(r>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await ft(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:pt})),n=(e,t)=>{const r=200*Math.pow(2,e);return t&&Ne(t)&&Date.now()+r-s<_e},new Promise((e,t)=>{(async()=>{for(let s=0;s<1/0;s++)try{const t=await r(s);if(!n(s,null))return void e(t)}catch(e){if(!n(s,e))return void t(e)}})()}))}catch(e){if(this._debug(t,"error",e),Pe(e))return{data:{session:null,user:null},error:e};throw e}finally{this._debug(t,"end")}var r,n}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),Ye()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=await tt(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r))return this._debug(t,"session is not valid"),void(null!==r&&await this._removeSession());const n=1e3*(null!==(e=r.expires_at)&&void 0!==e?e:1/0)-Date.now()<9e4;if(this._debug(t,`session has${n?"":" not"} expired with margin of 90000s`),n){if(this.autoRefreshToken&&r.refresh_token){const{error:e}=await this._callRefreshToken(r.refresh_token);e&&(console.error(e),Ne(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(e){return this._debug(t,"error",e),void console.error(e)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new Ie;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new nt;const{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new Ie;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const n={session:t.session,error:null};return this.refreshingDeferred.resolve(n),n}catch(e){if(this._debug(n,"error",e),Pe(e)){const r={session:null,error:e};return Ne(e)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(r),r}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(e),e}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const n=[],s=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(e,t)}catch(e){n.push(e)}});if(await Promise.all(s),n.length>0){for(let e=0;e<n.length;e+=1)console.error(n[e]);throw n[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await et(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await rt(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ye()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),_e);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const n=Math.floor((1e3*r.expires_at-e)/_e);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),n<=3&&await this._callRefreshToken(r.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(!(e.isAcquireTimeout||e instanceof jt))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ye()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const n=[`provider=${encodeURIComponent(t)}`];if((null==r?void 0:r.redirectTo)&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),(null==r?void 0:r.scopes)&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),"pkce"===this.flowType){const[e,t]=await ot(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});n.push(r.toString())}if(null==r?void 0:r.queryParams){const e=new URLSearchParams(r.queryParams);n.push(e.toString())}return(null==r?void 0:r.skipBrowserRedirect)&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:n,error:s}=t;return s?{data:null,error:s}:await ft(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token})})}catch(e){if(Pe(e))return{data:null,error:e};throw e}}async _enroll(e){try{return await this._useSession(async t=>{var r,n;const{data:s,error:i}=t;if(i)return{data:null,error:i};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:c}=await ft(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:null===(r=null==s?void 0:s.session)||void 0===r?void 0:r.access_token});return c?{data:null,error:c}:("totp"===e.factorType&&(null===(n=null==a?void 0:a.totp)||void 0===n?void 0:n.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(e){if(Pe(e))return{data:null,error:e};throw e}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:n,error:s}=t;if(s)return{data:null,error:s};const{data:i,error:o}=await ft(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:o})})}catch(e){if(Pe(e))return{data:null,error:e};throw e}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:n,error:s}=t;return s?{data:null,error:s}:await ft(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token})})}catch(e){if(Pe(e))return{data:null,error:e};throw e}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(null==e?void 0:e.factors)||[],n=r.filter(e=>"totp"===e.factor_type&&"verified"===e.status),s=r.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:r,totp:n,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:n},error:s}=e;if(s)return{data:null,error:s};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=st(n.access_token);let o=null;i.aal&&(o=i.aal);let a=o;return(null!==(r=null===(t=n.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==r?r:[]).length>0&&(a="aal2"),{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:i.amr||[]},error:null}}))}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(t=>t.kid===e);if(r)return r;if(r=this.jwks.keys.find(t=>t.kid===e),r&&this.jwks_cached_at+6e5>Date.now())return r;const{data:n,error:s}=await ft(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!n.keys||0===n.keys.length)throw new Be("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),r=n.keys.find(t=>t.kid===e),!r)throw new Be("No matching signing key found in JWKS");return r}async getClaims(e,t={keys:[]}){try{let r=e;if(!r){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};r=e.session.access_token}const{header:n,payload:s,signature:i,raw:{header:o,payload:a}}=st(r);if(function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(s.exp),!n.kid||"HS256"===n.alg||!("crypto"in globalThis)||!("subtle"in globalThis.crypto)){const{error:e}=await this.getUser(r);if(e)throw e;return{data:{claims:s,header:n,signature:i},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(n.alg),l=await this.fetchJwk(n.kid,t),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,u,i,function(e){const t=[];return function(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const t=1024*(n-55296)&65535;n=65536+(e.charCodeAt(r+1)-56320&65535|t),r+=1}Ke(n,t)}}(e,e=>t.push(e)),new Uint8Array(t)}(`${o}.${a}`)))throw new Be("Invalid JWT signature");return{data:{claims:s,header:n,signature:i},error:null}}catch(e){if(Pe(e))return{data:null,error:e};throw e}}}$t.nextInstanceID=0;const Ct=$t;class It extends Ct{constructor(e){super(e)}}class xt{constructor(e,t,r){var n,s,i;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=(a=e).endsWith("/")?a:a+"/";var a;const c=new URL(o);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const l=`sb-${c.hostname.split(".")[0]}-auth-token`,h=function(e,t){var r,n;const{db:s,auth:i,realtime:o,global:a}=e,{db:c,auth:l,realtime:u,global:h}=t,d={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},l),i),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},null!==(r=null==h?void 0:h.headers)&&void 0!==r?r:{}),null!==(n=null==a?void 0:a.headers)&&void 0!==n?n:{})}),accessToken:()=>{return e=this,t=void 0,n=function*(){return""},new((r=void 0)||(r=Promise))(function(s,i){function o(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())});var e,t,r,n}};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}(null!=r?r:{},{db:pe,realtime:ve,auth:Object.assign(Object.assign({},ge),{storageKey:l}),global:fe});this.storageKey=null!==(n=h.auth.storageKey)&&void 0!==n?n:"",this.headers=null!==(s=h.global.headers)&&void 0!==s?s:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(i=h.auth)&&void 0!==i?i:{},this.headers,h.global.fetch),this.fetch=we(t,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new u(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new c(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new he(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t,r,n,s,i;return r=this,n=void 0,i=function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return null!==(t=null===(e=r.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null},new((s=void 0)||(s=Promise))(function(e,t){function o(e){try{c(i.next(e))}catch(e){t(e)}}function a(e){try{c(i.throw(e))}catch(e){t(e)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof s?r:new s(function(e){e(r)})).then(o,a)}c((i=i.apply(r,n||[])).next())})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,storageKey:s,flowType:i,lock:o,debug:a},c,l){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new It({url:this.authUrl.href,headers:Object.assign(Object.assign({},u),c),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,flowType:i,lock:o,debug:a,fetch:l,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new G(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===r?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=r}}function Rt(e){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rt(e)}function Ut(e,t,r){return(t=function(e){var t=function(e){if("object"!=Rt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Rt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Rt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lt(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",s=r.toStringTag||"@@toStringTag";function i(r,n,s,i){var c=n&&n.prototype instanceof a?n:a,l=Object.create(c.prototype);return Dt(l,"_invoke",function(r,n,s){var i,a,c,l=0,u=s||[],h=!1,d={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return i=t,a=0,c=e,d.n=r,o}};function f(r,n){for(a=r,c=n,t=0;!h&&l&&!s&&t<u.length;t++){var s,i=u[t],f=d.p,p=i[2];r>3?(s=p===n)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=f&&((s=r<2&&f<i[1])?(a=0,d.v=n,d.n=i[1]):f<p&&(s=r<3||i[0]>n||n>p)&&(i[4]=r,i[5]=n,d.n=p,a=0))}if(s||r>1)return o;throw h=!0,n}return function(s,u,p){if(l>1)throw TypeError("Generator is already running");for(h&&1===u&&f(u,p),a=u,c=p;(t=a<2?e:c)||!h;){i||(a?a<3?(a>1&&(d.n=-1),f(a,c)):d.n=c:d.v=c);try{if(l=2,i){if(a||(s="next"),t=i[s]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+s+"' method"),a=1);i=e}else if((t=(h=d.n<0)?c:r.call(n,d))!==o)break}catch(t){i=e,a=1,c=t}finally{l=1}}return{value:t,done:h}}}(r,s,i),!0),l}var o={};function a(){}function c(){}function l(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(Dt(t={},n,function(){return this}),t),h=l.prototype=a.prototype=Object.create(u);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,Dt(e,s,"GeneratorFunction")),e.prototype=Object.create(h),e}return c.prototype=l,Dt(h,"constructor",l),Dt(l,"constructor",c),c.displayName="GeneratorFunction",Dt(l,s,"GeneratorFunction"),Dt(h),Dt(h,s,"Generator"),Dt(h,n,function(){return this}),Dt(h,"toString",function(){return"[object Generator]"}),(Lt=function(){return{w:i,m:d}})()}function Dt(e,t,r,n){var s=Object.defineProperty;try{s({},"",{})}catch(e){s=0}Dt=function(e,t,r,n){if(t)s?s(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r;else{var i=function(t,r){Dt(e,t,function(e){return this._invoke(t,r,e)})};i("next",0),i("throw",1),i("return",2)}},Dt(e,t,r,n)}function Nt(e,t,r,n,s,i,o){try{var a=e[i](o),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,s)}function qt(e){return function(){var t=this,r=arguments;return new Promise(function(n,s){var i=e.apply(t,r);function o(e){Nt(i,n,s,o,a,"next",e)}function a(e){Nt(i,n,s,o,a,"throw",e)}o(void 0)})}}var Bt=new xt("https://tpjnyiyvpyzzbzhajbjh.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRwam55aXl2cHl6emJ6aGFqYmpoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE2NDA1NTQsImV4cCI6MjA2NzIxNjU1NH0.cflFdHytlTUA_H_AP7E3Kry9-S-xw45pIRoJQtfk4AE",{auth:{storage:{getItem:function(e){return qt(Lt().m(function t(){var r;return Lt().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,chrome.storage.local.get(e);case 1:return r=t.v,t.a(2,r[e]||null)}},t)}))()},setItem:function(e,t){return qt(Lt().m(function r(){return Lt().w(function(r){for(;;)switch(r.n){case 0:return r.n=1,chrome.storage.local.set(Ut({},e,t));case 1:return r.a(2)}},r)}))()},removeItem:function(e){return qt(Lt().m(function t(){return Lt().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,chrome.storage.local.remove(e);case 1:return t.a(2)}},t)}))()}},autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});function Ft(e){return Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ft(e)}function Mt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(r),!0).forEach(function(t){Gt(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Gt(e,t,r){return(t=Xt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jt(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",s=r.toStringTag||"@@toStringTag";function i(r,n,s,i){var c=n&&n.prototype instanceof a?n:a,l=Object.create(c.prototype);return Wt(l,"_invoke",function(r,n,s){var i,a,c,l=0,u=s||[],h=!1,d={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return i=t,a=0,c=e,d.n=r,o}};function f(r,n){for(a=r,c=n,t=0;!h&&l&&!s&&t<u.length;t++){var s,i=u[t],f=d.p,p=i[2];r>3?(s=p===n)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=f&&((s=r<2&&f<i[1])?(a=0,d.v=n,d.n=i[1]):f<p&&(s=r<3||i[0]>n||n>p)&&(i[4]=r,i[5]=n,d.n=p,a=0))}if(s||r>1)return o;throw h=!0,n}return function(s,u,p){if(l>1)throw TypeError("Generator is already running");for(h&&1===u&&f(u,p),a=u,c=p;(t=a<2?e:c)||!h;){i||(a?a<3?(a>1&&(d.n=-1),f(a,c)):d.n=c:d.v=c);try{if(l=2,i){if(a||(s="next"),t=i[s]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+s+"' method"),a=1);i=e}else if((t=(h=d.n<0)?c:r.call(n,d))!==o)break}catch(t){i=e,a=1,c=t}finally{l=1}}return{value:t,done:h}}}(r,s,i),!0),l}var o={};function a(){}function c(){}function l(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(Wt(t={},n,function(){return this}),t),h=l.prototype=a.prototype=Object.create(u);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,Wt(e,s,"GeneratorFunction")),e.prototype=Object.create(h),e}return c.prototype=l,Wt(h,"constructor",l),Wt(l,"constructor",c),c.displayName="GeneratorFunction",Wt(l,s,"GeneratorFunction"),Wt(h),Wt(h,s,"Generator"),Wt(h,n,function(){return this}),Wt(h,"toString",function(){return"[object Generator]"}),(Jt=function(){return{w:i,m:d}})()}function Wt(e,t,r,n){var s=Object.defineProperty;try{s({},"",{})}catch(e){s=0}Wt=function(e,t,r,n){if(t)s?s(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r;else{var i=function(t,r){Wt(e,t,function(e){return this._invoke(t,r,e)})};i("next",0),i("throw",1),i("return",2)}},Wt(e,t,r,n)}function Kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,i,o,a=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);c=!0);}catch(e){l=!0,s=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw s}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ht(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ht(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Vt(e,t,r,n,s,i,o){try{var a=e[i](o),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,s)}function Yt(e){return function(){var t=this,r=arguments;return new Promise(function(n,s){var i=e.apply(t,r);function o(e){Vt(i,n,s,o,a,"next",e)}function a(e){Vt(i,n,s,o,a,"throw",e)}o(void 0)})}}function Qt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xt(n.key),n)}}function Xt(e){var t=function(e){if("object"!=Ft(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Ft(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ft(t)?t:t+""}var Zt=new(function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t=[{key:"getData",value:(b=Yt(Jt().m(function e(){var t,r,n,s,i,o,a,c,l,u;return Jt().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Bt.auth.getSession();case 1:if(t=e.v,r=t.data,!t.error&&r.session){e.n=2;break}return e.a(2,this.getDefaultData());case 2:return n=r.session.user,console.log("Fetching data for user:",n.id),e.n=3,Promise.all([Bt.from("links").select("*").eq("user_id",n.id),Bt.from("collections").select("*").eq("user_id",n.id)]);case 3:return s=e.v,i=Kt(s,2),o=i[0],a=i[1],o.error&&console.error("Error fetching links:",o.error),a.error&&console.error("Error fetching collections:",a.error),c=(o.data||[]).map(function(e){return{id:e.id,url:e.url,title:e.title,favicon:e.favicon,userNote:e.user_note||"",aiSummary:e.ai_summary,category:e.category,collectionId:e.collection_id,createdAt:new Date(e.created_at),updatedAt:new Date(e.updated_at),domain:e.domain}}),l=(a.data||[]).map(function(e){return{id:e.id,name:e.name,description:e.description,color:e.color,createdAt:new Date(e.created_at),updatedAt:new Date(e.updated_at)}}),u={links:c,collections:l,categories:this.getDefaultCategories(),settings:{defaultCategory:"general",autoSummarize:!0}},console.log("Data fetched from Supabase:",u),e.a(2,u)}},e,this)})),function(){return b.apply(this,arguments)})},{key:"addLink",value:(w=Yt(Jt().m(function e(t){var r,n,s,i,o,a,c;return Jt().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Bt.auth.getSession();case 1:if(n=e.v,s=n.data,i=null===(r=s.session)||void 0===r?void 0:r.user){e.n=2;break}return console.error("User not logged in"),e.a(2,{success:!1,error:"User not logged in."});case 2:return o={user_id:i.id,collection_id:t.collectionId||null,url:t.url,title:t.title,favicon:t.favicon,domain:t.domain,user_note:t.userNote,ai_summary:t.aiSummary,category:t.category},e.n=3,Bt.from("links").insert(o);case 3:if(a=e.v,!(c=a.error)){e.n=4;break}return console.error("Supabase addLink error:",c),e.a(2,{success:!1,error:c.message||"Database error occurred."});case 4:return e.a(2,{success:!0})}},e)})),function(e){return w.apply(this,arguments)})},{key:"updateLink",value:(m=Yt(Jt().m(function e(t,r){var n,s;return Jt().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Bt.from("links").update(zt(zt({},r),{},{updatedAt:new Date})).eq("id",t);case 1:if(n=e.v,!(s=n.error)){e.n=2;break}throw s;case 2:return e.a(2)}},e)})),function(e,t){return m.apply(this,arguments)})},{key:"deleteLink",value:(y=Yt(Jt().m(function e(t){var r,n;return Jt().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Bt.from("links").delete().eq("id",t);case 1:if(r=e.v,!(n=r.error)){e.n=2;break}throw n;case 2:return e.a(2)}},e)})),function(e){return y.apply(this,arguments)})},{key:"addCollection",value:(v=Yt(Jt().m(function e(t){var r,n,s,i,o,a,c;return Jt().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Bt.auth.getSession();case 1:if(n=e.v,s=n.data,i=null===(r=s.session)||void 0===r?void 0:r.user){e.n=2;break}throw new Error("User not logged in.");case 2:return o={user_id:i.id,name:t.name,description:t.description,color:t.color},e.n=3,Bt.from("collections").insert(o);case 3:if(a=e.v,!(c=a.error)){e.n=4;break}throw c;case 4:return e.a(2)}},e)})),function(e){return v.apply(this,arguments)})},{key:"updateCollection",value:(g=Yt(Jt().m(function e(t,r){var n,s;return Jt().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Bt.from("collections").update(zt(zt({},r),{},{updatedAt:new Date})).eq("id",t);case 1:if(n=e.v,!(s=n.error)){e.n=2;break}throw s;case 2:return e.a(2)}},e)})),function(e,t){return g.apply(this,arguments)})},{key:"deleteCollection",value:(p=Yt(Jt().m(function e(t){var r,n;return Jt().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Bt.from("collections").delete().eq("id",t);case 1:if(r=e.v,!(n=r.error)){e.n=2;break}throw n;case 2:return e.a(2)}},e)})),function(e){return p.apply(this,arguments)})},{key:"searchLinks",value:(f=Yt(Jt().m(function e(t){var r,n,s,i,o,a,c,l;return Jt().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Bt.auth.getSession();case 1:if(n=e.v,s=n.data,i=null===(r=s.session)||void 0===r?void 0:r.user){e.n=2;break}return console.error("User not logged in"),e.a(2,[]);case 2:if(t.trim()){e.n=3;break}return e.a(2,[]);case 3:return e.p=3,e.n=4,Bt.rpc("search_user_links",{search_query:t.trim(),user_uuid:i.id,result_limit:50});case 4:if(o=e.v,a=o.data,!(c=o.error)){e.n=5;break}return console.error("Search error:",c),e.a(2,[]);case 5:return e.a(2,(a||[]).map(function(e){return{id:e.id,url:e.url,title:e.title,favicon:e.favicon,userNote:e.user_note||"",aiSummary:e.ai_summary,category:e.category,collectionId:e.collection_id,createdAt:new Date(e.created_at),updatedAt:new Date(e.updated_at),domain:e.domain,searchRank:e.rank,searchHeadline:e.headline}}));case 6:return e.p=6,l=e.v,console.error("Search failed:",l),e.a(2,[])}},e,null,[[3,6]])})),function(e){return f.apply(this,arguments)})},{key:"getUserTags",value:(d=Yt(Jt().m(function e(){var t,r,n,s,i,o,a,c;return Jt().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Bt.auth.getSession();case 1:if(r=e.v,n=r.data,s=null===(t=n.session)||void 0===t?void 0:t.user){e.n=2;break}return console.error("User not logged in"),e.a(2,[]);case 2:return e.p=2,e.n=3,Bt.rpc("get_user_tags_with_counts",{user_uuid:s.id});case 3:if(i=e.v,o=i.data,!(a=i.error)){e.n=4;break}return console.error("Error fetching user tags:",a),e.a(2,[]);case 4:return e.a(2,(o||[]).map(function(e){return{id:e.id,name:e.name,usageCount:e.usage_count||0}}));case 5:return e.p=5,c=e.v,console.error("Failed to get user tags:",c),e.a(2,[])}},e,null,[[2,5]])})),function(){return d.apply(this,arguments)})},{key:"getLinkTags",value:(h=Yt(Jt().m(function e(t){var r,n,s,i;return Jt().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,Bt.rpc("get_link_tags",{link_uuid:t});case 1:if(r=e.v,n=r.data,!(s=r.error)){e.n=2;break}return console.error("Error fetching link tags:",s),e.a(2,[]);case 2:return e.a(2,n||[]);case 3:return e.p=3,i=e.v,console.error("Failed to get link tags:",i),e.a(2,[])}},e,null,[[0,3]])})),function(e){return h.apply(this,arguments)})},{key:"addTagsToLink",value:(u=Yt(Jt().m(function e(t,r){var n,s,i,o,a,c,l;return Jt().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Bt.auth.getSession();case 1:if(s=e.v,i=s.data,o=null===(n=i.session)||void 0===n?void 0:n.user){e.n=2;break}return e.a(2,{success:!1,error:"User not logged in."});case 2:return e.p=2,e.n=3,Bt.rpc("add_tags_to_link",{link_uuid:t,tag_names:r,user_uuid:o.id});case 3:if(a=e.v,!(c=a.error)){e.n=4;break}return console.error("Error adding tags to link:",c),e.a(2,{success:!1,error:c.message||"Failed to add tags."});case 4:return e.a(2,{success:!0});case 5:return e.p=5,l=e.v,console.error("Failed to add tags to link:",l),e.a(2,{success:!1,error:l.message})}},e,null,[[2,5]])})),function(e,t){return u.apply(this,arguments)})},{key:"getLinksByTag",value:(l=Yt(Jt().m(function e(t){var r,n,s,i,o,a,c,l;return Jt().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Bt.auth.getSession();case 1:if(n=e.v,s=n.data,i=null===(r=s.session)||void 0===r?void 0:r.user){e.n=2;break}return console.error("User not logged in"),e.a(2,[]);case 2:return e.p=2,e.n=3,Bt.rpc("get_links_by_tag",{user_uuid:i.id,tag_name:t});case 3:if(o=e.v,a=o.data,!(c=o.error)){e.n=4;break}return console.error("Error fetching links by tag:",c),e.a(2,[]);case 4:return e.a(2,(a||[]).map(function(e){return{id:e.id,url:e.url,title:e.title,favicon:e.favicon,userNote:e.user_note||"",aiSummary:e.ai_summary,category:e.category,collectionId:e.collection_id,createdAt:new Date(e.created_at),updatedAt:new Date(e.updated_at),domain:e.domain}}));case 5:return e.p=5,l=e.v,console.error("Failed to get links by tag:",l),e.a(2,[])}},e,null,[[2,5]])})),function(e){return l.apply(this,arguments)})},{key:"cleanupUnusedTags",value:(c=Yt(Jt().m(function e(){var t,r,n,s,i,o,a,c;return Jt().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Bt.auth.getSession();case 1:if(r=e.v,n=r.data,s=null===(t=n.session)||void 0===t?void 0:t.user){e.n=2;break}return e.a(2,0);case 2:return e.p=2,e.n=3,Bt.rpc("cleanup_unused_tags",{user_uuid:s.id});case 3:if(i=e.v,o=i.data,!(a=i.error)){e.n=4;break}return console.error("Error cleaning up unused tags:",a),e.a(2,0);case 4:return e.a(2,o||0);case 5:return e.p=5,c=e.v,console.error("Failed to cleanup unused tags:",c),e.a(2,0)}},e,null,[[2,5]])})),function(){return c.apply(this,arguments)})},{key:"toggleCollectionSharing",value:(a=Yt(Jt().m(function e(t,r){var n,s,i,o,a,c,l,u,h;return Jt().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Bt.auth.getSession();case 1:if(s=e.v,i=s.data,o=null===(n=i.session)||void 0===n?void 0:n.user){e.n=2;break}return e.a(2,{success:!1,message:"User not logged in."});case 2:return e.p=2,e.n=3,Bt.rpc("toggle_collection_sharing",{collection_uuid:t,user_uuid:o.id,make_public:r});case 3:if(a=e.v,c=a.data,!(l=a.error)){e.n=4;break}return console.error("Error toggling collection sharing:",l),e.a(2,{success:!1,message:l.message||"Failed to update sharing settings."});case 4:return u=null==c?void 0:c[0],e.a(2,{success:(null==u?void 0:u.success)||!1,shareToken:null==u?void 0:u.share_token,message:(null==u?void 0:u.message)||"Sharing settings updated."});case 5:return e.p=5,h=e.v,console.error("Failed to toggle collection sharing:",h),e.a(2,{success:!1,message:h.message})}},e,null,[[2,5]])})),function(e,t){return a.apply(this,arguments)})},{key:"getCollectionSharingInfo",value:(o=Yt(Jt().m(function e(t){var r,n,s,i,o,a,c,l;return Jt().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Bt.auth.getSession();case 1:if(n=e.v,s=n.data,i=null===(r=s.session)||void 0===r?void 0:r.user){e.n=2;break}return e.a(2,null);case 2:return e.p=2,e.n=3,Bt.from("collections").select("is_public, share_token, view_count").eq("id",t).eq("user_id",i.id).single();case 3:if(o=e.v,a=o.data,!(c=o.error)){e.n=4;break}return console.error("Error fetching collection sharing info:",c),e.a(2,null);case 4:return e.a(2,{isPublic:a.is_public||!1,shareToken:a.share_token,viewCount:a.view_count||0});case 5:return e.p=5,l=e.v,console.error("Failed to get collection sharing info:",l),e.a(2,null)}},e,null,[[2,5]])})),function(e){return o.apply(this,arguments)})},{key:"getDefaultCategories",value:function(){return[{id:"general",name:"General",color:"#6b7280",isDefault:!0},{id:"work",name:"Work",color:"#3b82f6"},{id:"personal",name:"Personal",color:"#10b981"},{id:"learning",name:"Learning",color:"#f59e0b"}]}},{key:"getDefaultData",value:function(){return{links:[],collections:[],categories:this.getDefaultCategories(),settings:{defaultCategory:"general",autoSummarize:!0}}}}],r=[{key:"getPublicCollection",value:(i=Yt(Jt().m(function e(t){var r,n,s,i,o;return Jt().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,Bt.rpc("get_public_collection",{token:t});case 1:if(r=e.v,n=r.data,!(s=r.error)){e.n=2;break}return console.error("Error fetching public collection:",s),e.a(2,null);case 2:if(i=null==n?void 0:n[0]){e.n=3;break}return e.a(2,null);case 3:return e.a(2,{id:i.id,name:i.name,description:i.description,viewCount:i.view_count||0,createdAt:new Date(i.created_at),ownerEmail:i.owner_email});case 4:return e.p=4,o=e.v,console.error("Failed to get public collection:",o),e.a(2,null)}},e,null,[[0,4]])})),function(e){return i.apply(this,arguments)})},{key:"getPublicCollectionLinks",value:(s=Yt(Jt().m(function e(t){var r,n,s,i;return Jt().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,Bt.rpc("get_public_collection_links",{token:t});case 1:if(r=e.v,n=r.data,!(s=r.error)){e.n=2;break}return console.error("Error fetching public collection links:",s),e.a(2,[]);case 2:return e.a(2,(n||[]).map(function(e){return{id:e.id,url:e.url,title:e.title,favicon:e.favicon,domain:e.domain,userNote:e.user_note,aiSummary:e.ai_summary,category:e.category,createdAt:new Date(e.created_at),tags:e.tag_names||[]}}));case 3:return e.p=3,i=e.v,console.error("Failed to get public collection links:",i),e.a(2,[])}},e,null,[[0,3]])})),function(e){return s.apply(this,arguments)})},{key:"incrementViewCount",value:(n=Yt(Jt().m(function e(t){var r,n,s;return Jt().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,Bt.rpc("increment_collection_views",{token:t});case 1:r=e.v,(n=r.error)&&console.error("Error incrementing view count:",n),e.n=3;break;case 2:e.p=2,s=e.v,console.error("Failed to increment view count:",s);case 3:return e.a(2)}},e,null,[[0,2]])})),function(e){return n.apply(this,arguments)})}],t&&Qt(e.prototype,t),r&&Qt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r,n,s,i,o,a,c,l,u,h,d,f,p,g,v,y,m,w,b}());function er(e){return er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},er(e)}function tr(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",s=r.toStringTag||"@@toStringTag";function i(r,n,s,i){var c=n&&n.prototype instanceof a?n:a,l=Object.create(c.prototype);return rr(l,"_invoke",function(r,n,s){var i,a,c,l=0,u=s||[],h=!1,d={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return i=t,a=0,c=e,d.n=r,o}};function f(r,n){for(a=r,c=n,t=0;!h&&l&&!s&&t<u.length;t++){var s,i=u[t],f=d.p,p=i[2];r>3?(s=p===n)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=f&&((s=r<2&&f<i[1])?(a=0,d.v=n,d.n=i[1]):f<p&&(s=r<3||i[0]>n||n>p)&&(i[4]=r,i[5]=n,d.n=p,a=0))}if(s||r>1)return o;throw h=!0,n}return function(s,u,p){if(l>1)throw TypeError("Generator is already running");for(h&&1===u&&f(u,p),a=u,c=p;(t=a<2?e:c)||!h;){i||(a?a<3?(a>1&&(d.n=-1),f(a,c)):d.n=c:d.v=c);try{if(l=2,i){if(a||(s="next"),t=i[s]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+s+"' method"),a=1);i=e}else if((t=(h=d.n<0)?c:r.call(n,d))!==o)break}catch(t){i=e,a=1,c=t}finally{l=1}}return{value:t,done:h}}}(r,s,i),!0),l}var o={};function a(){}function c(){}function l(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(rr(t={},n,function(){return this}),t),h=l.prototype=a.prototype=Object.create(u);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,rr(e,s,"GeneratorFunction")),e.prototype=Object.create(h),e}return c.prototype=l,rr(h,"constructor",l),rr(l,"constructor",c),c.displayName="GeneratorFunction",rr(l,s,"GeneratorFunction"),rr(h),rr(h,s,"Generator"),rr(h,n,function(){return this}),rr(h,"toString",function(){return"[object Generator]"}),(tr=function(){return{w:i,m:d}})()}function rr(e,t,r,n){var s=Object.defineProperty;try{s({},"",{})}catch(e){s=0}rr=function(e,t,r,n){if(t)s?s(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r;else{var i=function(t,r){rr(e,t,function(e){return this._invoke(t,r,e)})};i("next",0),i("throw",1),i("return",2)}},rr(e,t,r,n)}function nr(e,t,r,n,s,i,o){try{var a=e[i](o),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,s)}function sr(e){return function(){var t=this,r=arguments;return new Promise(function(n,s){var i=e.apply(t,r);function o(e){nr(i,n,s,o,a,"next",e)}function a(e){nr(i,n,s,o,a,"throw",e)}o(void 0)})}}function ir(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,or(n.key),n)}}function or(e){var t=function(e){if("object"!=er(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=er(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==er(t)?t:t+""}var ar=new(function(){return e=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.apiKey=t.apiKey||"",this.model=t.model||"gpt-3.5-turbo"},t=[{key:"generateSummary",value:(n=sr(tr().m(function e(t,r,n){var s,i;return tr().w(function(e){for(;;)switch(e.n){case 0:if(this.apiKey){e.n=1;break}return e.a(2,this.generatePlaceholderSummary(t,r,n));case 1:return e.p=1,e.n=2,this.callOpenAI(t,r,n);case 2:return s=e.v,e.a(2,s);case 3:return e.p=3,i=e.v,console.error("AI summary generation failed:",i),e.a(2,this.generatePlaceholderSummary(t,r,n))}},e,this,[[1,3]])})),function(e,t,r){return n.apply(this,arguments)})},{key:"generatePlaceholderSummary",value:function(e,t,r){var n=new URL(r).hostname,s=e.length;return n.includes("github.com")?"GitHub repository or project page: ".concat(t):n.includes("stackoverflow.com")?"Stack Overflow discussion about programming or technical topics":n.includes("medium.com")||n.includes("blog")?"Blog article: ".concat(t.substring(0,50),"..."):n.includes("youtube.com")?"Video content: ".concat(t):n.includes("news")||n.includes("article")?"News article from ".concat(n):"Web page from ".concat(n," (").concat(Math.round(s/100)," paragraphs)")}},{key:"callOpenAI",value:(r=sr(tr().m(function e(t,r,n){var s,i,o,a;return tr().w(function(e){for(;;)switch(e.n){case 0:return i="Summarize this web page in 1-2 sentences:\nTitle: ".concat(r,"\nURL: ").concat(n,"\nContent: ").concat(t.substring(0,1e3),"..."),e.n=1,fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{Authorization:"Bearer ".concat(this.apiKey),"Content-Type":"application/json"},body:JSON.stringify({model:this.model,messages:[{role:"user",content:i}],max_tokens:100,temperature:.3})});case 1:return o=e.v,e.n=2,o.json();case 2:return a=e.v,e.a(2,(null===(s=a.choices[0])||void 0===s||null===(s=s.message)||void 0===s?void 0:s.content)||this.generatePlaceholderSummary(t,r,n))}},e,this)})),function(e,t,n){return r.apply(this,arguments)})},{key:"updateApiKey",value:function(e){this.apiKey=e}}],t&&ir(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r,n}());function cr(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",s=r.toStringTag||"@@toStringTag";function i(r,n,s,i){var c=n&&n.prototype instanceof a?n:a,l=Object.create(c.prototype);return lr(l,"_invoke",function(r,n,s){var i,a,c,l=0,u=s||[],h=!1,d={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return i=t,a=0,c=e,d.n=r,o}};function f(r,n){for(a=r,c=n,t=0;!h&&l&&!s&&t<u.length;t++){var s,i=u[t],f=d.p,p=i[2];r>3?(s=p===n)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=f&&((s=r<2&&f<i[1])?(a=0,d.v=n,d.n=i[1]):f<p&&(s=r<3||i[0]>n||n>p)&&(i[4]=r,i[5]=n,d.n=p,a=0))}if(s||r>1)return o;throw h=!0,n}return function(s,u,p){if(l>1)throw TypeError("Generator is already running");for(h&&1===u&&f(u,p),a=u,c=p;(t=a<2?e:c)||!h;){i||(a?a<3?(a>1&&(d.n=-1),f(a,c)):d.n=c:d.v=c);try{if(l=2,i){if(a||(s="next"),t=i[s]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+s+"' method"),a=1);i=e}else if((t=(h=d.n<0)?c:r.call(n,d))!==o)break}catch(t){i=e,a=1,c=t}finally{l=1}}return{value:t,done:h}}}(r,s,i),!0),l}var o={};function a(){}function c(){}function l(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(lr(t={},n,function(){return this}),t),h=l.prototype=a.prototype=Object.create(u);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,lr(e,s,"GeneratorFunction")),e.prototype=Object.create(h),e}return c.prototype=l,lr(h,"constructor",l),lr(l,"constructor",c),c.displayName="GeneratorFunction",lr(l,s,"GeneratorFunction"),lr(h),lr(h,s,"Generator"),lr(h,n,function(){return this}),lr(h,"toString",function(){return"[object Generator]"}),(cr=function(){return{w:i,m:d}})()}function lr(e,t,r,n){var s=Object.defineProperty;try{s({},"",{})}catch(e){s=0}lr=function(e,t,r,n){if(t)s?s(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r;else{var i=function(t,r){lr(e,t,function(e){return this._invoke(t,r,e)})};i("next",0),i("throw",1),i("return",2)}},lr(e,t,r,n)}function ur(e,t,r,n,s,i,o){try{var a=e[i](o),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,s)}function hr(e){return function(){var t=this,r=arguments;return new Promise(function(n,s){var i=e.apply(t,r);function o(e){ur(i,n,s,o,a,"next",e)}function a(e){ur(i,n,s,o,a,"throw",e)}o(void 0)})}}function dr(e,t){return fr.apply(this,arguments)}function fr(){return(fr=hr(cr().m(function e(t,r){var n,s,i,o,a,c,l,u,h,d,f;return cr().w(function(e){for(;;)switch(e.n){case 0:if(e.p=0,n=r||t.url,s=t.title||"Untitled",n&&!n.startsWith("chrome://")&&!n.startsWith("chrome-extension://")){e.n=1;break}return e.a(2,{success:!1,error:"Cannot save this type of page."});case 1:if(i="",!t.id){e.n=5;break}return e.p=2,e.n=3,chrome.tabs.sendMessage(t.id,{action:"getPageContent"});case 3:o=e.v,i=(null==o?void 0:o.content)||"",e.n=5;break;case 4:e.p=4,d=e.v,console.log("Could not extract page content:",d);case 5:return a=new URL(n).hostname,e.n=6,ar.generateSummary(i,s,n);case 6:return c=e.v,l={url:n,title:s,favicon:t.favIconUrl||"https://www.google.com/s2/favicons?domain=".concat(a,"&sz=32"),userNote:"",aiSummary:c,category:"general",domain:a},e.n=7,Zt.addLink(l);case 7:if((u=e.v).success){e.n=8;break}throw new Error(u.error||"Failed to save link to database.");case 8:return chrome.notifications.create({type:"basic",iconUrl:"icons/icon48.png",title:"Saved to Nest",message:'"'.concat(s,'" has been saved.')}),e.a(2,{success:!0});case 9:return e.p=9,f=e.v,console.error("Failed to save page:",f),h=f.message||"An unknown error occurred.",chrome.notifications.create({type:"basic",iconUrl:"icons/icon48.png",title:"Nest Error",message:"Failed to save page: ".concat(h)}),e.a(2,{success:!1,error:h})}},e,null,[[2,4],[0,9]])}))).apply(this,arguments)}function pr(e){return gr.apply(this,arguments)}function gr(){return(gr=hr(cr().m(function e(t){var r,n;return cr().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,chrome.tabs.sendMessage(t,{action:"getPageContent"});case 1:return r=e.v,e.a(2,r);case 2:return e.p=2,n=e.v,console.error("Failed to get page content:",n),e.a(2,{content:""})}},e,null,[[0,2]])}))).apply(this,arguments)}chrome.runtime.onInstalled.addListener(function(){chrome.contextMenus.create({id:"saveToNest",title:"Save to Nest",contexts:["page","link"]}),console.log("Nest extension installed")}),chrome.contextMenus.onClicked.addListener(function(){var e=hr(cr().m(function e(t,r){return cr().w(function(e){for(;;)switch(e.n){case 0:if("saveToNest"!==t.menuItemId||!r){e.n=1;break}return e.n=1,dr(r,t.linkUrl);case 1:return e.a(2)}},e)}));return function(t,r){return e.apply(this,arguments)}}()),chrome.action.onClicked.addListener(function(){var e=hr(cr().m(function e(t){return cr().w(function(e){for(;;)switch(e.n){case 0:console.log("Action clicked, but popup should handle this");case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()),chrome.runtime.onMessage.addListener(function(e,t,r){return console.log("Background: Message received:",e),hr(cr().m(function n(){var s,i,o,a;return cr().w(function(n){for(;;)switch(n.n){case 0:if(n.p=0,"saveCurrentPage"!==e.action){n.n=5;break}return n.n=1,chrome.tabs.query({active:!0,currentWindow:!0});case 1:if(!(s=n.v)[0]){n.n=3;break}return n.n=2,dr(s[0]);case 2:i=n.v,r(i),n.n=4;break;case 3:r({success:!1,error:"No active tab found."});case 4:n.n=10;break;case 5:if("getPageContent"!==e.action){n.n=9;break}if(!t.tab||!t.tab.id){n.n=7;break}return n.n=6,pr(t.tab.id);case 6:o=n.v,r(o),n.n=8;break;case 7:r({content:""});case 8:n.n=10;break;case 9:r({success:!1,error:"Unknown action"});case 10:n.n=12;break;case 11:n.p=11,a=n.v,console.error("Background script error:",a),r({success:!1,error:a.message});case 12:return n.a(2)}},n,null,[[0,11]])}))(),!0}),chrome.commands.onCommand.addListener(function(){var e=hr(cr().m(function e(t){var r;return cr().w(function(e){for(;;)switch(e.n){case 0:if("save-page"!==t){e.n=2;break}return e.n=1,chrome.tabs.query({active:!0,currentWindow:!0});case 1:if(!(r=e.v)[0]){e.n=2;break}return e.n=2,dr(r[0]);case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}())})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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U0FBQTIzQixFQUFPc0wsR0FBTyxJQUFBM0IsRUFBQSxPQUFBdE8sS0FBQUMsRUFBQSxTQUFBNEUsR0FBQSxjQUFBQSxFQUFBL0YsR0FBQSxVQUNsQyxjQUFabVIsRUFBdUIsQ0FBQXBMLEVBQUEvRixFQUFBLGVBQUErRixFQUFBL0YsRUFBQSxFQUNONkIsT0FBTzJOLEtBQUsxdkMsTUFBTSxDQUFFZ3hDLFFBQVEsRUFBTUMsZUFBZSxJQUFPLE9BQWpFLEtBQUp2QixFQUFJekosRUFBQXRGLEdBQ0QsR0FBSSxDQUFGc0YsRUFBQS9GLEVBQUEsZUFBQStGLEVBQUEvRixFQUFBLEVBQ0hnUCxHQUFnQlEsRUFBSyxJQUFHLGNBQUF6SixFQUFBL2MsRUFBQSxLQUFBNmMsRUFBQSxJQUduQyxnQkFBQWtCLEdBQUEsT0FBQW1LLEVBQUF2c0MsTUFBQSxLQUFBNDhCLFVBQUEsRUFQb0MsRyIsInNvdXJjZXMiOlsid2VicGFjazovL25lc3QtY2hyb21lLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9Ac3VwYWJhc2UvZnVuY3Rpb25zLWpzL2Rpc3QvbW9kdWxlL3R5cGVzLmpzIiwid2VicGFjazovL25lc3QtY2hyb21lLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9Ac3VwYWJhc2UvcG9zdGdyZXN0LWpzL2Rpc3QvY2pzL1Bvc3RncmVzdFF1ZXJ5QnVpbGRlci5qcyIsIndlYnBhY2s6Ly9uZXN0LWNocm9tZS1leHRlbnNpb24vLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL3Bvc3RncmVzdC1qcy9kaXN0L2Nqcy9Qb3N0Z3Jlc3RUcmFuc2Zvcm1CdWlsZGVyLmpzIiwid2VicGFjazovL25lc3QtY2hyb21lLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9Ac3VwYWJhc2UvcG9zdGdyZXN0LWpzL2Rpc3QvY2pzL2luZGV4LmpzIiwid2VicGFjazovL25lc3QtY2hyb21lLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9Ac3VwYWJhc2UvcG9zdGdyZXN0LWpzL2Rpc3QvY2pzL1Bvc3RncmVzdENsaWVudC5qcyIsIndlYnBhY2s6Ly9uZXN0LWNocm9tZS1leHRlbnNpb24vLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL3Bvc3RncmVzdC1qcy9kaXN0L2Nqcy92ZXJzaW9uLmpzIiwid2VicGFjazovL25lc3QtY2hyb21lLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9Ac3VwYWJhc2UvcG9zdGdyZXN0LWpzL2Rpc3QvY2pzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9uZXN0LWNocm9tZS1leHRlbnNpb24vLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL3Bvc3RncmVzdC1qcy9kaXN0L2Nqcy9Qb3N0Z3Jlc3RCdWlsZGVyLmpzIiwid2VicGFjazovL25lc3QtY2hyb21lLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9Ac3VwYWJhc2UvcG9zdGdyZXN0LWpzL2Rpc3QvY2pzL1Bvc3RncmVzdEVycm9yLmpzIiwid2VicGFjazovL25lc3QtY2hyb21lLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9Ac3VwYWJhc2UvcG9zdGdyZXN0LWpzL2Rpc3QvY2pzL1Bvc3RncmVzdEZpbHRlckJ1aWxkZXIuanMiLCJ3ZWJwYWNrOi8vbmVzdC1jaHJvbWUtZXh0ZW5zaW9uLy4vbm9kZV9tb2R1bGVzL0BzdXBhYmFzZS9ub2RlLWZldGNoL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vbmVzdC1jaHJvbWUtZXh0ZW5zaW9uL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL25lc3QtY2hyb21lLWV4dGVuc2lvbi93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vbmVzdC1jaHJvbWUtZXh0ZW5zaW9uL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vbmVzdC1jaHJvbWUtZXh0ZW5zaW9uL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vbmVzdC1jaHJvbWUtZXh0ZW5zaW9uL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vbmVzdC1jaHJvbWUtZXh0ZW5zaW9uLy4vbm9kZV9tb2R1bGVzL0BzdXBhYmFzZS9mdW5jdGlvbnMtanMvZGlzdC9tb2R1bGUvRnVuY3Rpb25zQ2xpZW50LmpzIiwid2VicGFjazovL25lc3QtY2hyb21lLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9Ac3VwYWJhc2UvZnVuY3Rpb25zLWpzL2Rpc3QvbW9kdWxlL2hlbHBlci5qcyIsIndlYnBhY2s6Ly9uZXN0LWNocm9tZS1leHRlbnNpb24vLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL3Bvc3RncmVzdC1qcy9kaXN0L2VzbS93cmFwcGVyLm1qcyIsIndlYnBhY2s6Ly9uZXN0LWNocm9tZS1leHRlbnNpb24vLi9ub2RlX21vZHVsZXMvaXNvd3MvX2VzbS9uYXRpdmUuanMiLCJ3ZWJwYWNrOi8vbmVzdC1jaHJvbWUtZXh0ZW5zaW9uLy4vbm9kZV9tb2R1bGVzL2lzb3dzL19lc20vdXRpbHMuanMiLCJ3ZWJwYWNrOi8vbmVzdC1jaHJvbWUtZXh0ZW5zaW9uLy4vbm9kZV9tb2R1bGVzL0BzdXBhYmFzZS9yZWFsdGltZS1qcy9kaXN0L21vZHVsZS9saWIvY29uc3RhbnRzLmpzIiwid2VicGFjazovL25lc3QtY2hyb21lLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9Ac3VwYWJhc2UvcmVhbHRpbWUtanMvZGlzdC9tb2R1bGUvbGliL3RyYW5zZm9ybWVycy5qcyIsIndlYnBhY2s6Ly9uZXN0LWNocm9tZS1leHRlbnNpb24vLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL3JlYWx0aW1lLWpzL2Rpc3QvbW9kdWxlL2xpYi9zZXJpYWxpemVyLmpzIiwid2VicGFjazovL25lc3QtY2hyb21lLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9Ac3VwYWJhc2UvcmVhbHRpbWUtanMvZGlzdC9tb2R1bGUvbGliL3RpbWVyLmpzIiwid2VicGFjazovL25lc3QtY2hyb21lLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9Ac3VwYWJhc2UvcmVhbHRpbWUtanMvZGlzdC9tb2R1bGUvbGliL3B1c2guanMiLCJ3ZWJwYWNrOi8vbmVzdC1jaHJvbWUtZXh0ZW5zaW9uLy4vbm9kZV9tb2R1bGVzL0BzdXBhYmFzZS9yZWFsdGltZS1qcy9kaXN0L21vZHVsZS9SZWFsdGltZVByZXNlbmNlLmpzIiwid2VicGFjazovL25lc3QtY2hyb21lLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9Ac3VwYWJhc2UvcmVhbHRpbWUtanMvZGlzdC9tb2R1bGUvUmVhbHRpbWVDaGFubmVsLmpzIiwid2VicGFjazovL25lc3QtY2hyb21lLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9Ac3VwYWJhc2UvcmVhbHRpbWUtanMvZGlzdC9tb2R1bGUvUmVhbHRpbWVDbGllbnQuanMiLCJ3ZWJwYWNrOi8vbmVzdC1jaHJvbWUtZXh0ZW5zaW9uLy4vbm9kZV9tb2R1bGVzL0BzdXBhYmFzZS9zdG9yYWdlLWpzL2Rpc3QvbW9kdWxlL2xpYi9lcnJvcnMuanMiLCJ3ZWJwYWNrOi8vbmVzdC1jaHJvbWUtZXh0ZW5zaW9uLy4vbm9kZV9tb2R1bGVzL0BzdXBhYmFzZS9zdG9yYWdlLWpzL2Rpc3QvbW9kdWxlL2xpYi9oZWxwZXJzLmpzIiwid2VicGFjazovL25lc3QtY2hyb21lLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9Ac3VwYWJhc2Uvc3RvcmFnZS1qcy9kaXN0L21vZHVsZS9saWIvZmV0Y2guanMiLCJ3ZWJwYWNrOi8vbmVzdC1jaHJvbWUtZXh0ZW5zaW9uLy4vbm9kZV9tb2R1bGVzL0BzdXBhYmFzZS9zdG9yYWdlLWpzL2Rpc3QvbW9kdWxlL3BhY2thZ2VzL1N0b3JhZ2VGaWxlQXBpLmpzIiwid2VicGFjazovL25lc3QtY2hyb21lLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9Ac3VwYWJhc2Uvc3RvcmFnZS1qcy9kaXN0L21vZHVsZS9saWIvdmVyc2lvbi5qcyIsIndlYnBhY2s6Ly9uZXN0LWNocm9tZS1leHRlbnNpb24vLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL3N0b3JhZ2UtanMvZGlzdC9tb2R1bGUvbGliL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9uZXN0LWNocm9tZS1leHRlbnNpb24vLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL3N0b3JhZ2UtanMvZGlzdC9tb2R1bGUvcGFja2FnZXMvU3RvcmFnZUJ1Y2tldEFwaS5qcyIsIndlYnBhY2s6Ly9uZXN0LWNocm9tZS1leHRlbnNpb24vLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL3N0b3JhZ2UtanMvZGlzdC9tb2R1bGUvU3RvcmFnZUNsaWVudC5qcyIsIndlYnBhY2s6Ly9uZXN0LWNocm9tZS1leHRlbnNpb24vLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL3N1cGFiYXNlLWpzL2Rpc3QvbW9kdWxlL2xpYi9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbmVzdC1jaHJvbWUtZXh0ZW5zaW9uLy4vbm9kZV9tb2R1bGVzL0BzdXBhYmFzZS9zdXBhYmFzZS1qcy9kaXN0L21vZHVsZS9saWIvZmV0Y2guanMiLCJ3ZWJwYWNrOi8vbmVzdC1jaHJvbWUtZXh0ZW5zaW9uLy4vbm9kZV9tb2R1bGVzL0BzdXBhYmFzZS9hdXRoLWpzL2Rpc3QvbW9kdWxlL2xpYi92ZXJzaW9uLmpzIiwid2VicGFjazovL25lc3QtY2hyb21lLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9Ac3VwYWJhc2UvYXV0aC1qcy9kaXN0L21vZHVsZS9saWIvY29uc3RhbnRzLmpzIiwid2VicGFjazovL25lc3QtY2hyb21lLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9Ac3VwYWJhc2UvYXV0aC1qcy9kaXN0L21vZHVsZS9saWIvZXJyb3JzLmpzIiwid2VicGFjazovL25lc3QtY2hyb21lLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9Ac3VwYWJhc2UvYXV0aC1qcy9kaXN0L21vZHVsZS9saWIvYmFzZTY0dXJsLmpzIiwid2VicGFjazovL25lc3QtY2hyb21lLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9Ac3VwYWJhc2UvYXV0aC1qcy9kaXN0L21vZHVsZS9saWIvaGVscGVycy5qcyIsIndlYnBhY2s6Ly9uZXN0LWNocm9tZS1leHRlbnNpb24vLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL2F1dGgtanMvZGlzdC9tb2R1bGUvbGliL2ZldGNoLmpzIiwid2VicGFjazovL25lc3QtY2hyb21lLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9Ac3VwYWJhc2UvYXV0aC1qcy9kaXN0L21vZHVsZS9saWIvdHlwZXMuanMiLCJ3ZWJwYWNrOi8vbmVzdC1jaHJvbWUtZXh0ZW5zaW9uLy4vbm9kZV9tb2R1bGVzL0BzdXBhYmFzZS9hdXRoLWpzL2Rpc3QvbW9kdWxlL0dvVHJ1ZUFkbWluQXBpLmpzIiwid2VicGFjazovL25lc3QtY2hyb21lLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9Ac3VwYWJhc2UvYXV0aC1qcy9kaXN0L21vZHVsZS9saWIvbG9jYWwtc3RvcmFnZS5qcyIsIndlYnBhY2s6Ly9uZXN0LWNocm9tZS1leHRlbnNpb24vLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL2F1dGgtanMvZGlzdC9tb2R1bGUvbGliL2xvY2tzLmpzIiwid2VicGFjazovL25lc3QtY2hyb21lLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9Ac3VwYWJhc2UvYXV0aC1qcy9kaXN0L21vZHVsZS9saWIvcG9seWZpbGxzLmpzIiwid2VicGFjazovL25lc3QtY2hyb21lLWV4dGVuc2lvbi8uL25vZGVfbW9kdWxlcy9Ac3VwYWJhc2UvYXV0aC1qcy9kaXN0L21vZHVsZS9Hb1RydWVDbGllbnQuanMiLCJ3ZWJwYWNrOi8vbmVzdC1jaHJvbWUtZXh0ZW5zaW9uLy4vbm9kZV9tb2R1bGVzL0BzdXBhYmFzZS9hdXRoLWpzL2Rpc3QvbW9kdWxlL0F1dGhBZG1pbkFwaS5qcyIsIndlYnBhY2s6Ly9uZXN0LWNocm9tZS1leHRlbnNpb24vLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL2F1dGgtanMvZGlzdC9tb2R1bGUvQXV0aENsaWVudC5qcyIsIndlYnBhY2s6Ly9uZXN0LWNocm9tZS1leHRlbnNpb24vLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL3N1cGFiYXNlLWpzL2Rpc3QvbW9kdWxlL2xpYi9TdXBhYmFzZUF1dGhDbGllbnQuanMiLCJ3ZWJwYWNrOi8vbmVzdC1jaHJvbWUtZXh0ZW5zaW9uLy4vbm9kZV9tb2R1bGVzL0BzdXBhYmFzZS9zdXBhYmFzZS1qcy9kaXN0L21vZHVsZS9TdXBhYmFzZUNsaWVudC5qcyIsIndlYnBhY2s6Ly9uZXN0LWNocm9tZS1leHRlbnNpb24vLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL3N1cGFiYXNlLWpzL2Rpc3QvbW9kdWxlL2xpYi9oZWxwZXJzLmpzIiwid2VicGFjazovL25lc3QtY2hyb21lLWV4dGVuc2lvbi8uL3NyYy91dGlscy9zdXBhYmFzZS50cyIsIndlYnBhY2s6Ly9uZXN0LWNocm9tZS1leHRlbnNpb24vLi9ub2RlX21vZHVsZXMvQHN1cGFiYXNlL3N1cGFiYXNlLWpzL2Rpc3QvbW9kdWxlL2luZGV4LmpzIiwid2VicGFjazovL25lc3QtY2hyb21lLWV4dGVuc2lvbi8uL3NyYy91dGlscy9zdG9yYWdlLnRzIiwid2VicGFjazovL25lc3QtY2hyb21lLWV4dGVuc2lvbi8uL3NyYy91dGlscy9haS50cyIsIndlYnBhY2s6Ly9uZXN0LWNocm9tZS1leHRlbnNpb24vLi9zcmMvYmFja2dyb3VuZC9iYWNrZ3JvdW5kLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBGdW5jdGlvbnNFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBuYW1lID0gJ0Z1bmN0aW9uc0Vycm9yJywgY29udGV4dCkge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgRnVuY3Rpb25zRmV0Y2hFcnJvciBleHRlbmRzIEZ1bmN0aW9uc0Vycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKCdGYWlsZWQgdG8gc2VuZCBhIHJlcXVlc3QgdG8gdGhlIEVkZ2UgRnVuY3Rpb24nLCAnRnVuY3Rpb25zRmV0Y2hFcnJvcicsIGNvbnRleHQpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBGdW5jdGlvbnNSZWxheUVycm9yIGV4dGVuZHMgRnVuY3Rpb25zRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIoJ1JlbGF5IEVycm9yIGludm9raW5nIHRoZSBFZGdlIEZ1bmN0aW9uJywgJ0Z1bmN0aW9uc1JlbGF5RXJyb3InLCBjb250ZXh0KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgRnVuY3Rpb25zSHR0cEVycm9yIGV4dGVuZHMgRnVuY3Rpb25zRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQpIHtcbiAgICAgICAgc3VwZXIoJ0VkZ2UgRnVuY3Rpb24gcmV0dXJuZWQgYSBub24tMnh4IHN0YXR1cyBjb2RlJywgJ0Z1bmN0aW9uc0h0dHBFcnJvcicsIGNvbnRleHQpO1xuICAgIH1cbn1cbi8vIERlZmluZSB0aGUgZW51bSBmb3IgdGhlICdyZWdpb24nIHByb3BlcnR5XG5leHBvcnQgdmFyIEZ1bmN0aW9uUmVnaW9uO1xuKGZ1bmN0aW9uIChGdW5jdGlvblJlZ2lvbikge1xuICAgIEZ1bmN0aW9uUmVnaW9uW1wiQW55XCJdID0gXCJhbnlcIjtcbiAgICBGdW5jdGlvblJlZ2lvbltcIkFwTm9ydGhlYXN0MVwiXSA9IFwiYXAtbm9ydGhlYXN0LTFcIjtcbiAgICBGdW5jdGlvblJlZ2lvbltcIkFwTm9ydGhlYXN0MlwiXSA9IFwiYXAtbm9ydGhlYXN0LTJcIjtcbiAgICBGdW5jdGlvblJlZ2lvbltcIkFwU291dGgxXCJdID0gXCJhcC1zb3V0aC0xXCI7XG4gICAgRnVuY3Rpb25SZWdpb25bXCJBcFNvdXRoZWFzdDFcIl0gPSBcImFwLXNvdXRoZWFzdC0xXCI7XG4gICAgRnVuY3Rpb25SZWdpb25bXCJBcFNvdXRoZWFzdDJcIl0gPSBcImFwLXNvdXRoZWFzdC0yXCI7XG4gICAgRnVuY3Rpb25SZWdpb25bXCJDYUNlbnRyYWwxXCJdID0gXCJjYS1jZW50cmFsLTFcIjtcbiAgICBGdW5jdGlvblJlZ2lvbltcIkV1Q2VudHJhbDFcIl0gPSBcImV1LWNlbnRyYWwtMVwiO1xuICAgIEZ1bmN0aW9uUmVnaW9uW1wiRXVXZXN0MVwiXSA9IFwiZXUtd2VzdC0xXCI7XG4gICAgRnVuY3Rpb25SZWdpb25bXCJFdVdlc3QyXCJdID0gXCJldS13ZXN0LTJcIjtcbiAgICBGdW5jdGlvblJlZ2lvbltcIkV1V2VzdDNcIl0gPSBcImV1LXdlc3QtM1wiO1xuICAgIEZ1bmN0aW9uUmVnaW9uW1wiU2FFYXN0MVwiXSA9IFwic2EtZWFzdC0xXCI7XG4gICAgRnVuY3Rpb25SZWdpb25bXCJVc0Vhc3QxXCJdID0gXCJ1cy1lYXN0LTFcIjtcbiAgICBGdW5jdGlvblJlZ2lvbltcIlVzV2VzdDFcIl0gPSBcInVzLXdlc3QtMVwiO1xuICAgIEZ1bmN0aW9uUmVnaW9uW1wiVXNXZXN0MlwiXSA9IFwidXMtd2VzdC0yXCI7XG59KShGdW5jdGlvblJlZ2lvbiB8fCAoRnVuY3Rpb25SZWdpb24gPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHlwZXMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBQb3N0Z3Jlc3RGaWx0ZXJCdWlsZGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vUG9zdGdyZXN0RmlsdGVyQnVpbGRlclwiKSk7XG5jbGFzcyBQb3N0Z3Jlc3RRdWVyeUJ1aWxkZXIge1xuICAgIGNvbnN0cnVjdG9yKHVybCwgeyBoZWFkZXJzID0ge30sIHNjaGVtYSwgZmV0Y2gsIH0pIHtcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XG4gICAgICAgIHRoaXMuaGVhZGVycyA9IGhlYWRlcnM7XG4gICAgICAgIHRoaXMuc2NoZW1hID0gc2NoZW1hO1xuICAgICAgICB0aGlzLmZldGNoID0gZmV0Y2g7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBlcmZvcm0gYSBTRUxFQ1QgcXVlcnkgb24gdGhlIHRhYmxlIG9yIHZpZXcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29sdW1ucyAtIFRoZSBjb2x1bW5zIHRvIHJldHJpZXZlLCBzZXBhcmF0ZWQgYnkgY29tbWFzLiBDb2x1bW5zIGNhbiBiZSByZW5hbWVkIHdoZW4gcmV0dXJuZWQgd2l0aCBgY3VzdG9tTmFtZTpjb2x1bW5OYW1lYFxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBOYW1lZCBwYXJhbWV0ZXJzXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5oZWFkIC0gV2hlbiBzZXQgdG8gYHRydWVgLCBgZGF0YWAgd2lsbCBub3QgYmUgcmV0dXJuZWQuXG4gICAgICogVXNlZnVsIGlmIHlvdSBvbmx5IG5lZWQgdGhlIGNvdW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMuY291bnQgLSBDb3VudCBhbGdvcml0aG0gdG8gdXNlIHRvIGNvdW50IHJvd3MgaW4gdGhlIHRhYmxlIG9yIHZpZXcuXG4gICAgICpcbiAgICAgKiBgXCJleGFjdFwiYDogRXhhY3QgYnV0IHNsb3cgY291bnQgYWxnb3JpdGhtLiBQZXJmb3JtcyBhIGBDT1VOVCgqKWAgdW5kZXIgdGhlXG4gICAgICogaG9vZC5cbiAgICAgKlxuICAgICAqIGBcInBsYW5uZWRcImA6IEFwcHJveGltYXRlZCBidXQgZmFzdCBjb3VudCBhbGdvcml0aG0uIFVzZXMgdGhlIFBvc3RncmVzXG4gICAgICogc3RhdGlzdGljcyB1bmRlciB0aGUgaG9vZC5cbiAgICAgKlxuICAgICAqIGBcImVzdGltYXRlZFwiYDogVXNlcyBleGFjdCBjb3VudCBmb3IgbG93IG51bWJlcnMgYW5kIHBsYW5uZWQgY291bnQgZm9yIGhpZ2hcbiAgICAgKiBudW1iZXJzLlxuICAgICAqL1xuICAgIHNlbGVjdChjb2x1bW5zLCB7IGhlYWQgPSBmYWxzZSwgY291bnQsIH0gPSB7fSkge1xuICAgICAgICBjb25zdCBtZXRob2QgPSBoZWFkID8gJ0hFQUQnIDogJ0dFVCc7XG4gICAgICAgIC8vIFJlbW92ZSB3aGl0ZXNwYWNlcyBleGNlcHQgd2hlbiBxdW90ZWRcbiAgICAgICAgbGV0IHF1b3RlZCA9IGZhbHNlO1xuICAgICAgICBjb25zdCBjbGVhbmVkQ29sdW1ucyA9IChjb2x1bW5zICE9PSBudWxsICYmIGNvbHVtbnMgIT09IHZvaWQgMCA/IGNvbHVtbnMgOiAnKicpXG4gICAgICAgICAgICAuc3BsaXQoJycpXG4gICAgICAgICAgICAubWFwKChjKSA9PiB7XG4gICAgICAgICAgICBpZiAoL1xccy8udGVzdChjKSAmJiAhcXVvdGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGMgPT09ICdcIicpIHtcbiAgICAgICAgICAgICAgICBxdW90ZWQgPSAhcXVvdGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGM7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuam9pbignJyk7XG4gICAgICAgIHRoaXMudXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3NlbGVjdCcsIGNsZWFuZWRDb2x1bW5zKTtcbiAgICAgICAgaWYgKGNvdW50KSB7XG4gICAgICAgICAgICB0aGlzLmhlYWRlcnNbJ1ByZWZlciddID0gYGNvdW50PSR7Y291bnR9YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFBvc3RncmVzdEZpbHRlckJ1aWxkZXJfMS5kZWZhdWx0KHtcbiAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgIHVybDogdGhpcy51cmwsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICBzY2hlbWE6IHRoaXMuc2NoZW1hLFxuICAgICAgICAgICAgZmV0Y2g6IHRoaXMuZmV0Y2gsXG4gICAgICAgICAgICBhbGxvd0VtcHR5OiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBlcmZvcm0gYW4gSU5TRVJUIGludG8gdGhlIHRhYmxlIG9yIHZpZXcuXG4gICAgICpcbiAgICAgKiBCeSBkZWZhdWx0LCBpbnNlcnRlZCByb3dzIGFyZSBub3QgcmV0dXJuZWQuIFRvIHJldHVybiBpdCwgY2hhaW4gdGhlIGNhbGxcbiAgICAgKiB3aXRoIGAuc2VsZWN0KClgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHZhbHVlcyAtIFRoZSB2YWx1ZXMgdG8gaW5zZXJ0LiBQYXNzIGFuIG9iamVjdCB0byBpbnNlcnQgYSBzaW5nbGUgcm93XG4gICAgICogb3IgYW4gYXJyYXkgdG8gaW5zZXJ0IG11bHRpcGxlIHJvd3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE5hbWVkIHBhcmFtZXRlcnNcbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zLmNvdW50IC0gQ291bnQgYWxnb3JpdGhtIHRvIHVzZSB0byBjb3VudCBpbnNlcnRlZCByb3dzLlxuICAgICAqXG4gICAgICogYFwiZXhhY3RcImA6IEV4YWN0IGJ1dCBzbG93IGNvdW50IGFsZ29yaXRobS4gUGVyZm9ybXMgYSBgQ09VTlQoKilgIHVuZGVyIHRoZVxuICAgICAqIGhvb2QuXG4gICAgICpcbiAgICAgKiBgXCJwbGFubmVkXCJgOiBBcHByb3hpbWF0ZWQgYnV0IGZhc3QgY291bnQgYWxnb3JpdGhtLiBVc2VzIHRoZSBQb3N0Z3Jlc1xuICAgICAqIHN0YXRpc3RpY3MgdW5kZXIgdGhlIGhvb2QuXG4gICAgICpcbiAgICAgKiBgXCJlc3RpbWF0ZWRcImA6IFVzZXMgZXhhY3QgY291bnQgZm9yIGxvdyBudW1iZXJzIGFuZCBwbGFubmVkIGNvdW50IGZvciBoaWdoXG4gICAgICogbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zLmRlZmF1bHRUb051bGwgLSBNYWtlIG1pc3NpbmcgZmllbGRzIGRlZmF1bHQgdG8gYG51bGxgLlxuICAgICAqIE90aGVyd2lzZSwgdXNlIHRoZSBkZWZhdWx0IHZhbHVlIGZvciB0aGUgY29sdW1uLiBPbmx5IGFwcGxpZXMgZm9yIGJ1bGtcbiAgICAgKiBpbnNlcnRzLlxuICAgICAqL1xuICAgIGluc2VydCh2YWx1ZXMsIHsgY291bnQsIGRlZmF1bHRUb051bGwgPSB0cnVlLCB9ID0ge30pIHtcbiAgICAgICAgY29uc3QgbWV0aG9kID0gJ1BPU1QnO1xuICAgICAgICBjb25zdCBwcmVmZXJzSGVhZGVycyA9IFtdO1xuICAgICAgICBpZiAodGhpcy5oZWFkZXJzWydQcmVmZXInXSkge1xuICAgICAgICAgICAgcHJlZmVyc0hlYWRlcnMucHVzaCh0aGlzLmhlYWRlcnNbJ1ByZWZlciddKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY291bnQpIHtcbiAgICAgICAgICAgIHByZWZlcnNIZWFkZXJzLnB1c2goYGNvdW50PSR7Y291bnR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkZWZhdWx0VG9OdWxsKSB7XG4gICAgICAgICAgICBwcmVmZXJzSGVhZGVycy5wdXNoKCdtaXNzaW5nPWRlZmF1bHQnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhlYWRlcnNbJ1ByZWZlciddID0gcHJlZmVyc0hlYWRlcnMuam9pbignLCcpO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZXMpKSB7XG4gICAgICAgICAgICBjb25zdCBjb2x1bW5zID0gdmFsdWVzLnJlZHVjZSgoYWNjLCB4KSA9PiBhY2MuY29uY2F0KE9iamVjdC5rZXlzKHgpKSwgW10pO1xuICAgICAgICAgICAgaWYgKGNvbHVtbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVuaXF1ZUNvbHVtbnMgPSBbLi4ubmV3IFNldChjb2x1bW5zKV0ubWFwKChjb2x1bW4pID0+IGBcIiR7Y29sdW1ufVwiYCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLnNldCgnY29sdW1ucycsIHVuaXF1ZUNvbHVtbnMuam9pbignLCcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFBvc3RncmVzdEZpbHRlckJ1aWxkZXJfMS5kZWZhdWx0KHtcbiAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgIHVybDogdGhpcy51cmwsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICBzY2hlbWE6IHRoaXMuc2NoZW1hLFxuICAgICAgICAgICAgYm9keTogdmFsdWVzLFxuICAgICAgICAgICAgZmV0Y2g6IHRoaXMuZmV0Y2gsXG4gICAgICAgICAgICBhbGxvd0VtcHR5OiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBlcmZvcm0gYW4gVVBTRVJUIG9uIHRoZSB0YWJsZSBvciB2aWV3LiBEZXBlbmRpbmcgb24gdGhlIGNvbHVtbihzKSBwYXNzZWRcbiAgICAgKiB0byBgb25Db25mbGljdGAsIGAudXBzZXJ0KClgIGFsbG93cyB5b3UgdG8gcGVyZm9ybSB0aGUgZXF1aXZhbGVudCBvZlxuICAgICAqIGAuaW5zZXJ0KClgIGlmIGEgcm93IHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgYG9uQ29uZmxpY3RgIGNvbHVtbnMgZG9lc24ndFxuICAgICAqIGV4aXN0LCBvciBpZiBpdCBkb2VzIGV4aXN0LCBwZXJmb3JtIGFuIGFsdGVybmF0aXZlIGFjdGlvbiBkZXBlbmRpbmcgb25cbiAgICAgKiBgaWdub3JlRHVwbGljYXRlc2AuXG4gICAgICpcbiAgICAgKiBCeSBkZWZhdWx0LCB1cHNlcnRlZCByb3dzIGFyZSBub3QgcmV0dXJuZWQuIFRvIHJldHVybiBpdCwgY2hhaW4gdGhlIGNhbGxcbiAgICAgKiB3aXRoIGAuc2VsZWN0KClgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHZhbHVlcyAtIFRoZSB2YWx1ZXMgdG8gdXBzZXJ0IHdpdGguIFBhc3MgYW4gb2JqZWN0IHRvIHVwc2VydCBhXG4gICAgICogc2luZ2xlIHJvdyBvciBhbiBhcnJheSB0byB1cHNlcnQgbXVsdGlwbGUgcm93cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gTmFtZWQgcGFyYW1ldGVyc1xuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMub25Db25mbGljdCAtIENvbW1hLXNlcGFyYXRlZCBVTklRVUUgY29sdW1uKHMpIHRvIHNwZWNpZnkgaG93XG4gICAgICogZHVwbGljYXRlIHJvd3MgYXJlIGRldGVybWluZWQuIFR3byByb3dzIGFyZSBkdXBsaWNhdGVzIGlmIGFsbCB0aGVcbiAgICAgKiBgb25Db25mbGljdGAgY29sdW1ucyBhcmUgZXF1YWwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5pZ25vcmVEdXBsaWNhdGVzIC0gSWYgYHRydWVgLCBkdXBsaWNhdGUgcm93cyBhcmUgaWdub3JlZC4gSWZcbiAgICAgKiBgZmFsc2VgLCBkdXBsaWNhdGUgcm93cyBhcmUgbWVyZ2VkIHdpdGggZXhpc3Rpbmcgcm93cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zLmNvdW50IC0gQ291bnQgYWxnb3JpdGhtIHRvIHVzZSB0byBjb3VudCB1cHNlcnRlZCByb3dzLlxuICAgICAqXG4gICAgICogYFwiZXhhY3RcImA6IEV4YWN0IGJ1dCBzbG93IGNvdW50IGFsZ29yaXRobS4gUGVyZm9ybXMgYSBgQ09VTlQoKilgIHVuZGVyIHRoZVxuICAgICAqIGhvb2QuXG4gICAgICpcbiAgICAgKiBgXCJwbGFubmVkXCJgOiBBcHByb3hpbWF0ZWQgYnV0IGZhc3QgY291bnQgYWxnb3JpdGhtLiBVc2VzIHRoZSBQb3N0Z3Jlc1xuICAgICAqIHN0YXRpc3RpY3MgdW5kZXIgdGhlIGhvb2QuXG4gICAgICpcbiAgICAgKiBgXCJlc3RpbWF0ZWRcImA6IFVzZXMgZXhhY3QgY291bnQgZm9yIGxvdyBudW1iZXJzIGFuZCBwbGFubmVkIGNvdW50IGZvciBoaWdoXG4gICAgICogbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zLmRlZmF1bHRUb051bGwgLSBNYWtlIG1pc3NpbmcgZmllbGRzIGRlZmF1bHQgdG8gYG51bGxgLlxuICAgICAqIE90aGVyd2lzZSwgdXNlIHRoZSBkZWZhdWx0IHZhbHVlIGZvciB0aGUgY29sdW1uLiBUaGlzIG9ubHkgYXBwbGllcyB3aGVuXG4gICAgICogaW5zZXJ0aW5nIG5ldyByb3dzLCBub3Qgd2hlbiBtZXJnaW5nIHdpdGggZXhpc3Rpbmcgcm93cyB1bmRlclxuICAgICAqIGBpZ25vcmVEdXBsaWNhdGVzOiBmYWxzZWAuIFRoaXMgYWxzbyBvbmx5IGFwcGxpZXMgd2hlbiBkb2luZyBidWxrIHVwc2VydHMuXG4gICAgICovXG4gICAgdXBzZXJ0KHZhbHVlcywgeyBvbkNvbmZsaWN0LCBpZ25vcmVEdXBsaWNhdGVzID0gZmFsc2UsIGNvdW50LCBkZWZhdWx0VG9OdWxsID0gdHJ1ZSwgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IG1ldGhvZCA9ICdQT1NUJztcbiAgICAgICAgY29uc3QgcHJlZmVyc0hlYWRlcnMgPSBbYHJlc29sdXRpb249JHtpZ25vcmVEdXBsaWNhdGVzID8gJ2lnbm9yZScgOiAnbWVyZ2UnfS1kdXBsaWNhdGVzYF07XG4gICAgICAgIGlmIChvbkNvbmZsaWN0ICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB0aGlzLnVybC5zZWFyY2hQYXJhbXMuc2V0KCdvbl9jb25mbGljdCcsIG9uQ29uZmxpY3QpO1xuICAgICAgICBpZiAodGhpcy5oZWFkZXJzWydQcmVmZXInXSkge1xuICAgICAgICAgICAgcHJlZmVyc0hlYWRlcnMucHVzaCh0aGlzLmhlYWRlcnNbJ1ByZWZlciddKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY291bnQpIHtcbiAgICAgICAgICAgIHByZWZlcnNIZWFkZXJzLnB1c2goYGNvdW50PSR7Y291bnR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkZWZhdWx0VG9OdWxsKSB7XG4gICAgICAgICAgICBwcmVmZXJzSGVhZGVycy5wdXNoKCdtaXNzaW5nPWRlZmF1bHQnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhlYWRlcnNbJ1ByZWZlciddID0gcHJlZmVyc0hlYWRlcnMuam9pbignLCcpO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZXMpKSB7XG4gICAgICAgICAgICBjb25zdCBjb2x1bW5zID0gdmFsdWVzLnJlZHVjZSgoYWNjLCB4KSA9PiBhY2MuY29uY2F0KE9iamVjdC5rZXlzKHgpKSwgW10pO1xuICAgICAgICAgICAgaWYgKGNvbHVtbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVuaXF1ZUNvbHVtbnMgPSBbLi4ubmV3IFNldChjb2x1bW5zKV0ubWFwKChjb2x1bW4pID0+IGBcIiR7Y29sdW1ufVwiYCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLnNldCgnY29sdW1ucycsIHVuaXF1ZUNvbHVtbnMuam9pbignLCcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFBvc3RncmVzdEZpbHRlckJ1aWxkZXJfMS5kZWZhdWx0KHtcbiAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgIHVybDogdGhpcy51cmwsXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICBzY2hlbWE6IHRoaXMuc2NoZW1hLFxuICAgICAgICAgICAgYm9keTogdmFsdWVzLFxuICAgICAgICAgICAgZmV0Y2g6IHRoaXMuZmV0Y2gsXG4gICAgICAgICAgICBhbGxvd0VtcHR5OiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBlcmZvcm0gYW4gVVBEQVRFIG9uIHRoZSB0YWJsZSBvciB2aWV3LlxuICAgICAqXG4gICAgICogQnkgZGVmYXVsdCwgdXBkYXRlZCByb3dzIGFyZSBub3QgcmV0dXJuZWQuIFRvIHJldHVybiBpdCwgY2hhaW4gdGhlIGNhbGxcbiAgICAgKiB3aXRoIGAuc2VsZWN0KClgIGFmdGVyIGZpbHRlcnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmFsdWVzIC0gVGhlIHZhbHVlcyB0byB1cGRhdGUgd2l0aFxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBOYW1lZCBwYXJhbWV0ZXJzXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5jb3VudCAtIENvdW50IGFsZ29yaXRobSB0byB1c2UgdG8gY291bnQgdXBkYXRlZCByb3dzLlxuICAgICAqXG4gICAgICogYFwiZXhhY3RcImA6IEV4YWN0IGJ1dCBzbG93IGNvdW50IGFsZ29yaXRobS4gUGVyZm9ybXMgYSBgQ09VTlQoKilgIHVuZGVyIHRoZVxuICAgICAqIGhvb2QuXG4gICAgICpcbiAgICAgKiBgXCJwbGFubmVkXCJgOiBBcHByb3hpbWF0ZWQgYnV0IGZhc3QgY291bnQgYWxnb3JpdGhtLiBVc2VzIHRoZSBQb3N0Z3Jlc1xuICAgICAqIHN0YXRpc3RpY3MgdW5kZXIgdGhlIGhvb2QuXG4gICAgICpcbiAgICAgKiBgXCJlc3RpbWF0ZWRcImA6IFVzZXMgZXhhY3QgY291bnQgZm9yIGxvdyBudW1iZXJzIGFuZCBwbGFubmVkIGNvdW50IGZvciBoaWdoXG4gICAgICogbnVtYmVycy5cbiAgICAgKi9cbiAgICB1cGRhdGUodmFsdWVzLCB7IGNvdW50LCB9ID0ge30pIHtcbiAgICAgICAgY29uc3QgbWV0aG9kID0gJ1BBVENIJztcbiAgICAgICAgY29uc3QgcHJlZmVyc0hlYWRlcnMgPSBbXTtcbiAgICAgICAgaWYgKHRoaXMuaGVhZGVyc1snUHJlZmVyJ10pIHtcbiAgICAgICAgICAgIHByZWZlcnNIZWFkZXJzLnB1c2godGhpcy5oZWFkZXJzWydQcmVmZXInXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvdW50KSB7XG4gICAgICAgICAgICBwcmVmZXJzSGVhZGVycy5wdXNoKGBjb3VudD0ke2NvdW50fWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGVhZGVyc1snUHJlZmVyJ10gPSBwcmVmZXJzSGVhZGVycy5qb2luKCcsJyk7XG4gICAgICAgIHJldHVybiBuZXcgUG9zdGdyZXN0RmlsdGVyQnVpbGRlcl8xLmRlZmF1bHQoe1xuICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgdXJsOiB0aGlzLnVybCxcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIHNjaGVtYTogdGhpcy5zY2hlbWEsXG4gICAgICAgICAgICBib2R5OiB2YWx1ZXMsXG4gICAgICAgICAgICBmZXRjaDogdGhpcy5mZXRjaCxcbiAgICAgICAgICAgIGFsbG93RW1wdHk6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGVyZm9ybSBhIERFTEVURSBvbiB0aGUgdGFibGUgb3Igdmlldy5cbiAgICAgKlxuICAgICAqIEJ5IGRlZmF1bHQsIGRlbGV0ZWQgcm93cyBhcmUgbm90IHJldHVybmVkLiBUbyByZXR1cm4gaXQsIGNoYWluIHRoZSBjYWxsXG4gICAgICogd2l0aCBgLnNlbGVjdCgpYCBhZnRlciBmaWx0ZXJzLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBOYW1lZCBwYXJhbWV0ZXJzXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5jb3VudCAtIENvdW50IGFsZ29yaXRobSB0byB1c2UgdG8gY291bnQgZGVsZXRlZCByb3dzLlxuICAgICAqXG4gICAgICogYFwiZXhhY3RcImA6IEV4YWN0IGJ1dCBzbG93IGNvdW50IGFsZ29yaXRobS4gUGVyZm9ybXMgYSBgQ09VTlQoKilgIHVuZGVyIHRoZVxuICAgICAqIGhvb2QuXG4gICAgICpcbiAgICAgKiBgXCJwbGFubmVkXCJgOiBBcHByb3hpbWF0ZWQgYnV0IGZhc3QgY291bnQgYWxnb3JpdGhtLiBVc2VzIHRoZSBQb3N0Z3Jlc1xuICAgICAqIHN0YXRpc3RpY3MgdW5kZXIgdGhlIGhvb2QuXG4gICAgICpcbiAgICAgKiBgXCJlc3RpbWF0ZWRcImA6IFVzZXMgZXhhY3QgY291bnQgZm9yIGxvdyBudW1iZXJzIGFuZCBwbGFubmVkIGNvdW50IGZvciBoaWdoXG4gICAgICogbnVtYmVycy5cbiAgICAgKi9cbiAgICBkZWxldGUoeyBjb3VudCwgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IG1ldGhvZCA9ICdERUxFVEUnO1xuICAgICAgICBjb25zdCBwcmVmZXJzSGVhZGVycyA9IFtdO1xuICAgICAgICBpZiAoY291bnQpIHtcbiAgICAgICAgICAgIHByZWZlcnNIZWFkZXJzLnB1c2goYGNvdW50PSR7Y291bnR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaGVhZGVyc1snUHJlZmVyJ10pIHtcbiAgICAgICAgICAgIHByZWZlcnNIZWFkZXJzLnVuc2hpZnQodGhpcy5oZWFkZXJzWydQcmVmZXInXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oZWFkZXJzWydQcmVmZXInXSA9IHByZWZlcnNIZWFkZXJzLmpvaW4oJywnKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQb3N0Z3Jlc3RGaWx0ZXJCdWlsZGVyXzEuZGVmYXVsdCh7XG4gICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICB1cmw6IHRoaXMudXJsLFxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgc2NoZW1hOiB0aGlzLnNjaGVtYSxcbiAgICAgICAgICAgIGZldGNoOiB0aGlzLmZldGNoLFxuICAgICAgICAgICAgYWxsb3dFbXB0eTogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IFBvc3RncmVzdFF1ZXJ5QnVpbGRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBvc3RncmVzdFF1ZXJ5QnVpbGRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IFBvc3RncmVzdEJ1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Qb3N0Z3Jlc3RCdWlsZGVyXCIpKTtcbmNsYXNzIFBvc3RncmVzdFRyYW5zZm9ybUJ1aWxkZXIgZXh0ZW5kcyBQb3N0Z3Jlc3RCdWlsZGVyXzEuZGVmYXVsdCB7XG4gICAgLyoqXG4gICAgICogUGVyZm9ybSBhIFNFTEVDVCBvbiB0aGUgcXVlcnkgcmVzdWx0LlxuICAgICAqXG4gICAgICogQnkgZGVmYXVsdCwgYC5pbnNlcnQoKWAsIGAudXBkYXRlKClgLCBgLnVwc2VydCgpYCwgYW5kIGAuZGVsZXRlKClgIGRvIG5vdFxuICAgICAqIHJldHVybiBtb2RpZmllZCByb3dzLiBCeSBjYWxsaW5nIHRoaXMgbWV0aG9kLCBtb2RpZmllZCByb3dzIGFyZSByZXR1cm5lZCBpblxuICAgICAqIGBkYXRhYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2x1bW5zIC0gVGhlIGNvbHVtbnMgdG8gcmV0cmlldmUsIHNlcGFyYXRlZCBieSBjb21tYXNcbiAgICAgKi9cbiAgICBzZWxlY3QoY29sdW1ucykge1xuICAgICAgICAvLyBSZW1vdmUgd2hpdGVzcGFjZXMgZXhjZXB0IHdoZW4gcXVvdGVkXG4gICAgICAgIGxldCBxdW90ZWQgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgY2xlYW5lZENvbHVtbnMgPSAoY29sdW1ucyAhPT0gbnVsbCAmJiBjb2x1bW5zICE9PSB2b2lkIDAgPyBjb2x1bW5zIDogJyonKVxuICAgICAgICAgICAgLnNwbGl0KCcnKVxuICAgICAgICAgICAgLm1hcCgoYykgPT4ge1xuICAgICAgICAgICAgaWYgKC9cXHMvLnRlc3QoYykgJiYgIXF1b3RlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjID09PSAnXCInKSB7XG4gICAgICAgICAgICAgICAgcXVvdGVkID0gIXF1b3RlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmpvaW4oJycpO1xuICAgICAgICB0aGlzLnVybC5zZWFyY2hQYXJhbXMuc2V0KCdzZWxlY3QnLCBjbGVhbmVkQ29sdW1ucyk7XG4gICAgICAgIGlmICh0aGlzLmhlYWRlcnNbJ1ByZWZlciddKSB7XG4gICAgICAgICAgICB0aGlzLmhlYWRlcnNbJ1ByZWZlciddICs9ICcsJztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhlYWRlcnNbJ1ByZWZlciddICs9ICdyZXR1cm49cmVwcmVzZW50YXRpb24nO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3JkZXIgdGhlIHF1ZXJ5IHJlc3VsdCBieSBgY29sdW1uYC5cbiAgICAgKlxuICAgICAqIFlvdSBjYW4gY2FsbCB0aGlzIG1ldGhvZCBtdWx0aXBsZSB0aW1lcyB0byBvcmRlciBieSBtdWx0aXBsZSBjb2x1bW5zLlxuICAgICAqXG4gICAgICogWW91IGNhbiBvcmRlciByZWZlcmVuY2VkIHRhYmxlcywgYnV0IGl0IG9ubHkgYWZmZWN0cyB0aGUgb3JkZXJpbmcgb2YgdGhlXG4gICAgICogcGFyZW50IHRhYmxlIGlmIHlvdSB1c2UgYCFpbm5lcmAgaW4gdGhlIHF1ZXJ5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbHVtbiAtIFRoZSBjb2x1bW4gdG8gb3JkZXIgYnlcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE5hbWVkIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5hc2NlbmRpbmcgLSBJZiBgdHJ1ZWAsIHRoZSByZXN1bHQgd2lsbCBiZSBpbiBhc2NlbmRpbmcgb3JkZXJcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5udWxsc0ZpcnN0IC0gSWYgYHRydWVgLCBgbnVsbGBzIGFwcGVhciBmaXJzdC4gSWYgYGZhbHNlYCxcbiAgICAgKiBgbnVsbGBzIGFwcGVhciBsYXN0LlxuICAgICAqIEBwYXJhbSBvcHRpb25zLnJlZmVyZW5jZWRUYWJsZSAtIFNldCB0aGlzIHRvIG9yZGVyIGEgcmVmZXJlbmNlZCB0YWJsZSBieVxuICAgICAqIGl0cyBjb2x1bW5zXG4gICAgICogQHBhcmFtIG9wdGlvbnMuZm9yZWlnblRhYmxlIC0gRGVwcmVjYXRlZCwgdXNlIGBvcHRpb25zLnJlZmVyZW5jZWRUYWJsZWBcbiAgICAgKiBpbnN0ZWFkXG4gICAgICovXG4gICAgb3JkZXIoY29sdW1uLCB7IGFzY2VuZGluZyA9IHRydWUsIG51bGxzRmlyc3QsIGZvcmVpZ25UYWJsZSwgcmVmZXJlbmNlZFRhYmxlID0gZm9yZWlnblRhYmxlLCB9ID0ge30pIHtcbiAgICAgICAgY29uc3Qga2V5ID0gcmVmZXJlbmNlZFRhYmxlID8gYCR7cmVmZXJlbmNlZFRhYmxlfS5vcmRlcmAgOiAnb3JkZXInO1xuICAgICAgICBjb25zdCBleGlzdGluZ09yZGVyID0gdGhpcy51cmwuc2VhcmNoUGFyYW1zLmdldChrZXkpO1xuICAgICAgICB0aGlzLnVybC5zZWFyY2hQYXJhbXMuc2V0KGtleSwgYCR7ZXhpc3RpbmdPcmRlciA/IGAke2V4aXN0aW5nT3JkZXJ9LGAgOiAnJ30ke2NvbHVtbn0uJHthc2NlbmRpbmcgPyAnYXNjJyA6ICdkZXNjJ30ke251bGxzRmlyc3QgPT09IHVuZGVmaW5lZCA/ICcnIDogbnVsbHNGaXJzdCA/ICcubnVsbHNmaXJzdCcgOiAnLm51bGxzbGFzdCd9YCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMaW1pdCB0aGUgcXVlcnkgcmVzdWx0IGJ5IGBjb3VudGAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY291bnQgLSBUaGUgbWF4aW11bSBudW1iZXIgb2Ygcm93cyB0byByZXR1cm5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE5hbWVkIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5yZWZlcmVuY2VkVGFibGUgLSBTZXQgdGhpcyB0byBsaW1pdCByb3dzIG9mIHJlZmVyZW5jZWRcbiAgICAgKiB0YWJsZXMgaW5zdGVhZCBvZiB0aGUgcGFyZW50IHRhYmxlXG4gICAgICogQHBhcmFtIG9wdGlvbnMuZm9yZWlnblRhYmxlIC0gRGVwcmVjYXRlZCwgdXNlIGBvcHRpb25zLnJlZmVyZW5jZWRUYWJsZWBcbiAgICAgKiBpbnN0ZWFkXG4gICAgICovXG4gICAgbGltaXQoY291bnQsIHsgZm9yZWlnblRhYmxlLCByZWZlcmVuY2VkVGFibGUgPSBmb3JlaWduVGFibGUsIH0gPSB7fSkge1xuICAgICAgICBjb25zdCBrZXkgPSB0eXBlb2YgcmVmZXJlbmNlZFRhYmxlID09PSAndW5kZWZpbmVkJyA/ICdsaW1pdCcgOiBgJHtyZWZlcmVuY2VkVGFibGV9LmxpbWl0YDtcbiAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLnNldChrZXksIGAke2NvdW50fWApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGltaXQgdGhlIHF1ZXJ5IHJlc3VsdCBieSBzdGFydGluZyBhdCBhbiBvZmZzZXQgYGZyb21gIGFuZCBlbmRpbmcgYXQgdGhlIG9mZnNldCBgdG9gLlxuICAgICAqIE9ubHkgcmVjb3JkcyB3aXRoaW4gdGhpcyByYW5nZSBhcmUgcmV0dXJuZWQuXG4gICAgICogVGhpcyByZXNwZWN0cyB0aGUgcXVlcnkgb3JkZXIgYW5kIGlmIHRoZXJlIGlzIG5vIG9yZGVyIGNsYXVzZSB0aGUgcmFuZ2UgY291bGQgYmVoYXZlIHVuZXhwZWN0ZWRseS5cbiAgICAgKiBUaGUgYGZyb21gIGFuZCBgdG9gIHZhbHVlcyBhcmUgMC1iYXNlZCBhbmQgaW5jbHVzaXZlOiBgcmFuZ2UoMSwgMylgIHdpbGwgaW5jbHVkZSB0aGUgc2Vjb25kLCB0aGlyZFxuICAgICAqIGFuZCBmb3VydGggcm93cyBvZiB0aGUgcXVlcnkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZnJvbSAtIFRoZSBzdGFydGluZyBpbmRleCBmcm9tIHdoaWNoIHRvIGxpbWl0IHRoZSByZXN1bHRcbiAgICAgKiBAcGFyYW0gdG8gLSBUaGUgbGFzdCBpbmRleCB0byB3aGljaCB0byBsaW1pdCB0aGUgcmVzdWx0XG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBOYW1lZCBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIG9wdGlvbnMucmVmZXJlbmNlZFRhYmxlIC0gU2V0IHRoaXMgdG8gbGltaXQgcm93cyBvZiByZWZlcmVuY2VkXG4gICAgICogdGFibGVzIGluc3RlYWQgb2YgdGhlIHBhcmVudCB0YWJsZVxuICAgICAqIEBwYXJhbSBvcHRpb25zLmZvcmVpZ25UYWJsZSAtIERlcHJlY2F0ZWQsIHVzZSBgb3B0aW9ucy5yZWZlcmVuY2VkVGFibGVgXG4gICAgICogaW5zdGVhZFxuICAgICAqL1xuICAgIHJhbmdlKGZyb20sIHRvLCB7IGZvcmVpZ25UYWJsZSwgcmVmZXJlbmNlZFRhYmxlID0gZm9yZWlnblRhYmxlLCB9ID0ge30pIHtcbiAgICAgICAgY29uc3Qga2V5T2Zmc2V0ID0gdHlwZW9mIHJlZmVyZW5jZWRUYWJsZSA9PT0gJ3VuZGVmaW5lZCcgPyAnb2Zmc2V0JyA6IGAke3JlZmVyZW5jZWRUYWJsZX0ub2Zmc2V0YDtcbiAgICAgICAgY29uc3Qga2V5TGltaXQgPSB0eXBlb2YgcmVmZXJlbmNlZFRhYmxlID09PSAndW5kZWZpbmVkJyA/ICdsaW1pdCcgOiBgJHtyZWZlcmVuY2VkVGFibGV9LmxpbWl0YDtcbiAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLnNldChrZXlPZmZzZXQsIGAke2Zyb219YCk7XG4gICAgICAgIC8vIFJhbmdlIGlzIGluY2x1c2l2ZSwgc28gYWRkIDFcbiAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLnNldChrZXlMaW1pdCwgYCR7dG8gLSBmcm9tICsgMX1gKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgQWJvcnRTaWduYWwgZm9yIHRoZSBmZXRjaCByZXF1ZXN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHNpZ25hbCAtIFRoZSBBYm9ydFNpZ25hbCB0byB1c2UgZm9yIHRoZSBmZXRjaCByZXF1ZXN0XG4gICAgICovXG4gICAgYWJvcnRTaWduYWwoc2lnbmFsKSB7XG4gICAgICAgIHRoaXMuc2lnbmFsID0gc2lnbmFsO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGBkYXRhYCBhcyBhIHNpbmdsZSBvYmplY3QgaW5zdGVhZCBvZiBhbiBhcnJheSBvZiBvYmplY3RzLlxuICAgICAqXG4gICAgICogUXVlcnkgcmVzdWx0IG11c3QgYmUgb25lIHJvdyAoZS5nLiB1c2luZyBgLmxpbWl0KDEpYCksIG90aGVyd2lzZSB0aGlzXG4gICAgICogcmV0dXJucyBhbiBlcnJvci5cbiAgICAgKi9cbiAgICBzaW5nbGUoKSB7XG4gICAgICAgIHRoaXMuaGVhZGVyc1snQWNjZXB0J10gPSAnYXBwbGljYXRpb24vdm5kLnBncnN0Lm9iamVjdCtqc29uJztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiBgZGF0YWAgYXMgYSBzaW5nbGUgb2JqZWN0IGluc3RlYWQgb2YgYW4gYXJyYXkgb2Ygb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIFF1ZXJ5IHJlc3VsdCBtdXN0IGJlIHplcm8gb3Igb25lIHJvdyAoZS5nLiB1c2luZyBgLmxpbWl0KDEpYCksIG90aGVyd2lzZVxuICAgICAqIHRoaXMgcmV0dXJucyBhbiBlcnJvci5cbiAgICAgKi9cbiAgICBtYXliZVNpbmdsZSgpIHtcbiAgICAgICAgLy8gVGVtcG9yYXJ5IHBhcnRpYWwgZml4IGZvciBodHRwczovL2dpdGh1Yi5jb20vc3VwYWJhc2UvcG9zdGdyZXN0LWpzL2lzc3Vlcy8zNjFcbiAgICAgICAgLy8gSXNzdWUgcGVyc2lzdHMgZS5nLiBmb3IgYC5pbnNlcnQoWy4uLl0pLnNlbGVjdCgpLm1heWJlU2luZ2xlKClgXG4gICAgICAgIGlmICh0aGlzLm1ldGhvZCA9PT0gJ0dFVCcpIHtcbiAgICAgICAgICAgIHRoaXMuaGVhZGVyc1snQWNjZXB0J10gPSAnYXBwbGljYXRpb24vanNvbic7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmhlYWRlcnNbJ0FjY2VwdCddID0gJ2FwcGxpY2F0aW9uL3ZuZC5wZ3JzdC5vYmplY3QranNvbic7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc01heWJlU2luZ2xlID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiBgZGF0YWAgYXMgYSBzdHJpbmcgaW4gQ1NWIGZvcm1hdC5cbiAgICAgKi9cbiAgICBjc3YoKSB7XG4gICAgICAgIHRoaXMuaGVhZGVyc1snQWNjZXB0J10gPSAndGV4dC9jc3YnO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGBkYXRhYCBhcyBhbiBvYmplY3QgaW4gW0dlb0pTT05dKGh0dHBzOi8vZ2VvanNvbi5vcmcpIGZvcm1hdC5cbiAgICAgKi9cbiAgICBnZW9qc29uKCkge1xuICAgICAgICB0aGlzLmhlYWRlcnNbJ0FjY2VwdCddID0gJ2FwcGxpY2F0aW9uL2dlbytqc29uJztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiBgZGF0YWAgYXMgdGhlIEVYUExBSU4gcGxhbiBmb3IgdGhlIHF1ZXJ5LlxuICAgICAqXG4gICAgICogWW91IG5lZWQgdG8gZW5hYmxlIHRoZVxuICAgICAqIFtkYl9wbGFuX2VuYWJsZWRdKGh0dHBzOi8vc3VwYWJhc2UuY29tL2RvY3MvZ3VpZGVzL2RhdGFiYXNlL2RlYnVnZ2luZy1wZXJmb3JtYW5jZSNlbmFibGluZy1leHBsYWluKVxuICAgICAqIHNldHRpbmcgYmVmb3JlIHVzaW5nIHRoaXMgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBOYW1lZCBwYXJhbWV0ZXJzXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5hbmFseXplIC0gSWYgYHRydWVgLCB0aGUgcXVlcnkgd2lsbCBiZSBleGVjdXRlZCBhbmQgdGhlXG4gICAgICogYWN0dWFsIHJ1biB0aW1lIHdpbGwgYmUgcmV0dXJuZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zLnZlcmJvc2UgLSBJZiBgdHJ1ZWAsIHRoZSBxdWVyeSBpZGVudGlmaWVyIHdpbGwgYmUgcmV0dXJuZWRcbiAgICAgKiBhbmQgYGRhdGFgIHdpbGwgaW5jbHVkZSB0aGUgb3V0cHV0IGNvbHVtbnMgb2YgdGhlIHF1ZXJ5XG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5zZXR0aW5ncyAtIElmIGB0cnVlYCwgaW5jbHVkZSBpbmZvcm1hdGlvbiBvbiBjb25maWd1cmF0aW9uXG4gICAgICogcGFyYW1ldGVycyB0aGF0IGFmZmVjdCBxdWVyeSBwbGFubmluZ1xuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMuYnVmZmVycyAtIElmIGB0cnVlYCwgaW5jbHVkZSBpbmZvcm1hdGlvbiBvbiBidWZmZXIgdXNhZ2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zLndhbCAtIElmIGB0cnVlYCwgaW5jbHVkZSBpbmZvcm1hdGlvbiBvbiBXQUwgcmVjb3JkIGdlbmVyYXRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zLmZvcm1hdCAtIFRoZSBmb3JtYXQgb2YgdGhlIG91dHB1dCwgY2FuIGJlIGBcInRleHRcImAgKGRlZmF1bHQpXG4gICAgICogb3IgYFwianNvblwiYFxuICAgICAqL1xuICAgIGV4cGxhaW4oeyBhbmFseXplID0gZmFsc2UsIHZlcmJvc2UgPSBmYWxzZSwgc2V0dGluZ3MgPSBmYWxzZSwgYnVmZmVycyA9IGZhbHNlLCB3YWwgPSBmYWxzZSwgZm9ybWF0ID0gJ3RleHQnLCB9ID0ge30pIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gW1xuICAgICAgICAgICAgYW5hbHl6ZSA/ICdhbmFseXplJyA6IG51bGwsXG4gICAgICAgICAgICB2ZXJib3NlID8gJ3ZlcmJvc2UnIDogbnVsbCxcbiAgICAgICAgICAgIHNldHRpbmdzID8gJ3NldHRpbmdzJyA6IG51bGwsXG4gICAgICAgICAgICBidWZmZXJzID8gJ2J1ZmZlcnMnIDogbnVsbCxcbiAgICAgICAgICAgIHdhbCA/ICd3YWwnIDogbnVsbCxcbiAgICAgICAgXVxuICAgICAgICAgICAgLmZpbHRlcihCb29sZWFuKVxuICAgICAgICAgICAgLmpvaW4oJ3wnKTtcbiAgICAgICAgLy8gQW4gQWNjZXB0IGhlYWRlciBjYW4gY2FycnkgbXVsdGlwbGUgbWVkaWEgdHlwZXMgYnV0IHBvc3RncmVzdC1qcyBhbHdheXMgc2VuZHMgb25lXG4gICAgICAgIGNvbnN0IGZvck1lZGlhdHlwZSA9IChfYSA9IHRoaXMuaGVhZGVyc1snQWNjZXB0J10pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICdhcHBsaWNhdGlvbi9qc29uJztcbiAgICAgICAgdGhpcy5oZWFkZXJzWydBY2NlcHQnXSA9IGBhcHBsaWNhdGlvbi92bmQucGdyc3QucGxhbiske2Zvcm1hdH07IGZvcj1cIiR7Zm9yTWVkaWF0eXBlfVwiOyBvcHRpb25zPSR7b3B0aW9uc307YDtcbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ2pzb24nKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSb2xsYmFjayB0aGUgcXVlcnkuXG4gICAgICpcbiAgICAgKiBgZGF0YWAgd2lsbCBzdGlsbCBiZSByZXR1cm5lZCwgYnV0IHRoZSBxdWVyeSBpcyBub3QgY29tbWl0dGVkLlxuICAgICAqL1xuICAgIHJvbGxiYWNrKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICgoKF9hID0gdGhpcy5oZWFkZXJzWydQcmVmZXInXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJycpLnRyaW0oKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmhlYWRlcnNbJ1ByZWZlciddICs9ICcsdHg9cm9sbGJhY2snO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5oZWFkZXJzWydQcmVmZXInXSA9ICd0eD1yb2xsYmFjayc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIHRoZSB0eXBlIG9mIHRoZSByZXR1cm5lZCBgZGF0YWAuXG4gICAgICpcbiAgICAgKiBAdHlwZVBhcmFtIE5ld1Jlc3VsdCAtIFRoZSBuZXcgcmVzdWx0IHR5cGUgdG8gb3ZlcnJpZGUgd2l0aFxuICAgICAqIEBkZXByZWNhdGVkIFVzZSBvdmVycmlkZVR5cGVzPHlvdXJUeXBlLCB7IG1lcmdlOiBmYWxzZSB9PigpIG1ldGhvZCBhdCB0aGUgZW5kIG9mIHlvdXIgY2FsbCBjaGFpbiBpbnN0ZWFkXG4gICAgICovXG4gICAgcmV0dXJucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gUG9zdGdyZXN0VHJhbnNmb3JtQnVpbGRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBvc3RncmVzdFRyYW5zZm9ybUJ1aWxkZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBvc3RncmVzdEVycm9yID0gZXhwb3J0cy5Qb3N0Z3Jlc3RCdWlsZGVyID0gZXhwb3J0cy5Qb3N0Z3Jlc3RUcmFuc2Zvcm1CdWlsZGVyID0gZXhwb3J0cy5Qb3N0Z3Jlc3RGaWx0ZXJCdWlsZGVyID0gZXhwb3J0cy5Qb3N0Z3Jlc3RRdWVyeUJ1aWxkZXIgPSBleHBvcnRzLlBvc3RncmVzdENsaWVudCA9IHZvaWQgMDtcbi8vIEFsd2F5cyB1cGRhdGUgd3JhcHBlci5tanMgd2hlbiB1cGRhdGluZyB0aGlzIGZpbGUuXG5jb25zdCBQb3N0Z3Jlc3RDbGllbnRfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Qb3N0Z3Jlc3RDbGllbnRcIikpO1xuZXhwb3J0cy5Qb3N0Z3Jlc3RDbGllbnQgPSBQb3N0Z3Jlc3RDbGllbnRfMS5kZWZhdWx0O1xuY29uc3QgUG9zdGdyZXN0UXVlcnlCdWlsZGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vUG9zdGdyZXN0UXVlcnlCdWlsZGVyXCIpKTtcbmV4cG9ydHMuUG9zdGdyZXN0UXVlcnlCdWlsZGVyID0gUG9zdGdyZXN0UXVlcnlCdWlsZGVyXzEuZGVmYXVsdDtcbmNvbnN0IFBvc3RncmVzdEZpbHRlckJ1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Qb3N0Z3Jlc3RGaWx0ZXJCdWlsZGVyXCIpKTtcbmV4cG9ydHMuUG9zdGdyZXN0RmlsdGVyQnVpbGRlciA9IFBvc3RncmVzdEZpbHRlckJ1aWxkZXJfMS5kZWZhdWx0O1xuY29uc3QgUG9zdGdyZXN0VHJhbnNmb3JtQnVpbGRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1Bvc3RncmVzdFRyYW5zZm9ybUJ1aWxkZXJcIikpO1xuZXhwb3J0cy5Qb3N0Z3Jlc3RUcmFuc2Zvcm1CdWlsZGVyID0gUG9zdGdyZXN0VHJhbnNmb3JtQnVpbGRlcl8xLmRlZmF1bHQ7XG5jb25zdCBQb3N0Z3Jlc3RCdWlsZGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vUG9zdGdyZXN0QnVpbGRlclwiKSk7XG5leHBvcnRzLlBvc3RncmVzdEJ1aWxkZXIgPSBQb3N0Z3Jlc3RCdWlsZGVyXzEuZGVmYXVsdDtcbmNvbnN0IFBvc3RncmVzdEVycm9yXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vUG9zdGdyZXN0RXJyb3JcIikpO1xuZXhwb3J0cy5Qb3N0Z3Jlc3RFcnJvciA9IFBvc3RncmVzdEVycm9yXzEuZGVmYXVsdDtcbmV4cG9ydHMuZGVmYXVsdCA9IHtcbiAgICBQb3N0Z3Jlc3RDbGllbnQ6IFBvc3RncmVzdENsaWVudF8xLmRlZmF1bHQsXG4gICAgUG9zdGdyZXN0UXVlcnlCdWlsZGVyOiBQb3N0Z3Jlc3RRdWVyeUJ1aWxkZXJfMS5kZWZhdWx0LFxuICAgIFBvc3RncmVzdEZpbHRlckJ1aWxkZXI6IFBvc3RncmVzdEZpbHRlckJ1aWxkZXJfMS5kZWZhdWx0LFxuICAgIFBvc3RncmVzdFRyYW5zZm9ybUJ1aWxkZXI6IFBvc3RncmVzdFRyYW5zZm9ybUJ1aWxkZXJfMS5kZWZhdWx0LFxuICAgIFBvc3RncmVzdEJ1aWxkZXI6IFBvc3RncmVzdEJ1aWxkZXJfMS5kZWZhdWx0LFxuICAgIFBvc3RncmVzdEVycm9yOiBQb3N0Z3Jlc3RFcnJvcl8xLmRlZmF1bHQsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBQb3N0Z3Jlc3RRdWVyeUJ1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9Qb3N0Z3Jlc3RRdWVyeUJ1aWxkZXJcIikpO1xuY29uc3QgUG9zdGdyZXN0RmlsdGVyQnVpbGRlcl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL1Bvc3RncmVzdEZpbHRlckJ1aWxkZXJcIikpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG4vKipcbiAqIFBvc3RnUkVTVCBjbGllbnQuXG4gKlxuICogQHR5cGVQYXJhbSBEYXRhYmFzZSAtIFR5cGVzIGZvciB0aGUgc2NoZW1hIGZyb20gdGhlIFt0eXBlXG4gKiBnZW5lcmF0b3JdKGh0dHBzOi8vc3VwYWJhc2UuY29tL2RvY3MvcmVmZXJlbmNlL2phdmFzY3JpcHQvbmV4dC90eXBlc2NyaXB0LXN1cHBvcnQpXG4gKlxuICogQHR5cGVQYXJhbSBTY2hlbWFOYW1lIC0gUG9zdGdyZXMgc2NoZW1hIHRvIHN3aXRjaCB0by4gTXVzdCBiZSBhIHN0cmluZ1xuICogbGl0ZXJhbCwgdGhlIHNhbWUgb25lIHBhc3NlZCB0byB0aGUgY29uc3RydWN0b3IuIElmIHRoZSBzY2hlbWEgaXMgbm90XG4gKiBgXCJwdWJsaWNcImAsIHRoaXMgbXVzdCBiZSBzdXBwbGllZCBtYW51YWxseS5cbiAqL1xuY2xhc3MgUG9zdGdyZXN0Q2xpZW50IHtcbiAgICAvLyBUT0RPOiBBZGQgYmFjayBzaG91bGRUaHJvd09uRXJyb3Igb25jZSB3ZSBmaWd1cmUgb3V0IHRoZSB0eXBpbmdzXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIFBvc3RnUkVTVCBjbGllbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdXJsIC0gVVJMIG9mIHRoZSBQb3N0Z1JFU1QgZW5kcG9pbnRcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE5hbWVkIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5oZWFkZXJzIC0gQ3VzdG9tIGhlYWRlcnNcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5zY2hlbWEgLSBQb3N0Z3JlcyBzY2hlbWEgdG8gc3dpdGNoIHRvXG4gICAgICogQHBhcmFtIG9wdGlvbnMuZmV0Y2ggLSBDdXN0b20gZmV0Y2hcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih1cmwsIHsgaGVhZGVycyA9IHt9LCBzY2hlbWEsIGZldGNoLCB9ID0ge30pIHtcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XG4gICAgICAgIHRoaXMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgY29uc3RhbnRzXzEuREVGQVVMVF9IRUFERVJTKSwgaGVhZGVycyk7XG4gICAgICAgIHRoaXMuc2NoZW1hTmFtZSA9IHNjaGVtYTtcbiAgICAgICAgdGhpcy5mZXRjaCA9IGZldGNoO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtIGEgcXVlcnkgb24gYSB0YWJsZSBvciBhIHZpZXcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVsYXRpb24gLSBUaGUgdGFibGUgb3IgdmlldyBuYW1lIHRvIHF1ZXJ5XG4gICAgICovXG4gICAgZnJvbShyZWxhdGlvbikge1xuICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGAke3RoaXMudXJsfS8ke3JlbGF0aW9ufWApO1xuICAgICAgICByZXR1cm4gbmV3IFBvc3RncmVzdFF1ZXJ5QnVpbGRlcl8xLmRlZmF1bHQodXJsLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmhlYWRlcnMpLFxuICAgICAgICAgICAgc2NoZW1hOiB0aGlzLnNjaGVtYU5hbWUsXG4gICAgICAgICAgICBmZXRjaDogdGhpcy5mZXRjaCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbGVjdCBhIHNjaGVtYSB0byBxdWVyeSBvciBwZXJmb3JtIGFuIGZ1bmN0aW9uIChycGMpIGNhbGwuXG4gICAgICpcbiAgICAgKiBUaGUgc2NoZW1hIG5lZWRzIHRvIGJlIG9uIHRoZSBsaXN0IG9mIGV4cG9zZWQgc2NoZW1hcyBpbnNpZGUgU3VwYWJhc2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc2NoZW1hIC0gVGhlIHNjaGVtYSB0byBxdWVyeVxuICAgICAqL1xuICAgIHNjaGVtYShzY2hlbWEpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb3N0Z3Jlc3RDbGllbnQodGhpcy51cmwsIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIHNjaGVtYSxcbiAgICAgICAgICAgIGZldGNoOiB0aGlzLmZldGNoLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGVyZm9ybSBhIGZ1bmN0aW9uIGNhbGwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZm4gLSBUaGUgZnVuY3Rpb24gbmFtZSB0byBjYWxsXG4gICAgICogQHBhcmFtIGFyZ3MgLSBUaGUgYXJndW1lbnRzIHRvIHBhc3MgdG8gdGhlIGZ1bmN0aW9uIGNhbGxcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE5hbWVkIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5oZWFkIC0gV2hlbiBzZXQgdG8gYHRydWVgLCBgZGF0YWAgd2lsbCBub3QgYmUgcmV0dXJuZWQuXG4gICAgICogVXNlZnVsIGlmIHlvdSBvbmx5IG5lZWQgdGhlIGNvdW50LlxuICAgICAqIEBwYXJhbSBvcHRpb25zLmdldCAtIFdoZW4gc2V0IHRvIGB0cnVlYCwgdGhlIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdpdGhcbiAgICAgKiByZWFkLW9ubHkgYWNjZXNzIG1vZGUuXG4gICAgICogQHBhcmFtIG9wdGlvbnMuY291bnQgLSBDb3VudCBhbGdvcml0aG0gdG8gdXNlIHRvIGNvdW50IHJvd3MgcmV0dXJuZWQgYnkgdGhlXG4gICAgICogZnVuY3Rpb24uIE9ubHkgYXBwbGljYWJsZSBmb3IgW3NldC1yZXR1cm5pbmdcbiAgICAgKiBmdW5jdGlvbnNdKGh0dHBzOi8vd3d3LnBvc3RncmVzcWwub3JnL2RvY3MvY3VycmVudC9mdW5jdGlvbnMtc3JmLmh0bWwpLlxuICAgICAqXG4gICAgICogYFwiZXhhY3RcImA6IEV4YWN0IGJ1dCBzbG93IGNvdW50IGFsZ29yaXRobS4gUGVyZm9ybXMgYSBgQ09VTlQoKilgIHVuZGVyIHRoZVxuICAgICAqIGhvb2QuXG4gICAgICpcbiAgICAgKiBgXCJwbGFubmVkXCJgOiBBcHByb3hpbWF0ZWQgYnV0IGZhc3QgY291bnQgYWxnb3JpdGhtLiBVc2VzIHRoZSBQb3N0Z3Jlc1xuICAgICAqIHN0YXRpc3RpY3MgdW5kZXIgdGhlIGhvb2QuXG4gICAgICpcbiAgICAgKiBgXCJlc3RpbWF0ZWRcImA6IFVzZXMgZXhhY3QgY291bnQgZm9yIGxvdyBudW1iZXJzIGFuZCBwbGFubmVkIGNvdW50IGZvciBoaWdoXG4gICAgICogbnVtYmVycy5cbiAgICAgKi9cbiAgICBycGMoZm4sIGFyZ3MgPSB7fSwgeyBoZWFkID0gZmFsc2UsIGdldCA9IGZhbHNlLCBjb3VudCwgfSA9IHt9KSB7XG4gICAgICAgIGxldCBtZXRob2Q7XG4gICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoYCR7dGhpcy51cmx9L3JwYy8ke2ZufWApO1xuICAgICAgICBsZXQgYm9keTtcbiAgICAgICAgaWYgKGhlYWQgfHwgZ2V0KSB7XG4gICAgICAgICAgICBtZXRob2QgPSBoZWFkID8gJ0hFQUQnIDogJ0dFVCc7XG4gICAgICAgICAgICBPYmplY3QuZW50cmllcyhhcmdzKVxuICAgICAgICAgICAgICAgIC8vIHBhcmFtcyB3aXRoIHVuZGVmaW5lZCB2YWx1ZSBuZWVkcyB0byBiZSBmaWx0ZXJlZCBvdXQsIG90aGVyd2lzZSBpdCdsbFxuICAgICAgICAgICAgICAgIC8vIHNob3cgdXAgYXMgYD9wYXJhbT11bmRlZmluZWRgXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoW18sIHZhbHVlXSkgPT4gdmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAvLyBhcnJheSB2YWx1ZXMgbmVlZCBzcGVjaWFsIHN5bnRheFxuICAgICAgICAgICAgICAgIC5tYXAoKFtuYW1lLCB2YWx1ZV0pID0+IFtuYW1lLCBBcnJheS5pc0FycmF5KHZhbHVlKSA/IGB7JHt2YWx1ZS5qb2luKCcsJyl9fWAgOiBgJHt2YWx1ZX1gXSlcbiAgICAgICAgICAgICAgICAuZm9yRWFjaCgoW25hbWUsIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKG5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbWV0aG9kID0gJ1BPU1QnO1xuICAgICAgICAgICAgYm9keSA9IGFyZ3M7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuaGVhZGVycyk7XG4gICAgICAgIGlmIChjb3VudCkge1xuICAgICAgICAgICAgaGVhZGVyc1snUHJlZmVyJ10gPSBgY291bnQ9JHtjb3VudH1gO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUG9zdGdyZXN0RmlsdGVyQnVpbGRlcl8xLmRlZmF1bHQoe1xuICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgdXJsLFxuICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgIHNjaGVtYTogdGhpcy5zY2hlbWFOYW1lLFxuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIGZldGNoOiB0aGlzLmZldGNoLFxuICAgICAgICAgICAgYWxsb3dFbXB0eTogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IFBvc3RncmVzdENsaWVudDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBvc3RncmVzdENsaWVudC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudmVyc2lvbiA9IHZvaWQgMDtcbmV4cG9ydHMudmVyc2lvbiA9ICcwLjAuMC1hdXRvbWF0ZWQnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmVyc2lvbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuREVGQVVMVF9IRUFERVJTID0gdm9pZCAwO1xuY29uc3QgdmVyc2lvbl8xID0gcmVxdWlyZShcIi4vdmVyc2lvblwiKTtcbmV4cG9ydHMuREVGQVVMVF9IRUFERVJTID0geyAnWC1DbGllbnQtSW5mbyc6IGBwb3N0Z3Jlc3QtanMvJHt2ZXJzaW9uXzEudmVyc2lvbn1gIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vLyBAdHMtaWdub3JlXG5jb25zdCBub2RlX2ZldGNoXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIkBzdXBhYmFzZS9ub2RlLWZldGNoXCIpKTtcbmNvbnN0IFBvc3RncmVzdEVycm9yXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vUG9zdGdyZXN0RXJyb3JcIikpO1xuY2xhc3MgUG9zdGdyZXN0QnVpbGRlciB7XG4gICAgY29uc3RydWN0b3IoYnVpbGRlcikge1xuICAgICAgICB0aGlzLnNob3VsZFRocm93T25FcnJvciA9IGZhbHNlO1xuICAgICAgICB0aGlzLm1ldGhvZCA9IGJ1aWxkZXIubWV0aG9kO1xuICAgICAgICB0aGlzLnVybCA9IGJ1aWxkZXIudXJsO1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSBidWlsZGVyLmhlYWRlcnM7XG4gICAgICAgIHRoaXMuc2NoZW1hID0gYnVpbGRlci5zY2hlbWE7XG4gICAgICAgIHRoaXMuYm9keSA9IGJ1aWxkZXIuYm9keTtcbiAgICAgICAgdGhpcy5zaG91bGRUaHJvd09uRXJyb3IgPSBidWlsZGVyLnNob3VsZFRocm93T25FcnJvcjtcbiAgICAgICAgdGhpcy5zaWduYWwgPSBidWlsZGVyLnNpZ25hbDtcbiAgICAgICAgdGhpcy5pc01heWJlU2luZ2xlID0gYnVpbGRlci5pc01heWJlU2luZ2xlO1xuICAgICAgICBpZiAoYnVpbGRlci5mZXRjaCkge1xuICAgICAgICAgICAgdGhpcy5mZXRjaCA9IGJ1aWxkZXIuZmV0Y2g7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGZldGNoID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhpcy5mZXRjaCA9IG5vZGVfZmV0Y2hfMS5kZWZhdWx0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5mZXRjaCA9IGZldGNoO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIHRoZXJlJ3MgYW4gZXJyb3Igd2l0aCB0aGUgcXVlcnksIHRocm93T25FcnJvciB3aWxsIHJlamVjdCB0aGUgcHJvbWlzZSBieVxuICAgICAqIHRocm93aW5nIHRoZSBlcnJvciBpbnN0ZWFkIG9mIHJldHVybmluZyBpdCBhcyBwYXJ0IG9mIGEgc3VjY2Vzc2Z1bCByZXNwb25zZS5cbiAgICAgKlxuICAgICAqIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vc3VwYWJhc2Uvc3VwYWJhc2UtanMvaXNzdWVzLzkyfVxuICAgICAqL1xuICAgIHRocm93T25FcnJvcigpIHtcbiAgICAgICAgdGhpcy5zaG91bGRUaHJvd09uRXJyb3IgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IGFuIEhUVFAgaGVhZGVyIGZvciB0aGUgcmVxdWVzdC5cbiAgICAgKi9cbiAgICBzZXRIZWFkZXIobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5oZWFkZXJzKTtcbiAgICAgICAgdGhpcy5oZWFkZXJzW25hbWVdID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB0aGVuKG9uZnVsZmlsbGVkLCBvbnJlamVjdGVkKSB7XG4gICAgICAgIC8vIGh0dHBzOi8vcG9zdGdyZXN0Lm9yZy9lbi9zdGFibGUvYXBpLmh0bWwjc3dpdGNoaW5nLXNjaGVtYXNcbiAgICAgICAgaWYgKHRoaXMuc2NoZW1hID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIHNraXBcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChbJ0dFVCcsICdIRUFEJ10uaW5jbHVkZXModGhpcy5tZXRob2QpKSB7XG4gICAgICAgICAgICB0aGlzLmhlYWRlcnNbJ0FjY2VwdC1Qcm9maWxlJ10gPSB0aGlzLnNjaGVtYTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaGVhZGVyc1snQ29udGVudC1Qcm9maWxlJ10gPSB0aGlzLnNjaGVtYTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tZXRob2QgIT09ICdHRVQnICYmIHRoaXMubWV0aG9kICE9PSAnSEVBRCcpIHtcbiAgICAgICAgICAgIHRoaXMuaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24vanNvbic7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTk9URTogSW52b2tlIHcvbyBgdGhpc2AgdG8gYXZvaWQgaWxsZWdhbCBpbnZvY2F0aW9uIGVycm9yLlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3VwYWJhc2UvcG9zdGdyZXN0LWpzL3B1bGwvMjQ3XG4gICAgICAgIGNvbnN0IF9mZXRjaCA9IHRoaXMuZmV0Y2g7XG4gICAgICAgIGxldCByZXMgPSBfZmV0Y2godGhpcy51cmwudG9TdHJpbmcoKSwge1xuICAgICAgICAgICAgbWV0aG9kOiB0aGlzLm1ldGhvZCxcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHRoaXMuYm9keSksXG4gICAgICAgICAgICBzaWduYWw6IHRoaXMuc2lnbmFsLFxuICAgICAgICB9KS50aGVuKGFzeW5jIChyZXMpID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICAgICAgbGV0IGVycm9yID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBkYXRhID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBjb3VudCA9IG51bGw7XG4gICAgICAgICAgICBsZXQgc3RhdHVzID0gcmVzLnN0YXR1cztcbiAgICAgICAgICAgIGxldCBzdGF0dXNUZXh0ID0gcmVzLnN0YXR1c1RleHQ7XG4gICAgICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWV0aG9kICE9PSAnSEVBRCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcy50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChib2R5ID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJlZmVyOiByZXR1cm49bWluaW1hbFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuaGVhZGVyc1snQWNjZXB0J10gPT09ICd0ZXh0L2NzdicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBib2R5O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuaGVhZGVyc1snQWNjZXB0J10gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGVhZGVyc1snQWNjZXB0J10uaW5jbHVkZXMoJ2FwcGxpY2F0aW9uL3ZuZC5wZ3JzdC5wbGFuK3RleHQnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IGJvZHk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShib2R5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjb3VudEhlYWRlciA9IChfYSA9IHRoaXMuaGVhZGVyc1snUHJlZmVyJ10pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tYXRjaCgvY291bnQ9KGV4YWN0fHBsYW5uZWR8ZXN0aW1hdGVkKS8pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRSYW5nZSA9IChfYiA9IHJlcy5oZWFkZXJzLmdldCgnY29udGVudC1yYW5nZScpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iuc3BsaXQoJy8nKTtcbiAgICAgICAgICAgICAgICBpZiAoY291bnRIZWFkZXIgJiYgY29udGVudFJhbmdlICYmIGNvbnRlbnRSYW5nZS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50ID0gcGFyc2VJbnQoY29udGVudFJhbmdlWzFdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVGVtcG9yYXJ5IHBhcnRpYWwgZml4IGZvciBodHRwczovL2dpdGh1Yi5jb20vc3VwYWJhc2UvcG9zdGdyZXN0LWpzL2lzc3Vlcy8zNjFcbiAgICAgICAgICAgICAgICAvLyBJc3N1ZSBwZXJzaXN0cyBlLmcuIGZvciBgLmluc2VydChbLi4uXSkuc2VsZWN0KCkubWF5YmVTaW5nbGUoKWBcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc01heWJlU2luZ2xlICYmIHRoaXMubWV0aG9kID09PSAnR0VUJyAmJiBBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9Qb3N0Z1JFU1QvcG9zdGdyZXN0L2Jsb2IvYTg2N2Q3OWM0MjQxOWFmMTZjMThjM2ZiMDE5ZWJhOGRmOTkyNjI2Zi9zcmMvUG9zdGdSRVNUL0Vycm9yLmhzI0w1NTNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiAnUEdSU1QxMTYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGBSZXN1bHRzIGNvbnRhaW4gJHtkYXRhLmxlbmd0aH0gcm93cywgYXBwbGljYXRpb24vdm5kLnBncnN0Lm9iamVjdCtqc29uIHJlcXVpcmVzIDEgcm93YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaW50OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdKU09OIG9iamVjdCByZXF1ZXN0ZWQsIG11bHRpcGxlIChvciBubykgcm93cyByZXR1cm5lZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMgPSA0MDY7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNUZXh0ID0gJ05vdCBBY2NlcHRhYmxlJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChkYXRhLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IGRhdGFbMF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXMudGV4dCgpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yID0gSlNPTi5wYXJzZShib2R5KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gV29ya2Fyb3VuZCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL3N1cGFiYXNlL3Bvc3RncmVzdC1qcy9pc3N1ZXMvMjk1XG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGVycm9yKSAmJiByZXMuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cyA9IDIwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c1RleHQgPSAnT0snO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChfZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXb3JrYXJvdW5kIGZvciBodHRwczovL2dpdGh1Yi5jb20vc3VwYWJhc2UvcG9zdGdyZXN0LWpzL2lzc3Vlcy8yOTVcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDQwNCAmJiBib2R5ID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzID0gMjA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dCA9ICdObyBDb250ZW50JztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGJvZHksXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlcnJvciAmJiB0aGlzLmlzTWF5YmVTaW5nbGUgJiYgKChfYyA9IGVycm9yID09PSBudWxsIHx8IGVycm9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlcnJvci5kZXRhaWxzKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuaW5jbHVkZXMoJzAgcm93cycpKSkge1xuICAgICAgICAgICAgICAgICAgICBlcnJvciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cyA9IDIwMDtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dCA9ICdPSyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlcnJvciAmJiB0aGlzLnNob3VsZFRocm93T25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUG9zdGdyZXN0RXJyb3JfMS5kZWZhdWx0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwb3N0Z3Jlc3RSZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgICAgIGNvdW50LFxuICAgICAgICAgICAgICAgIHN0YXR1cyxcbiAgICAgICAgICAgICAgICBzdGF0dXNUZXh0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBwb3N0Z3Jlc3RSZXNwb25zZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghdGhpcy5zaG91bGRUaHJvd09uRXJyb3IpIHtcbiAgICAgICAgICAgIHJlcyA9IHJlcy5jYXRjaCgoZmV0Y2hFcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICAgICAgICAgIHJldHVybiAoe1xuICAgICAgICAgICAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYCR7KF9hID0gZmV0Y2hFcnJvciA9PT0gbnVsbCB8fCBmZXRjaEVycm9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmZXRjaEVycm9yLm5hbWUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICdGZXRjaEVycm9yJ306ICR7ZmV0Y2hFcnJvciA9PT0gbnVsbCB8fCBmZXRjaEVycm9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmZXRjaEVycm9yLm1lc3NhZ2V9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGAkeyhfYiA9IGZldGNoRXJyb3IgPT09IG51bGwgfHwgZmV0Y2hFcnJvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogZmV0Y2hFcnJvci5zdGFjaykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJyd9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpbnQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogYCR7KF9jID0gZmV0Y2hFcnJvciA9PT0gbnVsbCB8fCBmZXRjaEVycm9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmZXRjaEVycm9yLmNvZGUpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6ICcnfWAsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGNvdW50OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IDAsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1c1RleHQ6ICcnLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcy50aGVuKG9uZnVsZmlsbGVkLCBvbnJlamVjdGVkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgdGhlIHR5cGUgb2YgdGhlIHJldHVybmVkIGBkYXRhYC5cbiAgICAgKlxuICAgICAqIEB0eXBlUGFyYW0gTmV3UmVzdWx0IC0gVGhlIG5ldyByZXN1bHQgdHlwZSB0byBvdmVycmlkZSB3aXRoXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIG92ZXJyaWRlVHlwZXM8eW91clR5cGUsIHsgbWVyZ2U6IGZhbHNlIH0+KCkgbWV0aG9kIGF0IHRoZSBlbmQgb2YgeW91ciBjYWxsIGNoYWluIGluc3RlYWRcbiAgICAgKi9cbiAgICByZXR1cm5zKCkge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgdGhlIHR5cGUgb2YgdGhlIHJldHVybmVkIGBkYXRhYCBmaWVsZCBpbiB0aGUgcmVzcG9uc2UuXG4gICAgICpcbiAgICAgKiBAdHlwZVBhcmFtIE5ld1Jlc3VsdCAtIFRoZSBuZXcgdHlwZSB0byBjYXN0IHRoZSByZXNwb25zZSBkYXRhIHRvXG4gICAgICogQHR5cGVQYXJhbSBPcHRpb25zIC0gT3B0aW9uYWwgdHlwZSBjb25maWd1cmF0aW9uIChkZWZhdWx0cyB0byB7IG1lcmdlOiB0cnVlIH0pXG4gICAgICogQHR5cGVQYXJhbSBPcHRpb25zLm1lcmdlIC0gV2hlbiB0cnVlLCBtZXJnZXMgdGhlIG5ldyB0eXBlIHdpdGggZXhpc3RpbmcgcmV0dXJuIHR5cGUuIFdoZW4gZmFsc2UsIHJlcGxhY2VzIHRoZSBleGlzdGluZyB0eXBlcyBlbnRpcmVseSAoZGVmYXVsdHMgdG8gdHJ1ZSlcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHR5cGVzY3JpcHRcbiAgICAgKiAvLyBNZXJnZSB3aXRoIGV4aXN0aW5nIHR5cGVzIChkZWZhdWx0IGJlaGF2aW9yKVxuICAgICAqIGNvbnN0IHF1ZXJ5ID0gc3VwYWJhc2VcbiAgICAgKiAgIC5mcm9tKCd1c2VycycpXG4gICAgICogICAuc2VsZWN0KClcbiAgICAgKiAgIC5vdmVycmlkZVR5cGVzPHsgY3VzdG9tX2ZpZWxkOiBzdHJpbmcgfT4oKVxuICAgICAqXG4gICAgICogLy8gUmVwbGFjZSBleGlzdGluZyB0eXBlcyBjb21wbGV0ZWx5XG4gICAgICogY29uc3QgcmVwbGFjZVF1ZXJ5ID0gc3VwYWJhc2VcbiAgICAgKiAgIC5mcm9tKCd1c2VycycpXG4gICAgICogICAuc2VsZWN0KClcbiAgICAgKiAgIC5vdmVycmlkZVR5cGVzPHsgaWQ6IG51bWJlcjsgbmFtZTogc3RyaW5nIH0sIHsgbWVyZ2U6IGZhbHNlIH0+KClcbiAgICAgKiBgYGBcbiAgICAgKiBAcmV0dXJucyBBIFBvc3RncmVzdEJ1aWxkZXIgaW5zdGFuY2Ugd2l0aCB0aGUgbmV3IHR5cGVcbiAgICAgKi9cbiAgICBvdmVycmlkZVR5cGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5leHBvcnRzLmRlZmF1bHQgPSBQb3N0Z3Jlc3RCdWlsZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UG9zdGdyZXN0QnVpbGRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogRXJyb3IgZm9ybWF0XG4gKlxuICoge0BsaW5rIGh0dHBzOi8vcG9zdGdyZXN0Lm9yZy9lbi9zdGFibGUvYXBpLmh0bWw/aGlnaGxpZ2h0PW9wdGlvbnMjZXJyb3JzLWFuZC1odHRwLXN0YXR1cy1jb2Rlc31cbiAqL1xuY2xhc3MgUG9zdGdyZXN0RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IoY29udGV4dCkge1xuICAgICAgICBzdXBlcihjb250ZXh0Lm1lc3NhZ2UpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnUG9zdGdyZXN0RXJyb3InO1xuICAgICAgICB0aGlzLmRldGFpbHMgPSBjb250ZXh0LmRldGFpbHM7XG4gICAgICAgIHRoaXMuaGludCA9IGNvbnRleHQuaGludDtcbiAgICAgICAgdGhpcy5jb2RlID0gY29udGV4dC5jb2RlO1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IFBvc3RncmVzdEVycm9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UG9zdGdyZXN0RXJyb3IuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBQb3N0Z3Jlc3RUcmFuc2Zvcm1CdWlsZGVyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vUG9zdGdyZXN0VHJhbnNmb3JtQnVpbGRlclwiKSk7XG5jbGFzcyBQb3N0Z3Jlc3RGaWx0ZXJCdWlsZGVyIGV4dGVuZHMgUG9zdGdyZXN0VHJhbnNmb3JtQnVpbGRlcl8xLmRlZmF1bHQge1xuICAgIC8qKlxuICAgICAqIE1hdGNoIG9ubHkgcm93cyB3aGVyZSBgY29sdW1uYCBpcyBlcXVhbCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogVG8gY2hlY2sgaWYgdGhlIHZhbHVlIG9mIGBjb2x1bW5gIGlzIE5VTEwsIHlvdSBzaG91bGQgdXNlIGAuaXMoKWAgaW5zdGVhZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2x1bW4gLSBUaGUgY29sdW1uIHRvIGZpbHRlciBvblxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBmaWx0ZXIgd2l0aFxuICAgICAqL1xuICAgIGVxKGNvbHVtbiwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChjb2x1bW4sIGBlcS4ke3ZhbHVlfWApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWF0Y2ggb25seSByb3dzIHdoZXJlIGBjb2x1bW5gIGlzIG5vdCBlcXVhbCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbHVtbiAtIFRoZSBjb2x1bW4gdG8gZmlsdGVyIG9uXG4gICAgICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIGZpbHRlciB3aXRoXG4gICAgICovXG4gICAgbmVxKGNvbHVtbiwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChjb2x1bW4sIGBuZXEuJHt2YWx1ZX1gKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hdGNoIG9ubHkgcm93cyB3aGVyZSBgY29sdW1uYCBpcyBncmVhdGVyIHRoYW4gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2x1bW4gLSBUaGUgY29sdW1uIHRvIGZpbHRlciBvblxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBmaWx0ZXIgd2l0aFxuICAgICAqL1xuICAgIGd0KGNvbHVtbiwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChjb2x1bW4sIGBndC4ke3ZhbHVlfWApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWF0Y2ggb25seSByb3dzIHdoZXJlIGBjb2x1bW5gIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbHVtbiAtIFRoZSBjb2x1bW4gdG8gZmlsdGVyIG9uXG4gICAgICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIGZpbHRlciB3aXRoXG4gICAgICovXG4gICAgZ3RlKGNvbHVtbiwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChjb2x1bW4sIGBndGUuJHt2YWx1ZX1gKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hdGNoIG9ubHkgcm93cyB3aGVyZSBgY29sdW1uYCBpcyBsZXNzIHRoYW4gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2x1bW4gLSBUaGUgY29sdW1uIHRvIGZpbHRlciBvblxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBmaWx0ZXIgd2l0aFxuICAgICAqL1xuICAgIGx0KGNvbHVtbiwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChjb2x1bW4sIGBsdC4ke3ZhbHVlfWApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWF0Y2ggb25seSByb3dzIHdoZXJlIGBjb2x1bW5gIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbHVtbiAtIFRoZSBjb2x1bW4gdG8gZmlsdGVyIG9uXG4gICAgICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIGZpbHRlciB3aXRoXG4gICAgICovXG4gICAgbHRlKGNvbHVtbiwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChjb2x1bW4sIGBsdGUuJHt2YWx1ZX1gKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hdGNoIG9ubHkgcm93cyB3aGVyZSBgY29sdW1uYCBtYXRjaGVzIGBwYXR0ZXJuYCBjYXNlLXNlbnNpdGl2ZWx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbHVtbiAtIFRoZSBjb2x1bW4gdG8gZmlsdGVyIG9uXG4gICAgICogQHBhcmFtIHBhdHRlcm4gLSBUaGUgcGF0dGVybiB0byBtYXRjaCB3aXRoXG4gICAgICovXG4gICAgbGlrZShjb2x1bW4sIHBhdHRlcm4pIHtcbiAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChjb2x1bW4sIGBsaWtlLiR7cGF0dGVybn1gKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hdGNoIG9ubHkgcm93cyB3aGVyZSBgY29sdW1uYCBtYXRjaGVzIGFsbCBvZiBgcGF0dGVybnNgIGNhc2Utc2Vuc2l0aXZlbHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29sdW1uIC0gVGhlIGNvbHVtbiB0byBmaWx0ZXIgb25cbiAgICAgKiBAcGFyYW0gcGF0dGVybnMgLSBUaGUgcGF0dGVybnMgdG8gbWF0Y2ggd2l0aFxuICAgICAqL1xuICAgIGxpa2VBbGxPZihjb2x1bW4sIHBhdHRlcm5zKSB7XG4gICAgICAgIHRoaXMudXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoY29sdW1uLCBgbGlrZShhbGwpLnske3BhdHRlcm5zLmpvaW4oJywnKX19YCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYXRjaCBvbmx5IHJvd3Mgd2hlcmUgYGNvbHVtbmAgbWF0Y2hlcyBhbnkgb2YgYHBhdHRlcm5zYCBjYXNlLXNlbnNpdGl2ZWx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbHVtbiAtIFRoZSBjb2x1bW4gdG8gZmlsdGVyIG9uXG4gICAgICogQHBhcmFtIHBhdHRlcm5zIC0gVGhlIHBhdHRlcm5zIHRvIG1hdGNoIHdpdGhcbiAgICAgKi9cbiAgICBsaWtlQW55T2YoY29sdW1uLCBwYXR0ZXJucykge1xuICAgICAgICB0aGlzLnVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKGNvbHVtbiwgYGxpa2UoYW55KS57JHtwYXR0ZXJucy5qb2luKCcsJyl9fWApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWF0Y2ggb25seSByb3dzIHdoZXJlIGBjb2x1bW5gIG1hdGNoZXMgYHBhdHRlcm5gIGNhc2UtaW5zZW5zaXRpdmVseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2x1bW4gLSBUaGUgY29sdW1uIHRvIGZpbHRlciBvblxuICAgICAqIEBwYXJhbSBwYXR0ZXJuIC0gVGhlIHBhdHRlcm4gdG8gbWF0Y2ggd2l0aFxuICAgICAqL1xuICAgIGlsaWtlKGNvbHVtbiwgcGF0dGVybikge1xuICAgICAgICB0aGlzLnVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKGNvbHVtbiwgYGlsaWtlLiR7cGF0dGVybn1gKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hdGNoIG9ubHkgcm93cyB3aGVyZSBgY29sdW1uYCBtYXRjaGVzIGFsbCBvZiBgcGF0dGVybnNgIGNhc2UtaW5zZW5zaXRpdmVseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2x1bW4gLSBUaGUgY29sdW1uIHRvIGZpbHRlciBvblxuICAgICAqIEBwYXJhbSBwYXR0ZXJucyAtIFRoZSBwYXR0ZXJucyB0byBtYXRjaCB3aXRoXG4gICAgICovXG4gICAgaWxpa2VBbGxPZihjb2x1bW4sIHBhdHRlcm5zKSB7XG4gICAgICAgIHRoaXMudXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoY29sdW1uLCBgaWxpa2UoYWxsKS57JHtwYXR0ZXJucy5qb2luKCcsJyl9fWApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWF0Y2ggb25seSByb3dzIHdoZXJlIGBjb2x1bW5gIG1hdGNoZXMgYW55IG9mIGBwYXR0ZXJuc2AgY2FzZS1pbnNlbnNpdGl2ZWx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbHVtbiAtIFRoZSBjb2x1bW4gdG8gZmlsdGVyIG9uXG4gICAgICogQHBhcmFtIHBhdHRlcm5zIC0gVGhlIHBhdHRlcm5zIHRvIG1hdGNoIHdpdGhcbiAgICAgKi9cbiAgICBpbGlrZUFueU9mKGNvbHVtbiwgcGF0dGVybnMpIHtcbiAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChjb2x1bW4sIGBpbGlrZShhbnkpLnske3BhdHRlcm5zLmpvaW4oJywnKX19YCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYXRjaCBvbmx5IHJvd3Mgd2hlcmUgYGNvbHVtbmAgSVMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEZvciBub24tYm9vbGVhbiBjb2x1bW5zLCB0aGlzIGlzIG9ubHkgcmVsZXZhbnQgZm9yIGNoZWNraW5nIGlmIHRoZSB2YWx1ZSBvZlxuICAgICAqIGBjb2x1bW5gIGlzIE5VTEwgYnkgc2V0dGluZyBgdmFsdWVgIHRvIGBudWxsYC5cbiAgICAgKlxuICAgICAqIEZvciBib29sZWFuIGNvbHVtbnMsIHlvdSBjYW4gYWxzbyBzZXQgYHZhbHVlYCB0byBgdHJ1ZWAgb3IgYGZhbHNlYCBhbmQgaXRcbiAgICAgKiB3aWxsIGJlaGF2ZSB0aGUgc2FtZSB3YXkgYXMgYC5lcSgpYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2x1bW4gLSBUaGUgY29sdW1uIHRvIGZpbHRlciBvblxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBmaWx0ZXIgd2l0aFxuICAgICAqL1xuICAgIGlzKGNvbHVtbiwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChjb2x1bW4sIGBpcy4ke3ZhbHVlfWApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWF0Y2ggb25seSByb3dzIHdoZXJlIGBjb2x1bW5gIGlzIGluY2x1ZGVkIGluIHRoZSBgdmFsdWVzYCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2x1bW4gLSBUaGUgY29sdW1uIHRvIGZpbHRlciBvblxuICAgICAqIEBwYXJhbSB2YWx1ZXMgLSBUaGUgdmFsdWVzIGFycmF5IHRvIGZpbHRlciB3aXRoXG4gICAgICovXG4gICAgaW4oY29sdW1uLCB2YWx1ZXMpIHtcbiAgICAgICAgY29uc3QgY2xlYW5lZFZhbHVlcyA9IEFycmF5LmZyb20obmV3IFNldCh2YWx1ZXMpKVxuICAgICAgICAgICAgLm1hcCgocykgPT4ge1xuICAgICAgICAgICAgLy8gaGFuZGxlIHBvc3RncmVzdCByZXNlcnZlZCBjaGFyYWN0ZXJzXG4gICAgICAgICAgICAvLyBodHRwczovL3Bvc3RncmVzdC5vcmcvZW4vdjcuMC4wL2FwaS5odG1sI3Jlc2VydmVkLWNoYXJhY3RlcnNcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcyA9PT0gJ3N0cmluZycgJiYgbmV3IFJlZ0V4cCgnWywoKV0nKS50ZXN0KHMpKVxuICAgICAgICAgICAgICAgIHJldHVybiBgXCIke3N9XCJgO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtzfWA7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuam9pbignLCcpO1xuICAgICAgICB0aGlzLnVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKGNvbHVtbiwgYGluLigke2NsZWFuZWRWYWx1ZXN9KWApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT25seSByZWxldmFudCBmb3IganNvbmIsIGFycmF5LCBhbmQgcmFuZ2UgY29sdW1ucy4gTWF0Y2ggb25seSByb3dzIHdoZXJlXG4gICAgICogYGNvbHVtbmAgY29udGFpbnMgZXZlcnkgZWxlbWVudCBhcHBlYXJpbmcgaW4gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2x1bW4gLSBUaGUganNvbmIsIGFycmF5LCBvciByYW5nZSBjb2x1bW4gdG8gZmlsdGVyIG9uXG4gICAgICogQHBhcmFtIHZhbHVlIC0gVGhlIGpzb25iLCBhcnJheSwgb3IgcmFuZ2UgdmFsdWUgdG8gZmlsdGVyIHdpdGhcbiAgICAgKi9cbiAgICBjb250YWlucyhjb2x1bW4sIHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAvLyByYW5nZSB0eXBlcyBjYW4gYmUgaW5jbHVzaXZlICdbJywgJ10nIG9yIGV4Y2x1c2l2ZSAnKCcsICcpJyBzbyBqdXN0XG4gICAgICAgICAgICAvLyBrZWVwIGl0IHNpbXBsZSBhbmQgYWNjZXB0IGEgc3RyaW5nXG4gICAgICAgICAgICB0aGlzLnVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKGNvbHVtbiwgYGNzLiR7dmFsdWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIC8vIGFycmF5XG4gICAgICAgICAgICB0aGlzLnVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKGNvbHVtbiwgYGNzLnske3ZhbHVlLmpvaW4oJywnKX19YCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBqc29uXG4gICAgICAgICAgICB0aGlzLnVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKGNvbHVtbiwgYGNzLiR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPbmx5IHJlbGV2YW50IGZvciBqc29uYiwgYXJyYXksIGFuZCByYW5nZSBjb2x1bW5zLiBNYXRjaCBvbmx5IHJvd3Mgd2hlcmVcbiAgICAgKiBldmVyeSBlbGVtZW50IGFwcGVhcmluZyBpbiBgY29sdW1uYCBpcyBjb250YWluZWQgYnkgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2x1bW4gLSBUaGUganNvbmIsIGFycmF5LCBvciByYW5nZSBjb2x1bW4gdG8gZmlsdGVyIG9uXG4gICAgICogQHBhcmFtIHZhbHVlIC0gVGhlIGpzb25iLCBhcnJheSwgb3IgcmFuZ2UgdmFsdWUgdG8gZmlsdGVyIHdpdGhcbiAgICAgKi9cbiAgICBjb250YWluZWRCeShjb2x1bW4sIHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAvLyByYW5nZVxuICAgICAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChjb2x1bW4sIGBjZC4ke3ZhbHVlfWApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAvLyBhcnJheVxuICAgICAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChjb2x1bW4sIGBjZC57JHt2YWx1ZS5qb2luKCcsJyl9fWApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8ganNvblxuICAgICAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChjb2x1bW4sIGBjZC4ke0pTT04uc3RyaW5naWZ5KHZhbHVlKX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT25seSByZWxldmFudCBmb3IgcmFuZ2UgY29sdW1ucy4gTWF0Y2ggb25seSByb3dzIHdoZXJlIGV2ZXJ5IGVsZW1lbnQgaW5cbiAgICAgKiBgY29sdW1uYCBpcyBncmVhdGVyIHRoYW4gYW55IGVsZW1lbnQgaW4gYHJhbmdlYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2x1bW4gLSBUaGUgcmFuZ2UgY29sdW1uIHRvIGZpbHRlciBvblxuICAgICAqIEBwYXJhbSByYW5nZSAtIFRoZSByYW5nZSB0byBmaWx0ZXIgd2l0aFxuICAgICAqL1xuICAgIHJhbmdlR3QoY29sdW1uLCByYW5nZSkge1xuICAgICAgICB0aGlzLnVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKGNvbHVtbiwgYHNyLiR7cmFuZ2V9YCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPbmx5IHJlbGV2YW50IGZvciByYW5nZSBjb2x1bW5zLiBNYXRjaCBvbmx5IHJvd3Mgd2hlcmUgZXZlcnkgZWxlbWVudCBpblxuICAgICAqIGBjb2x1bW5gIGlzIGVpdGhlciBjb250YWluZWQgaW4gYHJhbmdlYCBvciBncmVhdGVyIHRoYW4gYW55IGVsZW1lbnQgaW5cbiAgICAgKiBgcmFuZ2VgLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbHVtbiAtIFRoZSByYW5nZSBjb2x1bW4gdG8gZmlsdGVyIG9uXG4gICAgICogQHBhcmFtIHJhbmdlIC0gVGhlIHJhbmdlIHRvIGZpbHRlciB3aXRoXG4gICAgICovXG4gICAgcmFuZ2VHdGUoY29sdW1uLCByYW5nZSkge1xuICAgICAgICB0aGlzLnVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKGNvbHVtbiwgYG54bC4ke3JhbmdlfWApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT25seSByZWxldmFudCBmb3IgcmFuZ2UgY29sdW1ucy4gTWF0Y2ggb25seSByb3dzIHdoZXJlIGV2ZXJ5IGVsZW1lbnQgaW5cbiAgICAgKiBgY29sdW1uYCBpcyBsZXNzIHRoYW4gYW55IGVsZW1lbnQgaW4gYHJhbmdlYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2x1bW4gLSBUaGUgcmFuZ2UgY29sdW1uIHRvIGZpbHRlciBvblxuICAgICAqIEBwYXJhbSByYW5nZSAtIFRoZSByYW5nZSB0byBmaWx0ZXIgd2l0aFxuICAgICAqL1xuICAgIHJhbmdlTHQoY29sdW1uLCByYW5nZSkge1xuICAgICAgICB0aGlzLnVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKGNvbHVtbiwgYHNsLiR7cmFuZ2V9YCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPbmx5IHJlbGV2YW50IGZvciByYW5nZSBjb2x1bW5zLiBNYXRjaCBvbmx5IHJvd3Mgd2hlcmUgZXZlcnkgZWxlbWVudCBpblxuICAgICAqIGBjb2x1bW5gIGlzIGVpdGhlciBjb250YWluZWQgaW4gYHJhbmdlYCBvciBsZXNzIHRoYW4gYW55IGVsZW1lbnQgaW5cbiAgICAgKiBgcmFuZ2VgLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbHVtbiAtIFRoZSByYW5nZSBjb2x1bW4gdG8gZmlsdGVyIG9uXG4gICAgICogQHBhcmFtIHJhbmdlIC0gVGhlIHJhbmdlIHRvIGZpbHRlciB3aXRoXG4gICAgICovXG4gICAgcmFuZ2VMdGUoY29sdW1uLCByYW5nZSkge1xuICAgICAgICB0aGlzLnVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKGNvbHVtbiwgYG54ci4ke3JhbmdlfWApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT25seSByZWxldmFudCBmb3IgcmFuZ2UgY29sdW1ucy4gTWF0Y2ggb25seSByb3dzIHdoZXJlIGBjb2x1bW5gIGlzXG4gICAgICogbXV0dWFsbHkgZXhjbHVzaXZlIHRvIGByYW5nZWAgYW5kIHRoZXJlIGNhbiBiZSBubyBlbGVtZW50IGJldHdlZW4gdGhlIHR3b1xuICAgICAqIHJhbmdlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2x1bW4gLSBUaGUgcmFuZ2UgY29sdW1uIHRvIGZpbHRlciBvblxuICAgICAqIEBwYXJhbSByYW5nZSAtIFRoZSByYW5nZSB0byBmaWx0ZXIgd2l0aFxuICAgICAqL1xuICAgIHJhbmdlQWRqYWNlbnQoY29sdW1uLCByYW5nZSkge1xuICAgICAgICB0aGlzLnVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKGNvbHVtbiwgYGFkai4ke3JhbmdlfWApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT25seSByZWxldmFudCBmb3IgYXJyYXkgYW5kIHJhbmdlIGNvbHVtbnMuIE1hdGNoIG9ubHkgcm93cyB3aGVyZVxuICAgICAqIGBjb2x1bW5gIGFuZCBgdmFsdWVgIGhhdmUgYW4gZWxlbWVudCBpbiBjb21tb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29sdW1uIC0gVGhlIGFycmF5IG9yIHJhbmdlIGNvbHVtbiB0byBmaWx0ZXIgb25cbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBUaGUgYXJyYXkgb3IgcmFuZ2UgdmFsdWUgdG8gZmlsdGVyIHdpdGhcbiAgICAgKi9cbiAgICBvdmVybGFwcyhjb2x1bW4sIHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAvLyByYW5nZVxuICAgICAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChjb2x1bW4sIGBvdi4ke3ZhbHVlfWApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gYXJyYXlcbiAgICAgICAgICAgIHRoaXMudXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoY29sdW1uLCBgb3YueyR7dmFsdWUuam9pbignLCcpfX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT25seSByZWxldmFudCBmb3IgdGV4dCBhbmQgdHN2ZWN0b3IgY29sdW1ucy4gTWF0Y2ggb25seSByb3dzIHdoZXJlXG4gICAgICogYGNvbHVtbmAgbWF0Y2hlcyB0aGUgcXVlcnkgc3RyaW5nIGluIGBxdWVyeWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29sdW1uIC0gVGhlIHRleHQgb3IgdHN2ZWN0b3IgY29sdW1uIHRvIGZpbHRlciBvblxuICAgICAqIEBwYXJhbSBxdWVyeSAtIFRoZSBxdWVyeSB0ZXh0IHRvIG1hdGNoIHdpdGhcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE5hbWVkIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5jb25maWcgLSBUaGUgdGV4dCBzZWFyY2ggY29uZmlndXJhdGlvbiB0byB1c2VcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy50eXBlIC0gQ2hhbmdlIGhvdyB0aGUgYHF1ZXJ5YCB0ZXh0IGlzIGludGVycHJldGVkXG4gICAgICovXG4gICAgdGV4dFNlYXJjaChjb2x1bW4sIHF1ZXJ5LCB7IGNvbmZpZywgdHlwZSB9ID0ge30pIHtcbiAgICAgICAgbGV0IHR5cGVQYXJ0ID0gJyc7XG4gICAgICAgIGlmICh0eXBlID09PSAncGxhaW4nKSB7XG4gICAgICAgICAgICB0eXBlUGFydCA9ICdwbCc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gJ3BocmFzZScpIHtcbiAgICAgICAgICAgIHR5cGVQYXJ0ID0gJ3BoJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlID09PSAnd2Vic2VhcmNoJykge1xuICAgICAgICAgICAgdHlwZVBhcnQgPSAndyc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29uZmlnUGFydCA9IGNvbmZpZyA9PT0gdW5kZWZpbmVkID8gJycgOiBgKCR7Y29uZmlnfSlgO1xuICAgICAgICB0aGlzLnVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKGNvbHVtbiwgYCR7dHlwZVBhcnR9ZnRzJHtjb25maWdQYXJ0fS4ke3F1ZXJ5fWApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWF0Y2ggb25seSByb3dzIHdoZXJlIGVhY2ggY29sdW1uIGluIGBxdWVyeWAga2V5cyBpcyBlcXVhbCB0byBpdHNcbiAgICAgKiBhc3NvY2lhdGVkIHZhbHVlLiBTaG9ydGhhbmQgZm9yIG11bHRpcGxlIGAuZXEoKWBzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHF1ZXJ5IC0gVGhlIG9iamVjdCB0byBmaWx0ZXIgd2l0aCwgd2l0aCBjb2x1bW4gbmFtZXMgYXMga2V5cyBtYXBwZWRcbiAgICAgKiB0byB0aGVpciBmaWx0ZXIgdmFsdWVzXG4gICAgICovXG4gICAgbWF0Y2gocXVlcnkpIHtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMocXVlcnkpLmZvckVhY2goKFtjb2x1bW4sIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChjb2x1bW4sIGBlcS4ke3ZhbHVlfWApO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hdGNoIG9ubHkgcm93cyB3aGljaCBkb2Vzbid0IHNhdGlzZnkgdGhlIGZpbHRlci5cbiAgICAgKlxuICAgICAqIFVubGlrZSBtb3N0IGZpbHRlcnMsIGBvcGVhcmF0b3JgIGFuZCBgdmFsdWVgIGFyZSB1c2VkIGFzLWlzIGFuZCBuZWVkIHRvXG4gICAgICogZm9sbG93IFtQb3N0Z1JFU1RcbiAgICAgKiBzeW50YXhdKGh0dHBzOi8vcG9zdGdyZXN0Lm9yZy9lbi9zdGFibGUvYXBpLmh0bWwjb3BlcmF0b3JzKS4gWW91IGFsc28gbmVlZFxuICAgICAqIHRvIG1ha2Ugc3VyZSB0aGV5IGFyZSBwcm9wZXJseSBzYW5pdGl6ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29sdW1uIC0gVGhlIGNvbHVtbiB0byBmaWx0ZXIgb25cbiAgICAgKiBAcGFyYW0gb3BlcmF0b3IgLSBUaGUgb3BlcmF0b3IgdG8gYmUgbmVnYXRlZCB0byBmaWx0ZXIgd2l0aCwgZm9sbG93aW5nXG4gICAgICogUG9zdGdSRVNUIHN5bnRheFxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBmaWx0ZXIgd2l0aCwgZm9sbG93aW5nIFBvc3RnUkVTVCBzeW50YXhcbiAgICAgKi9cbiAgICBub3QoY29sdW1uLCBvcGVyYXRvciwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy51cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChjb2x1bW4sIGBub3QuJHtvcGVyYXRvcn0uJHt2YWx1ZX1gKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hdGNoIG9ubHkgcm93cyB3aGljaCBzYXRpc2Z5IGF0IGxlYXN0IG9uZSBvZiB0aGUgZmlsdGVycy5cbiAgICAgKlxuICAgICAqIFVubGlrZSBtb3N0IGZpbHRlcnMsIGBmaWx0ZXJzYCBpcyB1c2VkIGFzLWlzIGFuZCBuZWVkcyB0byBmb2xsb3cgW1Bvc3RnUkVTVFxuICAgICAqIHN5bnRheF0oaHR0cHM6Ly9wb3N0Z3Jlc3Qub3JnL2VuL3N0YWJsZS9hcGkuaHRtbCNvcGVyYXRvcnMpLiBZb3UgYWxzbyBuZWVkXG4gICAgICogdG8gbWFrZSBzdXJlIGl0J3MgcHJvcGVybHkgc2FuaXRpemVkLlxuICAgICAqXG4gICAgICogSXQncyBjdXJyZW50bHkgbm90IHBvc3NpYmxlIHRvIGRvIGFuIGAub3IoKWAgZmlsdGVyIGFjcm9zcyBtdWx0aXBsZSB0YWJsZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZmlsdGVycyAtIFRoZSBmaWx0ZXJzIHRvIHVzZSwgZm9sbG93aW5nIFBvc3RnUkVTVCBzeW50YXhcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE5hbWVkIHBhcmFtZXRlcnNcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5yZWZlcmVuY2VkVGFibGUgLSBTZXQgdGhpcyB0byBmaWx0ZXIgb24gcmVmZXJlbmNlZCB0YWJsZXNcbiAgICAgKiBpbnN0ZWFkIG9mIHRoZSBwYXJlbnQgdGFibGVcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5mb3JlaWduVGFibGUgLSBEZXByZWNhdGVkLCB1c2UgYHJlZmVyZW5jZWRUYWJsZWAgaW5zdGVhZFxuICAgICAqL1xuICAgIG9yKGZpbHRlcnMsIHsgZm9yZWlnblRhYmxlLCByZWZlcmVuY2VkVGFibGUgPSBmb3JlaWduVGFibGUsIH0gPSB7fSkge1xuICAgICAgICBjb25zdCBrZXkgPSByZWZlcmVuY2VkVGFibGUgPyBgJHtyZWZlcmVuY2VkVGFibGV9Lm9yYCA6ICdvcic7XG4gICAgICAgIHRoaXMudXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoa2V5LCBgKCR7ZmlsdGVyc30pYCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYXRjaCBvbmx5IHJvd3Mgd2hpY2ggc2F0aXNmeSB0aGUgZmlsdGVyLiBUaGlzIGlzIGFuIGVzY2FwZSBoYXRjaCAtIHlvdVxuICAgICAqIHNob3VsZCB1c2UgdGhlIHNwZWNpZmljIGZpbHRlciBtZXRob2RzIHdoZXJldmVyIHBvc3NpYmxlLlxuICAgICAqXG4gICAgICogVW5saWtlIG1vc3QgZmlsdGVycywgYG9wZWFyYXRvcmAgYW5kIGB2YWx1ZWAgYXJlIHVzZWQgYXMtaXMgYW5kIG5lZWQgdG9cbiAgICAgKiBmb2xsb3cgW1Bvc3RnUkVTVFxuICAgICAqIHN5bnRheF0oaHR0cHM6Ly9wb3N0Z3Jlc3Qub3JnL2VuL3N0YWJsZS9hcGkuaHRtbCNvcGVyYXRvcnMpLiBZb3UgYWxzbyBuZWVkXG4gICAgICogdG8gbWFrZSBzdXJlIHRoZXkgYXJlIHByb3Blcmx5IHNhbml0aXplZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2x1bW4gLSBUaGUgY29sdW1uIHRvIGZpbHRlciBvblxuICAgICAqIEBwYXJhbSBvcGVyYXRvciAtIFRoZSBvcGVyYXRvciB0byBmaWx0ZXIgd2l0aCwgZm9sbG93aW5nIFBvc3RnUkVTVCBzeW50YXhcbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gZmlsdGVyIHdpdGgsIGZvbGxvd2luZyBQb3N0Z1JFU1Qgc3ludGF4XG4gICAgICovXG4gICAgZmlsdGVyKGNvbHVtbiwgb3BlcmF0b3IsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMudXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoY29sdW1uLCBgJHtvcGVyYXRvcn0uJHt2YWx1ZX1gKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gUG9zdGdyZXN0RmlsdGVyQnVpbGRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBvc3RncmVzdEZpbHRlckJ1aWxkZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIHJlZjogaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtZ2xvYmFsXG52YXIgZ2V0R2xvYmFsID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gdGhlIG9ubHkgcmVsaWFibGUgbWVhbnMgdG8gZ2V0IHRoZSBnbG9iYWwgb2JqZWN0IGlzXG4gICAgLy8gYEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKClgXG4gICAgLy8gSG93ZXZlciwgdGhpcyBjYXVzZXMgQ1NQIHZpb2xhdGlvbnMgaW4gQ2hyb21lIGFwcHMuXG4gICAgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykgeyByZXR1cm4gc2VsZjsgfVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgeyByZXR1cm4gd2luZG93OyB9XG4gICAgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7IHJldHVybiBnbG9iYWw7IH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VuYWJsZSB0byBsb2NhdGUgZ2xvYmFsIG9iamVjdCcpO1xufVxuXG52YXIgZ2xvYmFsT2JqZWN0ID0gZ2V0R2xvYmFsKCk7XG5cbmV4cG9ydCBjb25zdCBmZXRjaCA9IGdsb2JhbE9iamVjdC5mZXRjaDtcblxuZXhwb3J0IGRlZmF1bHQgZ2xvYmFsT2JqZWN0LmZldGNoLmJpbmQoZ2xvYmFsT2JqZWN0KTtcblxuZXhwb3J0IGNvbnN0IEhlYWRlcnMgPSBnbG9iYWxPYmplY3QuSGVhZGVycztcbmV4cG9ydCBjb25zdCBSZXF1ZXN0ID0gZ2xvYmFsT2JqZWN0LlJlcXVlc3Q7XG5leHBvcnQgY29uc3QgUmVzcG9uc2UgPSBnbG9iYWxPYmplY3QuUmVzcG9uc2U7XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5pbXBvcnQgeyByZXNvbHZlRmV0Y2ggfSBmcm9tICcuL2hlbHBlcic7XG5pbXBvcnQgeyBGdW5jdGlvbnNGZXRjaEVycm9yLCBGdW5jdGlvbnNIdHRwRXJyb3IsIEZ1bmN0aW9uc1JlbGF5RXJyb3IsIEZ1bmN0aW9uUmVnaW9uLCB9IGZyb20gJy4vdHlwZXMnO1xuZXhwb3J0IGNsYXNzIEZ1bmN0aW9uc0NsaWVudCB7XG4gICAgY29uc3RydWN0b3IodXJsLCB7IGhlYWRlcnMgPSB7fSwgY3VzdG9tRmV0Y2gsIHJlZ2lvbiA9IEZ1bmN0aW9uUmVnaW9uLkFueSwgfSA9IHt9KSB7XG4gICAgICAgIHRoaXMudXJsID0gdXJsO1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSBoZWFkZXJzO1xuICAgICAgICB0aGlzLnJlZ2lvbiA9IHJlZ2lvbjtcbiAgICAgICAgdGhpcy5mZXRjaCA9IHJlc29sdmVGZXRjaChjdXN0b21GZXRjaCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGF1dGhvcml6YXRpb24gaGVhZGVyXG4gICAgICogQHBhcmFtIHRva2VuIC0gdGhlIG5ldyBqd3QgdG9rZW4gc2VudCBpbiB0aGUgYXV0aG9yaXNhdGlvbiBoZWFkZXJcbiAgICAgKi9cbiAgICBzZXRBdXRoKHRva2VuKSB7XG4gICAgICAgIHRoaXMuaGVhZGVycy5BdXRob3JpemF0aW9uID0gYEJlYXJlciAke3Rva2VufWA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZXMgYSBmdW5jdGlvblxuICAgICAqIEBwYXJhbSBmdW5jdGlvbk5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgRnVuY3Rpb24gdG8gaW52b2tlLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBmb3IgaW52b2tpbmcgdGhlIEZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGludm9rZShmdW5jdGlvbk5hbWUsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgaGVhZGVycywgbWV0aG9kLCBib2R5OiBmdW5jdGlvbkFyZ3MgfSA9IG9wdGlvbnM7XG4gICAgICAgICAgICAgICAgbGV0IF9oZWFkZXJzID0ge307XG4gICAgICAgICAgICAgICAgbGV0IHsgcmVnaW9uIH0gPSBvcHRpb25zO1xuICAgICAgICAgICAgICAgIGlmICghcmVnaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZ2lvbiA9IHRoaXMucmVnaW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBBZGQgcmVnaW9uIGFzIHF1ZXJ5IHBhcmFtZXRlciB1c2luZyBVUkwgQVBJXG4gICAgICAgICAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChgJHt0aGlzLnVybH0vJHtmdW5jdGlvbk5hbWV9YCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlZ2lvbiAmJiByZWdpb24gIT09ICdhbnknKSB7XG4gICAgICAgICAgICAgICAgICAgIF9oZWFkZXJzWyd4LXJlZ2lvbiddID0gcmVnaW9uO1xuICAgICAgICAgICAgICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnZm9yY2VGdW5jdGlvblJlZ2lvbicsIHJlZ2lvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBib2R5O1xuICAgICAgICAgICAgICAgIGlmIChmdW5jdGlvbkFyZ3MgJiZcbiAgICAgICAgICAgICAgICAgICAgKChoZWFkZXJzICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaGVhZGVycywgJ0NvbnRlbnQtVHlwZScpKSB8fCAhaGVhZGVycykpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCh0eXBlb2YgQmxvYiAhPT0gJ3VuZGVmaW5lZCcgJiYgZnVuY3Rpb25BcmdzIGluc3RhbmNlb2YgQmxvYikgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uQXJncyBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3aWxsIHdvcmsgZm9yIEZpbGUgYXMgRmlsZSBpbmhlcml0cyBCbG9iXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbHNvIHdvcmtzIGZvciBBcnJheUJ1ZmZlciBhcyBpdCBpcyB0aGUgc2FtZSB1bmRlcmx5aW5nIHN0cnVjdHVyZSBhcyBhIEJsb2JcbiAgICAgICAgICAgICAgICAgICAgICAgIF9oZWFkZXJzWydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9keSA9IGZ1bmN0aW9uQXJncztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgZnVuY3Rpb25BcmdzID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGxhaW4gc3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBfaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSAndGV4dC9wbGFpbic7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5ID0gZnVuY3Rpb25BcmdzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBGb3JtRGF0YSAhPT0gJ3VuZGVmaW5lZCcgJiYgZnVuY3Rpb25BcmdzIGluc3RhbmNlb2YgRm9ybURhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvbid0IHNldCBjb250ZW50LXR5cGUgaGVhZGVyc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVxdWVzdCB3aWxsIGF1dG9tYXRpY2FsbHkgYWRkIHRoZSByaWdodCBib3VuZGFyeSB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keSA9IGZ1bmN0aW9uQXJncztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRlZmF1bHQsIGFzc3VtZSB0aGlzIGlzIEpTT05cbiAgICAgICAgICAgICAgICAgICAgICAgIF9oZWFkZXJzWydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi9qc29uJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShmdW5jdGlvbkFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5mZXRjaCh1cmwudG9TdHJpbmcoKSwge1xuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IG1ldGhvZCB8fCAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgIC8vIGhlYWRlcnMgcHJpb3JpdHkgaXMgKGhpZ2ggdG8gbG93KTpcbiAgICAgICAgICAgICAgICAgICAgLy8gMS4gaW52b2tlLWxldmVsIGhlYWRlcnNcbiAgICAgICAgICAgICAgICAgICAgLy8gMi4gY2xpZW50LWxldmVsIGhlYWRlcnNcbiAgICAgICAgICAgICAgICAgICAgLy8gMy4gZGVmYXVsdCBDb250ZW50LVR5cGUgaGVhZGVyXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBfaGVhZGVycyksIHRoaXMuaGVhZGVycyksIGhlYWRlcnMpLFxuICAgICAgICAgICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgICAgIH0pLmNhdGNoKChmZXRjaEVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGdW5jdGlvbnNGZXRjaEVycm9yKGZldGNoRXJyb3IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzUmVsYXlFcnJvciA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCd4LXJlbGF5LWVycm9yJyk7XG4gICAgICAgICAgICAgICAgaWYgKGlzUmVsYXlFcnJvciAmJiBpc1JlbGF5RXJyb3IgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRnVuY3Rpb25zUmVsYXlFcnJvcihyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZ1bmN0aW9uc0h0dHBFcnJvcihyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCByZXNwb25zZVR5cGUgPSAoKF9hID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ0NvbnRlbnQtVHlwZScpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAndGV4dC9wbGFpbicpLnNwbGl0KCc7JylbMF0udHJpbSgpO1xuICAgICAgICAgICAgICAgIGxldCBkYXRhO1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZVR5cGUgPT09ICdhcHBsaWNhdGlvbi9qc29uJykge1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0geWllbGQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXNwb25zZVR5cGUgPT09ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB5aWVsZCByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlVHlwZSA9PT0gJ3RleHQvZXZlbnQtc3RyZWFtJykge1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlVHlwZSA9PT0gJ211bHRpcGFydC9mb3JtLWRhdGEnKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB5aWVsZCByZXNwb25zZS5mb3JtRGF0YSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZGVmYXVsdCB0byB0ZXh0XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSB5aWVsZCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsLCByZXNwb25zZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlOiBlcnJvciBpbnN0YW5jZW9mIEZ1bmN0aW9uc0h0dHBFcnJvciB8fCBlcnJvciBpbnN0YW5jZW9mIEZ1bmN0aW9uc1JlbGF5RXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgID8gZXJyb3IuY29udGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RnVuY3Rpb25zQ2xpZW50LmpzLm1hcCIsImV4cG9ydCBjb25zdCByZXNvbHZlRmV0Y2ggPSAoY3VzdG9tRmV0Y2gpID0+IHtcbiAgICBsZXQgX2ZldGNoO1xuICAgIGlmIChjdXN0b21GZXRjaCkge1xuICAgICAgICBfZmV0Y2ggPSBjdXN0b21GZXRjaDtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGZldGNoID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBfZmV0Y2ggPSAoLi4uYXJncykgPT4gaW1wb3J0KCdAc3VwYWJhc2Uvbm9kZS1mZXRjaCcpLnRoZW4oKHsgZGVmYXVsdDogZmV0Y2ggfSkgPT4gZmV0Y2goLi4uYXJncykpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgX2ZldGNoID0gZmV0Y2g7XG4gICAgfVxuICAgIHJldHVybiAoLi4uYXJncykgPT4gX2ZldGNoKC4uLmFyZ3MpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhlbHBlci5qcy5tYXAiLCJpbXBvcnQgaW5kZXggZnJvbSAnLi4vY2pzL2luZGV4LmpzJ1xuY29uc3Qge1xuICBQb3N0Z3Jlc3RDbGllbnQsXG4gIFBvc3RncmVzdFF1ZXJ5QnVpbGRlcixcbiAgUG9zdGdyZXN0RmlsdGVyQnVpbGRlcixcbiAgUG9zdGdyZXN0VHJhbnNmb3JtQnVpbGRlcixcbiAgUG9zdGdyZXN0QnVpbGRlcixcbiAgUG9zdGdyZXN0RXJyb3IsXG59ID0gaW5kZXhcblxuZXhwb3J0IHtcbiAgUG9zdGdyZXN0QnVpbGRlcixcbiAgUG9zdGdyZXN0Q2xpZW50LFxuICBQb3N0Z3Jlc3RGaWx0ZXJCdWlsZGVyLFxuICBQb3N0Z3Jlc3RRdWVyeUJ1aWxkZXIsXG4gIFBvc3RncmVzdFRyYW5zZm9ybUJ1aWxkZXIsXG4gIFBvc3RncmVzdEVycm9yLFxufVxuXG4vLyBjb21wYXRpYmlsaXR5IHdpdGggQ0pTIG91dHB1dFxuZXhwb3J0IGRlZmF1bHQge1xuICBQb3N0Z3Jlc3RDbGllbnQsXG4gIFBvc3RncmVzdFF1ZXJ5QnVpbGRlcixcbiAgUG9zdGdyZXN0RmlsdGVyQnVpbGRlcixcbiAgUG9zdGdyZXN0VHJhbnNmb3JtQnVpbGRlcixcbiAgUG9zdGdyZXN0QnVpbGRlcixcbiAgUG9zdGdyZXN0RXJyb3IsXG59XG4iLCJpbXBvcnQgeyBnZXROYXRpdmVXZWJTb2NrZXQgfSBmcm9tIFwiLi91dGlscy5qc1wiO1xuZXhwb3J0IGNvbnN0IFdlYlNvY2tldCA9IGdldE5hdGl2ZVdlYlNvY2tldCgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmF0aXZlLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBnZXROYXRpdmVXZWJTb2NrZXQoKSB7XG4gICAgaWYgKHR5cGVvZiBXZWJTb2NrZXQgIT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHJldHVybiBXZWJTb2NrZXQ7XG4gICAgaWYgKHR5cGVvZiBnbG9iYWwuV2ViU29ja2V0ICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICByZXR1cm4gZ2xvYmFsLldlYlNvY2tldDtcbiAgICBpZiAodHlwZW9mIHdpbmRvdy5XZWJTb2NrZXQgIT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHJldHVybiB3aW5kb3cuV2ViU29ja2V0O1xuICAgIGlmICh0eXBlb2Ygc2VsZi5XZWJTb2NrZXQgIT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHJldHVybiBzZWxmLldlYlNvY2tldDtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJgV2ViU29ja2V0YCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgZW52aXJvbm1lbnRcIik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5qcy5tYXAiLCJpbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSAnLi92ZXJzaW9uJztcbmV4cG9ydCBjb25zdCBERUZBVUxUX1ZFUlNJT04gPSBgcmVhbHRpbWUtanMvJHt2ZXJzaW9ufWA7XG5leHBvcnQgY29uc3QgVlNOID0gJzEuMC4wJztcbmV4cG9ydCBjb25zdCBWRVJTSU9OID0gdmVyc2lvbjtcbmV4cG9ydCBjb25zdCBERUZBVUxUX1RJTUVPVVQgPSAxMDAwMDtcbmV4cG9ydCBjb25zdCBXU19DTE9TRV9OT1JNQUwgPSAxMDAwO1xuZXhwb3J0IHZhciBTT0NLRVRfU1RBVEVTO1xuKGZ1bmN0aW9uIChTT0NLRVRfU1RBVEVTKSB7XG4gICAgU09DS0VUX1NUQVRFU1tTT0NLRVRfU1RBVEVTW1wiY29ubmVjdGluZ1wiXSA9IDBdID0gXCJjb25uZWN0aW5nXCI7XG4gICAgU09DS0VUX1NUQVRFU1tTT0NLRVRfU1RBVEVTW1wib3BlblwiXSA9IDFdID0gXCJvcGVuXCI7XG4gICAgU09DS0VUX1NUQVRFU1tTT0NLRVRfU1RBVEVTW1wiY2xvc2luZ1wiXSA9IDJdID0gXCJjbG9zaW5nXCI7XG4gICAgU09DS0VUX1NUQVRFU1tTT0NLRVRfU1RBVEVTW1wiY2xvc2VkXCJdID0gM10gPSBcImNsb3NlZFwiO1xufSkoU09DS0VUX1NUQVRFUyB8fCAoU09DS0VUX1NUQVRFUyA9IHt9KSk7XG5leHBvcnQgdmFyIENIQU5ORUxfU1RBVEVTO1xuKGZ1bmN0aW9uIChDSEFOTkVMX1NUQVRFUykge1xuICAgIENIQU5ORUxfU1RBVEVTW1wiY2xvc2VkXCJdID0gXCJjbG9zZWRcIjtcbiAgICBDSEFOTkVMX1NUQVRFU1tcImVycm9yZWRcIl0gPSBcImVycm9yZWRcIjtcbiAgICBDSEFOTkVMX1NUQVRFU1tcImpvaW5lZFwiXSA9IFwiam9pbmVkXCI7XG4gICAgQ0hBTk5FTF9TVEFURVNbXCJqb2luaW5nXCJdID0gXCJqb2luaW5nXCI7XG4gICAgQ0hBTk5FTF9TVEFURVNbXCJsZWF2aW5nXCJdID0gXCJsZWF2aW5nXCI7XG59KShDSEFOTkVMX1NUQVRFUyB8fCAoQ0hBTk5FTF9TVEFURVMgPSB7fSkpO1xuZXhwb3J0IHZhciBDSEFOTkVMX0VWRU5UUztcbihmdW5jdGlvbiAoQ0hBTk5FTF9FVkVOVFMpIHtcbiAgICBDSEFOTkVMX0VWRU5UU1tcImNsb3NlXCJdID0gXCJwaHhfY2xvc2VcIjtcbiAgICBDSEFOTkVMX0VWRU5UU1tcImVycm9yXCJdID0gXCJwaHhfZXJyb3JcIjtcbiAgICBDSEFOTkVMX0VWRU5UU1tcImpvaW5cIl0gPSBcInBoeF9qb2luXCI7XG4gICAgQ0hBTk5FTF9FVkVOVFNbXCJyZXBseVwiXSA9IFwicGh4X3JlcGx5XCI7XG4gICAgQ0hBTk5FTF9FVkVOVFNbXCJsZWF2ZVwiXSA9IFwicGh4X2xlYXZlXCI7XG4gICAgQ0hBTk5FTF9FVkVOVFNbXCJhY2Nlc3NfdG9rZW5cIl0gPSBcImFjY2Vzc190b2tlblwiO1xufSkoQ0hBTk5FTF9FVkVOVFMgfHwgKENIQU5ORUxfRVZFTlRTID0ge30pKTtcbmV4cG9ydCB2YXIgVFJBTlNQT1JUUztcbihmdW5jdGlvbiAoVFJBTlNQT1JUUykge1xuICAgIFRSQU5TUE9SVFNbXCJ3ZWJzb2NrZXRcIl0gPSBcIndlYnNvY2tldFwiO1xufSkoVFJBTlNQT1JUUyB8fCAoVFJBTlNQT1JUUyA9IHt9KSk7XG5leHBvcnQgdmFyIENPTk5FQ1RJT05fU1RBVEU7XG4oZnVuY3Rpb24gKENPTk5FQ1RJT05fU1RBVEUpIHtcbiAgICBDT05ORUNUSU9OX1NUQVRFW1wiQ29ubmVjdGluZ1wiXSA9IFwiY29ubmVjdGluZ1wiO1xuICAgIENPTk5FQ1RJT05fU1RBVEVbXCJPcGVuXCJdID0gXCJvcGVuXCI7XG4gICAgQ09OTkVDVElPTl9TVEFURVtcIkNsb3NpbmdcIl0gPSBcImNsb3NpbmdcIjtcbiAgICBDT05ORUNUSU9OX1NUQVRFW1wiQ2xvc2VkXCJdID0gXCJjbG9zZWRcIjtcbn0pKENPTk5FQ1RJT05fU1RBVEUgfHwgKENPTk5FQ1RJT05fU1RBVEUgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCIsIi8qKlxuICogSGVscGVycyB0byBjb252ZXJ0IHRoZSBjaGFuZ2UgUGF5bG9hZCBpbnRvIG5hdGl2ZSBKUyB0eXBlcy5cbiAqL1xuLy8gQWRhcHRlZCBmcm9tIGVwZ3NxbCAoc3JjL2VwZ3NxbF9iaW5hcnkuZXJsKSwgdGhpcyBtb2R1bGUgbGljZW5zZWQgdW5kZXJcbi8vIDMtY2xhdXNlIEJTRCBmb3VuZCBoZXJlOiBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZXBnc3FsL2VwZ3NxbC9kZXZlbC9MSUNFTlNFXG5leHBvcnQgdmFyIFBvc3RncmVzVHlwZXM7XG4oZnVuY3Rpb24gKFBvc3RncmVzVHlwZXMpIHtcbiAgICBQb3N0Z3Jlc1R5cGVzW1wiYWJzdGltZVwiXSA9IFwiYWJzdGltZVwiO1xuICAgIFBvc3RncmVzVHlwZXNbXCJib29sXCJdID0gXCJib29sXCI7XG4gICAgUG9zdGdyZXNUeXBlc1tcImRhdGVcIl0gPSBcImRhdGVcIjtcbiAgICBQb3N0Z3Jlc1R5cGVzW1wiZGF0ZXJhbmdlXCJdID0gXCJkYXRlcmFuZ2VcIjtcbiAgICBQb3N0Z3Jlc1R5cGVzW1wiZmxvYXQ0XCJdID0gXCJmbG9hdDRcIjtcbiAgICBQb3N0Z3Jlc1R5cGVzW1wiZmxvYXQ4XCJdID0gXCJmbG9hdDhcIjtcbiAgICBQb3N0Z3Jlc1R5cGVzW1wiaW50MlwiXSA9IFwiaW50MlwiO1xuICAgIFBvc3RncmVzVHlwZXNbXCJpbnQ0XCJdID0gXCJpbnQ0XCI7XG4gICAgUG9zdGdyZXNUeXBlc1tcImludDRyYW5nZVwiXSA9IFwiaW50NHJhbmdlXCI7XG4gICAgUG9zdGdyZXNUeXBlc1tcImludDhcIl0gPSBcImludDhcIjtcbiAgICBQb3N0Z3Jlc1R5cGVzW1wiaW50OHJhbmdlXCJdID0gXCJpbnQ4cmFuZ2VcIjtcbiAgICBQb3N0Z3Jlc1R5cGVzW1wianNvblwiXSA9IFwianNvblwiO1xuICAgIFBvc3RncmVzVHlwZXNbXCJqc29uYlwiXSA9IFwianNvbmJcIjtcbiAgICBQb3N0Z3Jlc1R5cGVzW1wibW9uZXlcIl0gPSBcIm1vbmV5XCI7XG4gICAgUG9zdGdyZXNUeXBlc1tcIm51bWVyaWNcIl0gPSBcIm51bWVyaWNcIjtcbiAgICBQb3N0Z3Jlc1R5cGVzW1wib2lkXCJdID0gXCJvaWRcIjtcbiAgICBQb3N0Z3Jlc1R5cGVzW1wicmVsdGltZVwiXSA9IFwicmVsdGltZVwiO1xuICAgIFBvc3RncmVzVHlwZXNbXCJ0ZXh0XCJdID0gXCJ0ZXh0XCI7XG4gICAgUG9zdGdyZXNUeXBlc1tcInRpbWVcIl0gPSBcInRpbWVcIjtcbiAgICBQb3N0Z3Jlc1R5cGVzW1widGltZXN0YW1wXCJdID0gXCJ0aW1lc3RhbXBcIjtcbiAgICBQb3N0Z3Jlc1R5cGVzW1widGltZXN0YW1wdHpcIl0gPSBcInRpbWVzdGFtcHR6XCI7XG4gICAgUG9zdGdyZXNUeXBlc1tcInRpbWV0elwiXSA9IFwidGltZXR6XCI7XG4gICAgUG9zdGdyZXNUeXBlc1tcInRzcmFuZ2VcIl0gPSBcInRzcmFuZ2VcIjtcbiAgICBQb3N0Z3Jlc1R5cGVzW1widHN0enJhbmdlXCJdID0gXCJ0c3R6cmFuZ2VcIjtcbn0pKFBvc3RncmVzVHlwZXMgfHwgKFBvc3RncmVzVHlwZXMgPSB7fSkpO1xuLyoqXG4gKiBUYWtlcyBhbiBhcnJheSBvZiBjb2x1bW5zIGFuZCBhbiBvYmplY3Qgb2Ygc3RyaW5nIHZhbHVlcyB0aGVuIGNvbnZlcnRzIGVhY2ggc3RyaW5nIHZhbHVlXG4gKiB0byBpdHMgbWFwcGVkIHR5cGUuXG4gKlxuICogQHBhcmFtIHt7bmFtZTogU3RyaW5nLCB0eXBlOiBTdHJpbmd9W119IGNvbHVtbnNcbiAqIEBwYXJhbSB7T2JqZWN0fSByZWNvcmRcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIFRoZSBtYXAgb2YgdmFyaW91cyBvcHRpb25zIHRoYXQgY2FuIGJlIGFwcGxpZWQgdG8gdGhlIG1hcHBlclxuICogQHBhcmFtIHtBcnJheX0gb3B0aW9ucy5za2lwVHlwZXMgVGhlIGFycmF5IG9mIHR5cGVzIHRoYXQgc2hvdWxkIG5vdCBiZSBjb252ZXJ0ZWRcbiAqXG4gKiBAZXhhbXBsZSBjb252ZXJ0Q2hhbmdlRGF0YShbe25hbWU6ICdmaXJzdF9uYW1lJywgdHlwZTogJ3RleHQnfSwge25hbWU6ICdhZ2UnLCB0eXBlOiAnaW50NCd9XSwge2ZpcnN0X25hbWU6ICdQYXVsJywgYWdlOiczMyd9LCB7fSlcbiAqIC8vPT57IGZpcnN0X25hbWU6ICdQYXVsJywgYWdlOiAzMyB9XG4gKi9cbmV4cG9ydCBjb25zdCBjb252ZXJ0Q2hhbmdlRGF0YSA9IChjb2x1bW5zLCByZWNvcmQsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBza2lwVHlwZXMgPSAoX2EgPSBvcHRpb25zLnNraXBUeXBlcykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW107XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHJlY29yZCkucmVkdWNlKChhY2MsIHJlY19rZXkpID0+IHtcbiAgICAgICAgYWNjW3JlY19rZXldID0gY29udmVydENvbHVtbihyZWNfa2V5LCBjb2x1bW5zLCByZWNvcmQsIHNraXBUeXBlcyk7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xufTtcbi8qKlxuICogQ29udmVydHMgdGhlIHZhbHVlIG9mIGFuIGluZGl2aWR1YWwgY29sdW1uLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBjb2x1bW5OYW1lIFRoZSBjb2x1bW4gdGhhdCB5b3Ugd2FudCB0byBjb252ZXJ0XG4gKiBAcGFyYW0ge3tuYW1lOiBTdHJpbmcsIHR5cGU6IFN0cmluZ31bXX0gY29sdW1ucyBBbGwgb2YgdGhlIGNvbHVtbnNcbiAqIEBwYXJhbSB7T2JqZWN0fSByZWNvcmQgVGhlIG1hcCBvZiBzdHJpbmcgdmFsdWVzXG4gKiBAcGFyYW0ge0FycmF5fSBza2lwVHlwZXMgQW4gYXJyYXkgb2YgdHlwZXMgdGhhdCBzaG91bGQgbm90IGJlIGNvbnZlcnRlZFxuICogQHJldHVybiB7b2JqZWN0fSBVc2VsZXNzIGluZm9ybWF0aW9uXG4gKlxuICogQGV4YW1wbGUgY29udmVydENvbHVtbignYWdlJywgW3tuYW1lOiAnZmlyc3RfbmFtZScsIHR5cGU6ICd0ZXh0J30sIHtuYW1lOiAnYWdlJywgdHlwZTogJ2ludDQnfV0sIHtmaXJzdF9uYW1lOiAnUGF1bCcsIGFnZTogJzMzJ30sIFtdKVxuICogLy89PiAzM1xuICogQGV4YW1wbGUgY29udmVydENvbHVtbignYWdlJywgW3tuYW1lOiAnZmlyc3RfbmFtZScsIHR5cGU6ICd0ZXh0J30sIHtuYW1lOiAnYWdlJywgdHlwZTogJ2ludDQnfV0sIHtmaXJzdF9uYW1lOiAnUGF1bCcsIGFnZTogJzMzJ30sIFsnaW50NCddKVxuICogLy89PiBcIjMzXCJcbiAqL1xuZXhwb3J0IGNvbnN0IGNvbnZlcnRDb2x1bW4gPSAoY29sdW1uTmFtZSwgY29sdW1ucywgcmVjb3JkLCBza2lwVHlwZXMpID0+IHtcbiAgICBjb25zdCBjb2x1bW4gPSBjb2x1bW5zLmZpbmQoKHgpID0+IHgubmFtZSA9PT0gY29sdW1uTmFtZSk7XG4gICAgY29uc3QgY29sVHlwZSA9IGNvbHVtbiA9PT0gbnVsbCB8fCBjb2x1bW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbHVtbi50eXBlO1xuICAgIGNvbnN0IHZhbHVlID0gcmVjb3JkW2NvbHVtbk5hbWVdO1xuICAgIGlmIChjb2xUeXBlICYmICFza2lwVHlwZXMuaW5jbHVkZXMoY29sVHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIGNvbnZlcnRDZWxsKGNvbFR5cGUsIHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIG5vb3AodmFsdWUpO1xufTtcbi8qKlxuICogSWYgdGhlIHZhbHVlIG9mIHRoZSBjZWxsIGlzIGBudWxsYCwgcmV0dXJucyBudWxsLlxuICogT3RoZXJ3aXNlIGNvbnZlcnRzIHRoZSBzdHJpbmcgdmFsdWUgdG8gdGhlIGNvcnJlY3QgdHlwZS5cbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIEEgcG9zdGdyZXMgY29sdW1uIHR5cGVcbiAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZSBUaGUgY2VsbCB2YWx1ZVxuICpcbiAqIEBleGFtcGxlIGNvbnZlcnRDZWxsKCdib29sJywgJ3QnKVxuICogLy89PiB0cnVlXG4gKiBAZXhhbXBsZSBjb252ZXJ0Q2VsbCgnaW50OCcsICcxMCcpXG4gKiAvLz0+IDEwXG4gKiBAZXhhbXBsZSBjb252ZXJ0Q2VsbCgnX2ludDQnLCAnezEsMiwzLDR9JylcbiAqIC8vPT4gWzEsMiwzLDRdXG4gKi9cbmV4cG9ydCBjb25zdCBjb252ZXJ0Q2VsbCA9ICh0eXBlLCB2YWx1ZSkgPT4ge1xuICAgIC8vIGlmIGRhdGEgdHlwZSBpcyBhbiBhcnJheVxuICAgIGlmICh0eXBlLmNoYXJBdCgwKSA9PT0gJ18nKSB7XG4gICAgICAgIGNvbnN0IGRhdGFUeXBlID0gdHlwZS5zbGljZSgxLCB0eXBlLmxlbmd0aCk7XG4gICAgICAgIHJldHVybiB0b0FycmF5KHZhbHVlLCBkYXRhVHlwZSk7XG4gICAgfVxuICAgIC8vIElmIG5vdCBudWxsLCBjb252ZXJ0IHRvIGNvcnJlY3QgdHlwZS5cbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBQb3N0Z3Jlc1R5cGVzLmJvb2w6XG4gICAgICAgICAgICByZXR1cm4gdG9Cb29sZWFuKHZhbHVlKTtcbiAgICAgICAgY2FzZSBQb3N0Z3Jlc1R5cGVzLmZsb2F0NDpcbiAgICAgICAgY2FzZSBQb3N0Z3Jlc1R5cGVzLmZsb2F0ODpcbiAgICAgICAgY2FzZSBQb3N0Z3Jlc1R5cGVzLmludDI6XG4gICAgICAgIGNhc2UgUG9zdGdyZXNUeXBlcy5pbnQ0OlxuICAgICAgICBjYXNlIFBvc3RncmVzVHlwZXMuaW50ODpcbiAgICAgICAgY2FzZSBQb3N0Z3Jlc1R5cGVzLm51bWVyaWM6XG4gICAgICAgIGNhc2UgUG9zdGdyZXNUeXBlcy5vaWQ6XG4gICAgICAgICAgICByZXR1cm4gdG9OdW1iZXIodmFsdWUpO1xuICAgICAgICBjYXNlIFBvc3RncmVzVHlwZXMuanNvbjpcbiAgICAgICAgY2FzZSBQb3N0Z3Jlc1R5cGVzLmpzb25iOlxuICAgICAgICAgICAgcmV0dXJuIHRvSnNvbih2YWx1ZSk7XG4gICAgICAgIGNhc2UgUG9zdGdyZXNUeXBlcy50aW1lc3RhbXA6XG4gICAgICAgICAgICByZXR1cm4gdG9UaW1lc3RhbXBTdHJpbmcodmFsdWUpOyAvLyBGb3JtYXQgdG8gYmUgY29uc2lzdGVudCB3aXRoIFBvc3RnUkVTVFxuICAgICAgICBjYXNlIFBvc3RncmVzVHlwZXMuYWJzdGltZTogLy8gVG8gYWxsb3cgdXNlcnMgdG8gY2FzdCBpdCBiYXNlZCBvbiBUaW1lem9uZVxuICAgICAgICBjYXNlIFBvc3RncmVzVHlwZXMuZGF0ZTogLy8gVG8gYWxsb3cgdXNlcnMgdG8gY2FzdCBpdCBiYXNlZCBvbiBUaW1lem9uZVxuICAgICAgICBjYXNlIFBvc3RncmVzVHlwZXMuZGF0ZXJhbmdlOlxuICAgICAgICBjYXNlIFBvc3RncmVzVHlwZXMuaW50NHJhbmdlOlxuICAgICAgICBjYXNlIFBvc3RncmVzVHlwZXMuaW50OHJhbmdlOlxuICAgICAgICBjYXNlIFBvc3RncmVzVHlwZXMubW9uZXk6XG4gICAgICAgIGNhc2UgUG9zdGdyZXNUeXBlcy5yZWx0aW1lOiAvLyBUbyBhbGxvdyB1c2VycyB0byBjYXN0IGl0IGJhc2VkIG9uIFRpbWV6b25lXG4gICAgICAgIGNhc2UgUG9zdGdyZXNUeXBlcy50ZXh0OlxuICAgICAgICBjYXNlIFBvc3RncmVzVHlwZXMudGltZTogLy8gVG8gYWxsb3cgdXNlcnMgdG8gY2FzdCBpdCBiYXNlZCBvbiBUaW1lem9uZVxuICAgICAgICBjYXNlIFBvc3RncmVzVHlwZXMudGltZXN0YW1wdHo6IC8vIFRvIGFsbG93IHVzZXJzIHRvIGNhc3QgaXQgYmFzZWQgb24gVGltZXpvbmVcbiAgICAgICAgY2FzZSBQb3N0Z3Jlc1R5cGVzLnRpbWV0ejogLy8gVG8gYWxsb3cgdXNlcnMgdG8gY2FzdCBpdCBiYXNlZCBvbiBUaW1lem9uZVxuICAgICAgICBjYXNlIFBvc3RncmVzVHlwZXMudHNyYW5nZTpcbiAgICAgICAgY2FzZSBQb3N0Z3Jlc1R5cGVzLnRzdHpyYW5nZTpcbiAgICAgICAgICAgIHJldHVybiBub29wKHZhbHVlKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIC8vIFJldHVybiB0aGUgdmFsdWUgZm9yIHJlbWFpbmluZyB0eXBlc1xuICAgICAgICAgICAgcmV0dXJuIG5vb3AodmFsdWUpO1xuICAgIH1cbn07XG5jb25zdCBub29wID0gKHZhbHVlKSA9PiB7XG4gICAgcmV0dXJuIHZhbHVlO1xufTtcbmV4cG9ydCBjb25zdCB0b0Jvb2xlYW4gPSAodmFsdWUpID0+IHtcbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICAgIGNhc2UgJ3QnOlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGNhc2UgJ2YnOlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgdG9OdW1iZXIgPSAodmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICBjb25zdCBwYXJzZWRWYWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpO1xuICAgICAgICBpZiAoIU51bWJlci5pc05hTihwYXJzZWRWYWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZWRWYWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59O1xuZXhwb3J0IGNvbnN0IHRvSnNvbiA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgSlNPTiBwYXJzZSBlcnJvcjogJHtlcnJvcn1gKTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59O1xuLyoqXG4gKiBDb252ZXJ0cyBhIFBvc3RncmVzIEFycmF5IGludG8gYSBuYXRpdmUgSlMgYXJyYXlcbiAqXG4gKiBAZXhhbXBsZSB0b0FycmF5KCd7fScsICdpbnQ0JylcbiAqIC8vPT4gW11cbiAqIEBleGFtcGxlIHRvQXJyYXkoJ3tcIlsyMDIxLTAxLTAxLDIwMjEtMTItMzEpXCIsXCIoMjAyMS0wMS0wMSwyMDIxLTEyLTMyXVwifScsICdkYXRlcmFuZ2UnKVxuICogLy89PiBbJ1syMDIxLTAxLTAxLDIwMjEtMTItMzEpJywgJygyMDIxLTAxLTAxLDIwMjEtMTItMzJdJ11cbiAqIEBleGFtcGxlIHRvQXJyYXkoWzEsMiwzLDRdLCAnaW50NCcpXG4gKiAvLz0+IFsxLDIsMyw0XVxuICovXG5leHBvcnQgY29uc3QgdG9BcnJheSA9ICh2YWx1ZSwgdHlwZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgY29uc3QgbGFzdElkeCA9IHZhbHVlLmxlbmd0aCAtIDE7XG4gICAgY29uc3QgY2xvc2VCcmFjZSA9IHZhbHVlW2xhc3RJZHhdO1xuICAgIGNvbnN0IG9wZW5CcmFjZSA9IHZhbHVlWzBdO1xuICAgIC8vIENvbmZpcm0gdmFsdWUgaXMgYSBQb3N0Z3JlcyBhcnJheSBieSBjaGVja2luZyBjdXJseSBicmFja2V0c1xuICAgIGlmIChvcGVuQnJhY2UgPT09ICd7JyAmJiBjbG9zZUJyYWNlID09PSAnfScpIHtcbiAgICAgICAgbGV0IGFycjtcbiAgICAgICAgY29uc3QgdmFsVHJpbSA9IHZhbHVlLnNsaWNlKDEsIGxhc3RJZHgpO1xuICAgICAgICAvLyBUT0RPOiBmaW5kIGEgYmV0dGVyIHNvbHV0aW9uIHRvIHNlcGFyYXRlIFBvc3RncmVzIGFycmF5IGRhdGFcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGFyciA9IEpTT04ucGFyc2UoJ1snICsgdmFsVHJpbSArICddJyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKF8pIHtcbiAgICAgICAgICAgIC8vIFdBUk5JTkc6IHNwbGl0dGluZyBvbiBjb21tYSBkb2VzIG5vdCBjb3ZlciBhbGwgZWRnZSBjYXNlc1xuICAgICAgICAgICAgYXJyID0gdmFsVHJpbSA/IHZhbFRyaW0uc3BsaXQoJywnKSA6IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnIubWFwKCh2YWwpID0+IGNvbnZlcnRDZWxsKHR5cGUsIHZhbCkpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59O1xuLyoqXG4gKiBGaXhlcyB0aW1lc3RhbXAgdG8gYmUgSVNPLTg2MDEuIFN3YXBzIHRoZSBzcGFjZSBiZXR3ZWVuIHRoZSBkYXRlIGFuZCB0aW1lIGZvciBhICdUJ1xuICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9zdXBhYmFzZS9zdXBhYmFzZS9pc3N1ZXMvMThcbiAqXG4gKiBAZXhhbXBsZSB0b1RpbWVzdGFtcFN0cmluZygnMjAxOS0wOS0xMCAwMDowMDowMCcpXG4gKiAvLz0+ICcyMDE5LTA5LTEwVDAwOjAwOjAwJ1xuICovXG5leHBvcnQgY29uc3QgdG9UaW1lc3RhbXBTdHJpbmcgPSAodmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdmFsdWUucmVwbGFjZSgnICcsICdUJyk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn07XG5leHBvcnQgY29uc3QgaHR0cEVuZHBvaW50VVJMID0gKHNvY2tldFVybCkgPT4ge1xuICAgIGxldCB1cmwgPSBzb2NrZXRVcmw7XG4gICAgdXJsID0gdXJsLnJlcGxhY2UoL153cy9pLCAnaHR0cCcpO1xuICAgIHVybCA9IHVybC5yZXBsYWNlKC8oXFwvc29ja2V0XFwvd2Vic29ja2V0fFxcL3NvY2tldHxcXC93ZWJzb2NrZXQpXFwvPyQvaSwgJycpO1xuICAgIHJldHVybiB1cmwucmVwbGFjZSgvXFwvKyQvLCAnJyk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhbnNmb3JtZXJzLmpzLm1hcCIsIi8vIFRoaXMgZmlsZSBkcmF3cyBoZWF2aWx5IGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3Bob2VuaXhmcmFtZXdvcmsvcGhvZW5peC9jb21taXQvY2YwOThlOWNmN2E0NGVlNjQ3OWQzMWQ5MTFhOTdkM2M3NDMwYzZmZVxuLy8gTGljZW5zZTogaHR0cHM6Ly9naXRodWIuY29tL3Bob2VuaXhmcmFtZXdvcmsvcGhvZW5peC9ibG9iL21hc3Rlci9MSUNFTlNFLm1kXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZXJpYWxpemVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5IRUFERVJfTEVOR1RIID0gMTtcbiAgICB9XG4gICAgZGVjb2RlKHJhd1BheWxvYWQsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChyYXdQYXlsb2FkLmNvbnN0cnVjdG9yID09PSBBcnJheUJ1ZmZlcikge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHRoaXMuX2JpbmFyeURlY29kZShyYXdQYXlsb2FkKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiByYXdQYXlsb2FkID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKEpTT04ucGFyc2UocmF3UGF5bG9hZCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYWxsYmFjayh7fSk7XG4gICAgfVxuICAgIF9iaW5hcnlEZWNvZGUoYnVmZmVyKSB7XG4gICAgICAgIGNvbnN0IHZpZXcgPSBuZXcgRGF0YVZpZXcoYnVmZmVyKTtcbiAgICAgICAgY29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpO1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVjb2RlQnJvYWRjYXN0KGJ1ZmZlciwgdmlldywgZGVjb2Rlcik7XG4gICAgfVxuICAgIF9kZWNvZGVCcm9hZGNhc3QoYnVmZmVyLCB2aWV3LCBkZWNvZGVyKSB7XG4gICAgICAgIGNvbnN0IHRvcGljU2l6ZSA9IHZpZXcuZ2V0VWludDgoMSk7XG4gICAgICAgIGNvbnN0IGV2ZW50U2l6ZSA9IHZpZXcuZ2V0VWludDgoMik7XG4gICAgICAgIGxldCBvZmZzZXQgPSB0aGlzLkhFQURFUl9MRU5HVEggKyAyO1xuICAgICAgICBjb25zdCB0b3BpYyA9IGRlY29kZXIuZGVjb2RlKGJ1ZmZlci5zbGljZShvZmZzZXQsIG9mZnNldCArIHRvcGljU2l6ZSkpO1xuICAgICAgICBvZmZzZXQgPSBvZmZzZXQgKyB0b3BpY1NpemU7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gZGVjb2Rlci5kZWNvZGUoYnVmZmVyLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgZXZlbnRTaXplKSk7XG4gICAgICAgIG9mZnNldCA9IG9mZnNldCArIGV2ZW50U2l6ZTtcbiAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZGVjb2Rlci5kZWNvZGUoYnVmZmVyLnNsaWNlKG9mZnNldCwgYnVmZmVyLmJ5dGVMZW5ndGgpKSk7XG4gICAgICAgIHJldHVybiB7IHJlZjogbnVsbCwgdG9waWM6IHRvcGljLCBldmVudDogZXZlbnQsIHBheWxvYWQ6IGRhdGEgfTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXJpYWxpemVyLmpzLm1hcCIsIi8qKlxuICogQ3JlYXRlcyBhIHRpbWVyIHRoYXQgYWNjZXB0cyBhIGB0aW1lckNhbGNgIGZ1bmN0aW9uIHRvIHBlcmZvcm0gY2FsY3VsYXRlZCB0aW1lb3V0IHJldHJpZXMsIHN1Y2ggYXMgZXhwb25lbnRpYWwgYmFja29mZi5cbiAqXG4gKiBAZXhhbXBsZVxuICogICAgbGV0IHJlY29ubmVjdFRpbWVyID0gbmV3IFRpbWVyKCgpID0+IHRoaXMuY29ubmVjdCgpLCBmdW5jdGlvbih0cmllcyl7XG4gKiAgICAgIHJldHVybiBbMTAwMCwgNTAwMCwgMTAwMDBdW3RyaWVzIC0gMV0gfHwgMTAwMDBcbiAqICAgIH0pXG4gKiAgICByZWNvbm5lY3RUaW1lci5zY2hlZHVsZVRpbWVvdXQoKSAvLyBmaXJlcyBhZnRlciAxMDAwXG4gKiAgICByZWNvbm5lY3RUaW1lci5zY2hlZHVsZVRpbWVvdXQoKSAvLyBmaXJlcyBhZnRlciA1MDAwXG4gKiAgICByZWNvbm5lY3RUaW1lci5yZXNldCgpXG4gKiAgICByZWNvbm5lY3RUaW1lci5zY2hlZHVsZVRpbWVvdXQoKSAvLyBmaXJlcyBhZnRlciAxMDAwXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpbWVyIHtcbiAgICBjb25zdHJ1Y3RvcihjYWxsYmFjaywgdGltZXJDYWxjKSB7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgICAgdGhpcy50aW1lckNhbGMgPSB0aW1lckNhbGM7XG4gICAgICAgIHRoaXMudGltZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMudHJpZXMgPSAwO1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICAgIHRoaXMudGltZXJDYWxjID0gdGltZXJDYWxjO1xuICAgIH1cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy50cmllcyA9IDA7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTtcbiAgICB9XG4gICAgLy8gQ2FuY2VscyBhbnkgcHJldmlvdXMgc2NoZWR1bGVUaW1lb3V0IGFuZCBzY2hlZHVsZXMgY2FsbGJhY2tcbiAgICBzY2hlZHVsZVRpbWVvdXQoKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTtcbiAgICAgICAgdGhpcy50aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50cmllcyA9IHRoaXMudHJpZXMgKyAxO1xuICAgICAgICAgICAgdGhpcy5jYWxsYmFjaygpO1xuICAgICAgICB9LCB0aGlzLnRpbWVyQ2FsYyh0aGlzLnRyaWVzICsgMSkpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpbWVyLmpzLm1hcCIsImltcG9ydCB7IERFRkFVTFRfVElNRU9VVCB9IGZyb20gJy4uL2xpYi9jb25zdGFudHMnO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHVzaCB7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIFB1c2hcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjaGFubmVsIFRoZSBDaGFubmVsXG4gICAgICogQHBhcmFtIGV2ZW50IFRoZSBldmVudCwgZm9yIGV4YW1wbGUgYFwicGh4X2pvaW5cImBcbiAgICAgKiBAcGFyYW0gcGF5bG9hZCBUaGUgcGF5bG9hZCwgZm9yIGV4YW1wbGUgYHt1c2VyX2lkOiAxMjN9YFxuICAgICAqIEBwYXJhbSB0aW1lb3V0IFRoZSBwdXNoIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY2hhbm5lbCwgZXZlbnQsIHBheWxvYWQgPSB7fSwgdGltZW91dCA9IERFRkFVTFRfVElNRU9VVCkge1xuICAgICAgICB0aGlzLmNoYW5uZWwgPSBjaGFubmVsO1xuICAgICAgICB0aGlzLmV2ZW50ID0gZXZlbnQ7XG4gICAgICAgIHRoaXMucGF5bG9hZCA9IHBheWxvYWQ7XG4gICAgICAgIHRoaXMudGltZW91dCA9IHRpbWVvdXQ7XG4gICAgICAgIHRoaXMuc2VudCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnRpbWVvdXRUaW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5yZWYgPSAnJztcbiAgICAgICAgdGhpcy5yZWNlaXZlZFJlc3AgPSBudWxsO1xuICAgICAgICB0aGlzLnJlY0hvb2tzID0gW107XG4gICAgICAgIHRoaXMucmVmRXZlbnQgPSBudWxsO1xuICAgIH1cbiAgICByZXNlbmQodGltZW91dCkge1xuICAgICAgICB0aGlzLnRpbWVvdXQgPSB0aW1lb3V0O1xuICAgICAgICB0aGlzLl9jYW5jZWxSZWZFdmVudCgpO1xuICAgICAgICB0aGlzLnJlZiA9ICcnO1xuICAgICAgICB0aGlzLnJlZkV2ZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZWNlaXZlZFJlc3AgPSBudWxsO1xuICAgICAgICB0aGlzLnNlbnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zZW5kKCk7XG4gICAgfVxuICAgIHNlbmQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9oYXNSZWNlaXZlZCgndGltZW91dCcpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGFydFRpbWVvdXQoKTtcbiAgICAgICAgdGhpcy5zZW50ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jaGFubmVsLnNvY2tldC5wdXNoKHtcbiAgICAgICAgICAgIHRvcGljOiB0aGlzLmNoYW5uZWwudG9waWMsXG4gICAgICAgICAgICBldmVudDogdGhpcy5ldmVudCxcbiAgICAgICAgICAgIHBheWxvYWQ6IHRoaXMucGF5bG9hZCxcbiAgICAgICAgICAgIHJlZjogdGhpcy5yZWYsXG4gICAgICAgICAgICBqb2luX3JlZjogdGhpcy5jaGFubmVsLl9qb2luUmVmKCksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB1cGRhdGVQYXlsb2FkKHBheWxvYWQpIHtcbiAgICAgICAgdGhpcy5wYXlsb2FkID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB0aGlzLnBheWxvYWQpLCBwYXlsb2FkKTtcbiAgICB9XG4gICAgcmVjZWl2ZShzdGF0dXMsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRoaXMuX2hhc1JlY2VpdmVkKHN0YXR1cykpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKChfYSA9IHRoaXMucmVjZWl2ZWRSZXNwKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVzcG9uc2UpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVjSG9va3MucHVzaCh7IHN0YXR1cywgY2FsbGJhY2sgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzdGFydFRpbWVvdXQoKSB7XG4gICAgICAgIGlmICh0aGlzLnRpbWVvdXRUaW1lcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVmID0gdGhpcy5jaGFubmVsLnNvY2tldC5fbWFrZVJlZigpO1xuICAgICAgICB0aGlzLnJlZkV2ZW50ID0gdGhpcy5jaGFubmVsLl9yZXBseUV2ZW50TmFtZSh0aGlzLnJlZik7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbFJlZkV2ZW50KCk7XG4gICAgICAgICAgICB0aGlzLl9jYW5jZWxUaW1lb3V0KCk7XG4gICAgICAgICAgICB0aGlzLnJlY2VpdmVkUmVzcCA9IHBheWxvYWQ7XG4gICAgICAgICAgICB0aGlzLl9tYXRjaFJlY2VpdmUocGF5bG9hZCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY2hhbm5lbC5fb24odGhpcy5yZWZFdmVudCwge30sIGNhbGxiYWNrKTtcbiAgICAgICAgdGhpcy50aW1lb3V0VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcigndGltZW91dCcsIHt9KTtcbiAgICAgICAgfSwgdGhpcy50aW1lb3V0KTtcbiAgICB9XG4gICAgdHJpZ2dlcihzdGF0dXMsIHJlc3BvbnNlKSB7XG4gICAgICAgIGlmICh0aGlzLnJlZkV2ZW50KVxuICAgICAgICAgICAgdGhpcy5jaGFubmVsLl90cmlnZ2VyKHRoaXMucmVmRXZlbnQsIHsgc3RhdHVzLCByZXNwb25zZSB9KTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5fY2FuY2VsUmVmRXZlbnQoKTtcbiAgICAgICAgdGhpcy5fY2FuY2VsVGltZW91dCgpO1xuICAgIH1cbiAgICBfY2FuY2VsUmVmRXZlbnQoKSB7XG4gICAgICAgIGlmICghdGhpcy5yZWZFdmVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hhbm5lbC5fb2ZmKHRoaXMucmVmRXZlbnQsIHt9KTtcbiAgICB9XG4gICAgX2NhbmNlbFRpbWVvdXQoKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRUaW1lcik7XG4gICAgICAgIHRoaXMudGltZW91dFRpbWVyID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBfbWF0Y2hSZWNlaXZlKHsgc3RhdHVzLCByZXNwb25zZSwgfSkge1xuICAgICAgICB0aGlzLnJlY0hvb2tzXG4gICAgICAgICAgICAuZmlsdGVyKChoKSA9PiBoLnN0YXR1cyA9PT0gc3RhdHVzKVxuICAgICAgICAgICAgLmZvckVhY2goKGgpID0+IGguY2FsbGJhY2socmVzcG9uc2UpKTtcbiAgICB9XG4gICAgX2hhc1JlY2VpdmVkKHN0YXR1cykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWNlaXZlZFJlc3AgJiYgdGhpcy5yZWNlaXZlZFJlc3Auc3RhdHVzID09PSBzdGF0dXM7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHVzaC5qcy5tYXAiLCIvKlxuICBUaGlzIGZpbGUgZHJhd3MgaGVhdmlseSBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9waG9lbml4ZnJhbWV3b3JrL3Bob2VuaXgvYmxvYi9kMzQ0ZWMwYTczMmFiNGVlMjA0MjE1YjMxZGU2OWNmNGJlNzJlM2JmL2Fzc2V0cy9qcy9waG9lbml4L3ByZXNlbmNlLmpzXG4gIExpY2Vuc2U6IGh0dHBzOi8vZ2l0aHViLmNvbS9waG9lbml4ZnJhbWV3b3JrL3Bob2VuaXgvYmxvYi9kMzQ0ZWMwYTczMmFiNGVlMjA0MjE1YjMxZGU2OWNmNGJlNzJlM2JmL0xJQ0VOU0UubWRcbiovXG5leHBvcnQgdmFyIFJFQUxUSU1FX1BSRVNFTkNFX0xJU1RFTl9FVkVOVFM7XG4oZnVuY3Rpb24gKFJFQUxUSU1FX1BSRVNFTkNFX0xJU1RFTl9FVkVOVFMpIHtcbiAgICBSRUFMVElNRV9QUkVTRU5DRV9MSVNURU5fRVZFTlRTW1wiU1lOQ1wiXSA9IFwic3luY1wiO1xuICAgIFJFQUxUSU1FX1BSRVNFTkNFX0xJU1RFTl9FVkVOVFNbXCJKT0lOXCJdID0gXCJqb2luXCI7XG4gICAgUkVBTFRJTUVfUFJFU0VOQ0VfTElTVEVOX0VWRU5UU1tcIkxFQVZFXCJdID0gXCJsZWF2ZVwiO1xufSkoUkVBTFRJTUVfUFJFU0VOQ0VfTElTVEVOX0VWRU5UUyB8fCAoUkVBTFRJTUVfUFJFU0VOQ0VfTElTVEVOX0VWRU5UUyA9IHt9KSk7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWFsdGltZVByZXNlbmNlIHtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgUHJlc2VuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2hhbm5lbCAtIFRoZSBSZWFsdGltZUNoYW5uZWxcbiAgICAgKiBAcGFyYW0gb3B0cyAtIFRoZSBvcHRpb25zLFxuICAgICAqICAgICAgICBmb3IgZXhhbXBsZSBge2V2ZW50czoge3N0YXRlOiAnc3RhdGUnLCBkaWZmOiAnZGlmZid9fWBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihjaGFubmVsLCBvcHRzKSB7XG4gICAgICAgIHRoaXMuY2hhbm5lbCA9IGNoYW5uZWw7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7fTtcbiAgICAgICAgdGhpcy5wZW5kaW5nRGlmZnMgPSBbXTtcbiAgICAgICAgdGhpcy5qb2luUmVmID0gbnVsbDtcbiAgICAgICAgdGhpcy5jYWxsZXIgPSB7XG4gICAgICAgICAgICBvbkpvaW46ICgpID0+IHsgfSxcbiAgICAgICAgICAgIG9uTGVhdmU6ICgpID0+IHsgfSxcbiAgICAgICAgICAgIG9uU3luYzogKCkgPT4geyB9LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBldmVudHMgPSAob3B0cyA9PT0gbnVsbCB8fCBvcHRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRzLmV2ZW50cykgfHwge1xuICAgICAgICAgICAgc3RhdGU6ICdwcmVzZW5jZV9zdGF0ZScsXG4gICAgICAgICAgICBkaWZmOiAncHJlc2VuY2VfZGlmZicsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY2hhbm5lbC5fb24oZXZlbnRzLnN0YXRlLCB7fSwgKG5ld1N0YXRlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IG9uSm9pbiwgb25MZWF2ZSwgb25TeW5jIH0gPSB0aGlzLmNhbGxlcjtcbiAgICAgICAgICAgIHRoaXMuam9pblJlZiA9IHRoaXMuY2hhbm5lbC5fam9pblJlZigpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFJlYWx0aW1lUHJlc2VuY2Uuc3luY1N0YXRlKHRoaXMuc3RhdGUsIG5ld1N0YXRlLCBvbkpvaW4sIG9uTGVhdmUpO1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nRGlmZnMuZm9yRWFjaCgoZGlmZikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBSZWFsdGltZVByZXNlbmNlLnN5bmNEaWZmKHRoaXMuc3RhdGUsIGRpZmYsIG9uSm9pbiwgb25MZWF2ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ0RpZmZzID0gW107XG4gICAgICAgICAgICBvblN5bmMoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2hhbm5lbC5fb24oZXZlbnRzLmRpZmYsIHt9LCAoZGlmZikgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBvbkpvaW4sIG9uTGVhdmUsIG9uU3luYyB9ID0gdGhpcy5jYWxsZXI7XG4gICAgICAgICAgICBpZiAodGhpcy5pblBlbmRpbmdTeW5jU3RhdGUoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ0RpZmZzLnB1c2goZGlmZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gUmVhbHRpbWVQcmVzZW5jZS5zeW5jRGlmZih0aGlzLnN0YXRlLCBkaWZmLCBvbkpvaW4sIG9uTGVhdmUpO1xuICAgICAgICAgICAgICAgIG9uU3luYygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vbkpvaW4oKGtleSwgY3VycmVudFByZXNlbmNlcywgbmV3UHJlc2VuY2VzKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWwuX3RyaWdnZXIoJ3ByZXNlbmNlJywge1xuICAgICAgICAgICAgICAgIGV2ZW50OiAnam9pbicsXG4gICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgIGN1cnJlbnRQcmVzZW5jZXMsXG4gICAgICAgICAgICAgICAgbmV3UHJlc2VuY2VzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9uTGVhdmUoKGtleSwgY3VycmVudFByZXNlbmNlcywgbGVmdFByZXNlbmNlcykgPT4ge1xuICAgICAgICAgICAgdGhpcy5jaGFubmVsLl90cmlnZ2VyKCdwcmVzZW5jZScsIHtcbiAgICAgICAgICAgICAgICBldmVudDogJ2xlYXZlJyxcbiAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgY3VycmVudFByZXNlbmNlcyxcbiAgICAgICAgICAgICAgICBsZWZ0UHJlc2VuY2VzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9uU3luYygoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWwuX3RyaWdnZXIoJ3ByZXNlbmNlJywgeyBldmVudDogJ3N5bmMnIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXNlZCB0byBzeW5jIHRoZSBsaXN0IG9mIHByZXNlbmNlcyBvbiB0aGUgc2VydmVyIHdpdGggdGhlXG4gICAgICogY2xpZW50J3Mgc3RhdGUuXG4gICAgICpcbiAgICAgKiBBbiBvcHRpb25hbCBgb25Kb2luYCBhbmQgYG9uTGVhdmVgIGNhbGxiYWNrIGNhbiBiZSBwcm92aWRlZCB0b1xuICAgICAqIHJlYWN0IHRvIGNoYW5nZXMgaW4gdGhlIGNsaWVudCdzIGxvY2FsIHByZXNlbmNlcyBhY3Jvc3NcbiAgICAgKiBkaXNjb25uZWN0cyBhbmQgcmVjb25uZWN0cyB3aXRoIHRoZSBzZXJ2ZXIuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBzdGF0aWMgc3luY1N0YXRlKGN1cnJlbnRTdGF0ZSwgbmV3U3RhdGUsIG9uSm9pbiwgb25MZWF2ZSkge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuY2xvbmVEZWVwKGN1cnJlbnRTdGF0ZSk7XG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybWVkU3RhdGUgPSB0aGlzLnRyYW5zZm9ybVN0YXRlKG5ld1N0YXRlKTtcbiAgICAgICAgY29uc3Qgam9pbnMgPSB7fTtcbiAgICAgICAgY29uc3QgbGVhdmVzID0ge307XG4gICAgICAgIHRoaXMubWFwKHN0YXRlLCAoa2V5LCBwcmVzZW5jZXMpID0+IHtcbiAgICAgICAgICAgIGlmICghdHJhbnNmb3JtZWRTdGF0ZVtrZXldKSB7XG4gICAgICAgICAgICAgICAgbGVhdmVzW2tleV0gPSBwcmVzZW5jZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1hcCh0cmFuc2Zvcm1lZFN0YXRlLCAoa2V5LCBuZXdQcmVzZW5jZXMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQcmVzZW5jZXMgPSBzdGF0ZVtrZXldO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRQcmVzZW5jZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdQcmVzZW5jZVJlZnMgPSBuZXdQcmVzZW5jZXMubWFwKChtKSA9PiBtLnByZXNlbmNlX3JlZik7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VyUHJlc2VuY2VSZWZzID0gY3VycmVudFByZXNlbmNlcy5tYXAoKG0pID0+IG0ucHJlc2VuY2VfcmVmKTtcbiAgICAgICAgICAgICAgICBjb25zdCBqb2luZWRQcmVzZW5jZXMgPSBuZXdQcmVzZW5jZXMuZmlsdGVyKChtKSA9PiBjdXJQcmVzZW5jZVJlZnMuaW5kZXhPZihtLnByZXNlbmNlX3JlZikgPCAwKTtcbiAgICAgICAgICAgICAgICBjb25zdCBsZWZ0UHJlc2VuY2VzID0gY3VycmVudFByZXNlbmNlcy5maWx0ZXIoKG0pID0+IG5ld1ByZXNlbmNlUmVmcy5pbmRleE9mKG0ucHJlc2VuY2VfcmVmKSA8IDApO1xuICAgICAgICAgICAgICAgIGlmIChqb2luZWRQcmVzZW5jZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBqb2luc1trZXldID0gam9pbmVkUHJlc2VuY2VzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobGVmdFByZXNlbmNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxlYXZlc1trZXldID0gbGVmdFByZXNlbmNlcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBqb2luc1trZXldID0gbmV3UHJlc2VuY2VzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3luY0RpZmYoc3RhdGUsIHsgam9pbnMsIGxlYXZlcyB9LCBvbkpvaW4sIG9uTGVhdmUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIHN5bmMgYSBkaWZmIG9mIHByZXNlbmNlIGpvaW4gYW5kIGxlYXZlIGV2ZW50cyBmcm9tIHRoZVxuICAgICAqIHNlcnZlciwgYXMgdGhleSBoYXBwZW4uXG4gICAgICpcbiAgICAgKiBMaWtlIGBzeW5jU3RhdGVgLCBgc3luY0RpZmZgIGFjY2VwdHMgb3B0aW9uYWwgYG9uSm9pbmAgYW5kXG4gICAgICogYG9uTGVhdmVgIGNhbGxiYWNrcyB0byByZWFjdCB0byBhIHVzZXIgam9pbmluZyBvciBsZWF2aW5nIGZyb20gYVxuICAgICAqIGRldmljZS5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHN0YXRpYyBzeW5jRGlmZihzdGF0ZSwgZGlmZiwgb25Kb2luLCBvbkxlYXZlKSB7XG4gICAgICAgIGNvbnN0IHsgam9pbnMsIGxlYXZlcyB9ID0ge1xuICAgICAgICAgICAgam9pbnM6IHRoaXMudHJhbnNmb3JtU3RhdGUoZGlmZi5qb2lucyksXG4gICAgICAgICAgICBsZWF2ZXM6IHRoaXMudHJhbnNmb3JtU3RhdGUoZGlmZi5sZWF2ZXMpLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoIW9uSm9pbikge1xuICAgICAgICAgICAgb25Kb2luID0gKCkgPT4geyB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICghb25MZWF2ZSkge1xuICAgICAgICAgICAgb25MZWF2ZSA9ICgpID0+IHsgfTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1hcChqb2lucywgKGtleSwgbmV3UHJlc2VuY2VzKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50UHJlc2VuY2VzID0gKF9hID0gc3RhdGVba2V5XSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW107XG4gICAgICAgICAgICBzdGF0ZVtrZXldID0gdGhpcy5jbG9uZURlZXAobmV3UHJlc2VuY2VzKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UHJlc2VuY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBqb2luZWRQcmVzZW5jZVJlZnMgPSBzdGF0ZVtrZXldLm1hcCgobSkgPT4gbS5wcmVzZW5jZV9yZWYpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1clByZXNlbmNlcyA9IGN1cnJlbnRQcmVzZW5jZXMuZmlsdGVyKChtKSA9PiBqb2luZWRQcmVzZW5jZVJlZnMuaW5kZXhPZihtLnByZXNlbmNlX3JlZikgPCAwKTtcbiAgICAgICAgICAgICAgICBzdGF0ZVtrZXldLnVuc2hpZnQoLi4uY3VyUHJlc2VuY2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9uSm9pbihrZXksIGN1cnJlbnRQcmVzZW5jZXMsIG5ld1ByZXNlbmNlcyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1hcChsZWF2ZXMsIChrZXksIGxlZnRQcmVzZW5jZXMpID0+IHtcbiAgICAgICAgICAgIGxldCBjdXJyZW50UHJlc2VuY2VzID0gc3RhdGVba2V5XTtcbiAgICAgICAgICAgIGlmICghY3VycmVudFByZXNlbmNlcylcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBwcmVzZW5jZVJlZnNUb1JlbW92ZSA9IGxlZnRQcmVzZW5jZXMubWFwKChtKSA9PiBtLnByZXNlbmNlX3JlZik7XG4gICAgICAgICAgICBjdXJyZW50UHJlc2VuY2VzID0gY3VycmVudFByZXNlbmNlcy5maWx0ZXIoKG0pID0+IHByZXNlbmNlUmVmc1RvUmVtb3ZlLmluZGV4T2YobS5wcmVzZW5jZV9yZWYpIDwgMCk7XG4gICAgICAgICAgICBzdGF0ZVtrZXldID0gY3VycmVudFByZXNlbmNlcztcbiAgICAgICAgICAgIG9uTGVhdmUoa2V5LCBjdXJyZW50UHJlc2VuY2VzLCBsZWZ0UHJlc2VuY2VzKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UHJlc2VuY2VzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICBkZWxldGUgc3RhdGVba2V5XTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHN0YXRpYyBtYXAob2JqLCBmdW5jKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmopLm1hcCgoa2V5KSA9PiBmdW5jKGtleSwgb2JqW2tleV0pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlICdtZXRhcycga2V5XG4gICAgICogQ2hhbmdlICdwaHhfcmVmJyB0byAncHJlc2VuY2VfcmVmJ1xuICAgICAqIFJlbW92ZSAncGh4X3JlZicgYW5kICdwaHhfcmVmX3ByZXYnXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIHJldHVybnMge1xuICAgICAqICBhYmMxMjM6IFtcbiAgICAgKiAgICB7IHByZXNlbmNlX3JlZjogJzInLCB1c2VyX2lkOiAxIH0sXG4gICAgICogICAgeyBwcmVzZW5jZV9yZWY6ICczJywgdXNlcl9pZDogMiB9XG4gICAgICogIF1cbiAgICAgKiB9XG4gICAgICogUmVhbHRpbWVQcmVzZW5jZS50cmFuc2Zvcm1TdGF0ZSh7XG4gICAgICogIGFiYzEyMzoge1xuICAgICAqICAgIG1ldGFzOiBbXG4gICAgICogICAgICB7IHBoeF9yZWY6ICcyJywgcGh4X3JlZl9wcmV2OiAnMScgdXNlcl9pZDogMSB9LFxuICAgICAqICAgICAgeyBwaHhfcmVmOiAnMycsIHVzZXJfaWQ6IDIgfVxuICAgICAqICAgIF1cbiAgICAgKiAgfVxuICAgICAqIH0pXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBzdGF0aWMgdHJhbnNmb3JtU3RhdGUoc3RhdGUpIHtcbiAgICAgICAgc3RhdGUgPSB0aGlzLmNsb25lRGVlcChzdGF0ZSk7XG4gICAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzdGF0ZSkucmVkdWNlKChuZXdTdGF0ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwcmVzZW5jZXMgPSBzdGF0ZVtrZXldO1xuICAgICAgICAgICAgaWYgKCdtZXRhcycgaW4gcHJlc2VuY2VzKSB7XG4gICAgICAgICAgICAgICAgbmV3U3RhdGVba2V5XSA9IHByZXNlbmNlcy5tZXRhcy5tYXAoKHByZXNlbmNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHByZXNlbmNlWydwcmVzZW5jZV9yZWYnXSA9IHByZXNlbmNlWydwaHhfcmVmJ107XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBwcmVzZW5jZVsncGh4X3JlZiddO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcHJlc2VuY2VbJ3BoeF9yZWZfcHJldiddO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJlc2VuY2U7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdTdGF0ZVtrZXldID0gcHJlc2VuY2VzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuICAgICAgICB9LCB7fSk7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBzdGF0aWMgY2xvbmVEZWVwKG9iaikge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvYmopKTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIG9uSm9pbihjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmNhbGxlci5vbkpvaW4gPSBjYWxsYmFjaztcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIG9uTGVhdmUoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5jYWxsZXIub25MZWF2ZSA9IGNhbGxiYWNrO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgb25TeW5jKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuY2FsbGVyLm9uU3luYyA9IGNhbGxiYWNrO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgaW5QZW5kaW5nU3luY1N0YXRlKCkge1xuICAgICAgICByZXR1cm4gIXRoaXMuam9pblJlZiB8fCB0aGlzLmpvaW5SZWYgIT09IHRoaXMuY2hhbm5lbC5fam9pblJlZigpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlYWx0aW1lUHJlc2VuY2UuanMubWFwIiwiaW1wb3J0IHsgQ0hBTk5FTF9FVkVOVFMsIENIQU5ORUxfU1RBVEVTIH0gZnJvbSAnLi9saWIvY29uc3RhbnRzJztcbmltcG9ydCBQdXNoIGZyb20gJy4vbGliL3B1c2gnO1xuaW1wb3J0IFRpbWVyIGZyb20gJy4vbGliL3RpbWVyJztcbmltcG9ydCBSZWFsdGltZVByZXNlbmNlIGZyb20gJy4vUmVhbHRpbWVQcmVzZW5jZSc7XG5pbXBvcnQgKiBhcyBUcmFuc2Zvcm1lcnMgZnJvbSAnLi9saWIvdHJhbnNmb3JtZXJzJztcbmltcG9ydCB7IGh0dHBFbmRwb2ludFVSTCB9IGZyb20gJy4vbGliL3RyYW5zZm9ybWVycyc7XG5leHBvcnQgdmFyIFJFQUxUSU1FX1BPU1RHUkVTX0NIQU5HRVNfTElTVEVOX0VWRU5UO1xuKGZ1bmN0aW9uIChSRUFMVElNRV9QT1NUR1JFU19DSEFOR0VTX0xJU1RFTl9FVkVOVCkge1xuICAgIFJFQUxUSU1FX1BPU1RHUkVTX0NIQU5HRVNfTElTVEVOX0VWRU5UW1wiQUxMXCJdID0gXCIqXCI7XG4gICAgUkVBTFRJTUVfUE9TVEdSRVNfQ0hBTkdFU19MSVNURU5fRVZFTlRbXCJJTlNFUlRcIl0gPSBcIklOU0VSVFwiO1xuICAgIFJFQUxUSU1FX1BPU1RHUkVTX0NIQU5HRVNfTElTVEVOX0VWRU5UW1wiVVBEQVRFXCJdID0gXCJVUERBVEVcIjtcbiAgICBSRUFMVElNRV9QT1NUR1JFU19DSEFOR0VTX0xJU1RFTl9FVkVOVFtcIkRFTEVURVwiXSA9IFwiREVMRVRFXCI7XG59KShSRUFMVElNRV9QT1NUR1JFU19DSEFOR0VTX0xJU1RFTl9FVkVOVCB8fCAoUkVBTFRJTUVfUE9TVEdSRVNfQ0hBTkdFU19MSVNURU5fRVZFTlQgPSB7fSkpO1xuZXhwb3J0IHZhciBSRUFMVElNRV9MSVNURU5fVFlQRVM7XG4oZnVuY3Rpb24gKFJFQUxUSU1FX0xJU1RFTl9UWVBFUykge1xuICAgIFJFQUxUSU1FX0xJU1RFTl9UWVBFU1tcIkJST0FEQ0FTVFwiXSA9IFwiYnJvYWRjYXN0XCI7XG4gICAgUkVBTFRJTUVfTElTVEVOX1RZUEVTW1wiUFJFU0VOQ0VcIl0gPSBcInByZXNlbmNlXCI7XG4gICAgUkVBTFRJTUVfTElTVEVOX1RZUEVTW1wiUE9TVEdSRVNfQ0hBTkdFU1wiXSA9IFwicG9zdGdyZXNfY2hhbmdlc1wiO1xuICAgIFJFQUxUSU1FX0xJU1RFTl9UWVBFU1tcIlNZU1RFTVwiXSA9IFwic3lzdGVtXCI7XG59KShSRUFMVElNRV9MSVNURU5fVFlQRVMgfHwgKFJFQUxUSU1FX0xJU1RFTl9UWVBFUyA9IHt9KSk7XG5leHBvcnQgdmFyIFJFQUxUSU1FX1NVQlNDUklCRV9TVEFURVM7XG4oZnVuY3Rpb24gKFJFQUxUSU1FX1NVQlNDUklCRV9TVEFURVMpIHtcbiAgICBSRUFMVElNRV9TVUJTQ1JJQkVfU1RBVEVTW1wiU1VCU0NSSUJFRFwiXSA9IFwiU1VCU0NSSUJFRFwiO1xuICAgIFJFQUxUSU1FX1NVQlNDUklCRV9TVEFURVNbXCJUSU1FRF9PVVRcIl0gPSBcIlRJTUVEX09VVFwiO1xuICAgIFJFQUxUSU1FX1NVQlNDUklCRV9TVEFURVNbXCJDTE9TRURcIl0gPSBcIkNMT1NFRFwiO1xuICAgIFJFQUxUSU1FX1NVQlNDUklCRV9TVEFURVNbXCJDSEFOTkVMX0VSUk9SXCJdID0gXCJDSEFOTkVMX0VSUk9SXCI7XG59KShSRUFMVElNRV9TVUJTQ1JJQkVfU1RBVEVTIHx8IChSRUFMVElNRV9TVUJTQ1JJQkVfU1RBVEVTID0ge30pKTtcbmV4cG9ydCBjb25zdCBSRUFMVElNRV9DSEFOTkVMX1NUQVRFUyA9IENIQU5ORUxfU1RBVEVTO1xuLyoqIEEgY2hhbm5lbCBpcyB0aGUgYmFzaWMgYnVpbGRpbmcgYmxvY2sgb2YgUmVhbHRpbWVcbiAqIGFuZCBuYXJyb3dzIHRoZSBzY29wZSBvZiBkYXRhIGZsb3cgdG8gc3Vic2NyaWJlZCBjbGllbnRzLlxuICogWW91IGNhbiB0aGluayBvZiBhIGNoYW5uZWwgYXMgYSBjaGF0cm9vbSB3aGVyZSBwYXJ0aWNpcGFudHMgYXJlIGFibGUgdG8gc2VlIHdobydzIG9ubGluZVxuICogYW5kIHNlbmQgYW5kIHJlY2VpdmUgbWVzc2FnZXMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlYWx0aW1lQ2hhbm5lbCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqIFRvcGljIG5hbWUgY2FuIGJlIGFueSBzdHJpbmcuICovXG4gICAgdG9waWMsIHBhcmFtcyA9IHsgY29uZmlnOiB7fSB9LCBzb2NrZXQpIHtcbiAgICAgICAgdGhpcy50b3BpYyA9IHRvcGljO1xuICAgICAgICB0aGlzLnBhcmFtcyA9IHBhcmFtcztcbiAgICAgICAgdGhpcy5zb2NrZXQgPSBzb2NrZXQ7XG4gICAgICAgIHRoaXMuYmluZGluZ3MgPSB7fTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IENIQU5ORUxfU1RBVEVTLmNsb3NlZDtcbiAgICAgICAgdGhpcy5qb2luZWRPbmNlID0gZmFsc2U7XG4gICAgICAgIHRoaXMucHVzaEJ1ZmZlciA9IFtdO1xuICAgICAgICB0aGlzLnN1YlRvcGljID0gdG9waWMucmVwbGFjZSgvXnJlYWx0aW1lOi9pLCAnJyk7XG4gICAgICAgIHRoaXMucGFyYW1zLmNvbmZpZyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgYnJvYWRjYXN0OiB7IGFjazogZmFsc2UsIHNlbGY6IGZhbHNlIH0sXG4gICAgICAgICAgICBwcmVzZW5jZTogeyBrZXk6ICcnIH0sXG4gICAgICAgICAgICBwcml2YXRlOiBmYWxzZSxcbiAgICAgICAgfSwgcGFyYW1zLmNvbmZpZyk7XG4gICAgICAgIHRoaXMudGltZW91dCA9IHRoaXMuc29ja2V0LnRpbWVvdXQ7XG4gICAgICAgIHRoaXMuam9pblB1c2ggPSBuZXcgUHVzaCh0aGlzLCBDSEFOTkVMX0VWRU5UUy5qb2luLCB0aGlzLnBhcmFtcywgdGhpcy50aW1lb3V0KTtcbiAgICAgICAgdGhpcy5yZWpvaW5UaW1lciA9IG5ldyBUaW1lcigoKSA9PiB0aGlzLl9yZWpvaW5VbnRpbENvbm5lY3RlZCgpLCB0aGlzLnNvY2tldC5yZWNvbm5lY3RBZnRlck1zKTtcbiAgICAgICAgdGhpcy5qb2luUHVzaC5yZWNlaXZlKCdvaycsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBDSEFOTkVMX1NUQVRFUy5qb2luZWQ7XG4gICAgICAgICAgICB0aGlzLnJlam9pblRpbWVyLnJlc2V0KCk7XG4gICAgICAgICAgICB0aGlzLnB1c2hCdWZmZXIuZm9yRWFjaCgocHVzaEV2ZW50KSA9PiBwdXNoRXZlbnQuc2VuZCgpKTtcbiAgICAgICAgICAgIHRoaXMucHVzaEJ1ZmZlciA9IFtdO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fb25DbG9zZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlam9pblRpbWVyLnJlc2V0KCk7XG4gICAgICAgICAgICB0aGlzLnNvY2tldC5sb2coJ2NoYW5uZWwnLCBgY2xvc2UgJHt0aGlzLnRvcGljfSAke3RoaXMuX2pvaW5SZWYoKX1gKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBDSEFOTkVMX1NUQVRFUy5jbG9zZWQ7XG4gICAgICAgICAgICB0aGlzLnNvY2tldC5fcmVtb3ZlKHRoaXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fb25FcnJvcigocmVhc29uKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5faXNMZWF2aW5nKCkgfHwgdGhpcy5faXNDbG9zZWQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc29ja2V0LmxvZygnY2hhbm5lbCcsIGBlcnJvciAke3RoaXMudG9waWN9YCwgcmVhc29uKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBDSEFOTkVMX1NUQVRFUy5lcnJvcmVkO1xuICAgICAgICAgICAgdGhpcy5yZWpvaW5UaW1lci5zY2hlZHVsZVRpbWVvdXQoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuam9pblB1c2gucmVjZWl2ZSgndGltZW91dCcsICgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5faXNKb2luaW5nKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNvY2tldC5sb2coJ2NoYW5uZWwnLCBgdGltZW91dCAke3RoaXMudG9waWN9YCwgdGhpcy5qb2luUHVzaC50aW1lb3V0KTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBDSEFOTkVMX1NUQVRFUy5lcnJvcmVkO1xuICAgICAgICAgICAgdGhpcy5yZWpvaW5UaW1lci5zY2hlZHVsZVRpbWVvdXQoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX29uKENIQU5ORUxfRVZFTlRTLnJlcGx5LCB7fSwgKHBheWxvYWQsIHJlZikgPT4ge1xuICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcih0aGlzLl9yZXBseUV2ZW50TmFtZShyZWYpLCBwYXlsb2FkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucHJlc2VuY2UgPSBuZXcgUmVhbHRpbWVQcmVzZW5jZSh0aGlzKTtcbiAgICAgICAgdGhpcy5icm9hZGNhc3RFbmRwb2ludFVSTCA9XG4gICAgICAgICAgICBodHRwRW5kcG9pbnRVUkwodGhpcy5zb2NrZXQuZW5kUG9pbnQpICsgJy9hcGkvYnJvYWRjYXN0JztcbiAgICAgICAgdGhpcy5wcml2YXRlID0gdGhpcy5wYXJhbXMuY29uZmlnLnByaXZhdGUgfHwgZmFsc2U7XG4gICAgfVxuICAgIC8qKiBTdWJzY3JpYmUgcmVnaXN0ZXJzIHlvdXIgY2xpZW50IHdpdGggdGhlIHNlcnZlciAqL1xuICAgIHN1YnNjcmliZShjYWxsYmFjaywgdGltZW91dCA9IHRoaXMudGltZW91dCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAoIXRoaXMuc29ja2V0LmlzQ29ubmVjdGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuc29ja2V0LmNvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PSBDSEFOTkVMX1NUQVRFUy5jbG9zZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgY29uZmlnOiB7IGJyb2FkY2FzdCwgcHJlc2VuY2UsIHByaXZhdGU6IGlzUHJpdmF0ZSB9LCB9ID0gdGhpcy5wYXJhbXM7XG4gICAgICAgICAgICB0aGlzLl9vbkVycm9yKChlKSA9PiBjYWxsYmFjayA9PT0gbnVsbCB8fCBjYWxsYmFjayA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2FsbGJhY2soUkVBTFRJTUVfU1VCU0NSSUJFX1NUQVRFUy5DSEFOTkVMX0VSUk9SLCBlKSk7XG4gICAgICAgICAgICB0aGlzLl9vbkNsb3NlKCgpID0+IGNhbGxiYWNrID09PSBudWxsIHx8IGNhbGxiYWNrID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjYWxsYmFjayhSRUFMVElNRV9TVUJTQ1JJQkVfU1RBVEVTLkNMT1NFRCkpO1xuICAgICAgICAgICAgY29uc3QgYWNjZXNzVG9rZW5QYXlsb2FkID0ge307XG4gICAgICAgICAgICBjb25zdCBjb25maWcgPSB7XG4gICAgICAgICAgICAgICAgYnJvYWRjYXN0LFxuICAgICAgICAgICAgICAgIHByZXNlbmNlLFxuICAgICAgICAgICAgICAgIHBvc3RncmVzX2NoYW5nZXM6IChfYiA9IChfYSA9IHRoaXMuYmluZGluZ3MucG9zdGdyZXNfY2hhbmdlcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1hcCgocikgPT4gci5maWx0ZXIpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBbXSxcbiAgICAgICAgICAgICAgICBwcml2YXRlOiBpc1ByaXZhdGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHRoaXMuc29ja2V0LmFjY2Vzc1Rva2VuVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBhY2Nlc3NUb2tlblBheWxvYWQuYWNjZXNzX3Rva2VuID0gdGhpcy5zb2NrZXQuYWNjZXNzVG9rZW5WYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudXBkYXRlSm9pblBheWxvYWQoT2JqZWN0LmFzc2lnbih7IGNvbmZpZyB9LCBhY2Nlc3NUb2tlblBheWxvYWQpKTtcbiAgICAgICAgICAgIHRoaXMuam9pbmVkT25jZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9yZWpvaW4odGltZW91dCk7XG4gICAgICAgICAgICB0aGlzLmpvaW5QdXNoXG4gICAgICAgICAgICAgICAgLnJlY2VpdmUoJ29rJywgYXN5bmMgKHsgcG9zdGdyZXNfY2hhbmdlcyB9KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIHRoaXMuc29ja2V0LnNldEF1dGgoKTtcbiAgICAgICAgICAgICAgICBpZiAocG9zdGdyZXNfY2hhbmdlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrID09PSBudWxsIHx8IGNhbGxiYWNrID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjYWxsYmFjayhSRUFMVElNRV9TVUJTQ1JJQkVfU1RBVEVTLlNVQlNDUklCRUQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGllbnRQb3N0Z3Jlc0JpbmRpbmdzID0gdGhpcy5iaW5kaW5ncy5wb3N0Z3Jlc19jaGFuZ2VzO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBiaW5kaW5nc0xlbiA9IChfYSA9IGNsaWVudFBvc3RncmVzQmluZGluZ3MgPT09IG51bGwgfHwgY2xpZW50UG9zdGdyZXNCaW5kaW5ncyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2xpZW50UG9zdGdyZXNCaW5kaW5ncy5sZW5ndGgpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1Bvc3RncmVzQmluZGluZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW5kaW5nc0xlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGllbnRQb3N0Z3Jlc0JpbmRpbmcgPSBjbGllbnRQb3N0Z3Jlc0JpbmRpbmdzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBmaWx0ZXI6IHsgZXZlbnQsIHNjaGVtYSwgdGFibGUsIGZpbHRlciB9LCB9ID0gY2xpZW50UG9zdGdyZXNCaW5kaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VydmVyUG9zdGdyZXNGaWx0ZXIgPSBwb3N0Z3Jlc19jaGFuZ2VzICYmIHBvc3RncmVzX2NoYW5nZXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VydmVyUG9zdGdyZXNGaWx0ZXIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJQb3N0Z3Jlc0ZpbHRlci5ldmVudCA9PT0gZXZlbnQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJQb3N0Z3Jlc0ZpbHRlci5zY2hlbWEgPT09IHNjaGVtYSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlclBvc3RncmVzRmlsdGVyLnRhYmxlID09PSB0YWJsZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlclBvc3RncmVzRmlsdGVyLmZpbHRlciA9PT0gZmlsdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3UG9zdGdyZXNCaW5kaW5ncy5wdXNoKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgY2xpZW50UG9zdGdyZXNCaW5kaW5nKSwgeyBpZDogc2VydmVyUG9zdGdyZXNGaWx0ZXIuaWQgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBDSEFOTkVMX1NUQVRFUy5lcnJvcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrID09PSBudWxsIHx8IGNhbGxiYWNrID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjYWxsYmFjayhSRUFMVElNRV9TVUJTQ1JJQkVfU1RBVEVTLkNIQU5ORUxfRVJST1IsIG5ldyBFcnJvcignbWlzbWF0Y2ggYmV0d2VlbiBzZXJ2ZXIgYW5kIGNsaWVudCBiaW5kaW5ncyBmb3IgcG9zdGdyZXMgY2hhbmdlcycpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iaW5kaW5ncy5wb3N0Z3Jlc19jaGFuZ2VzID0gbmV3UG9zdGdyZXNCaW5kaW5ncztcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soUkVBTFRJTUVfU1VCU0NSSUJFX1NUQVRFUy5TVUJTQ1JJQkVEKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnJlY2VpdmUoJ2Vycm9yJywgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IENIQU5ORUxfU1RBVEVTLmVycm9yZWQ7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgPT09IG51bGwgfHwgY2FsbGJhY2sgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNhbGxiYWNrKFJFQUxUSU1FX1NVQlNDUklCRV9TVEFURVMuQ0hBTk5FTF9FUlJPUiwgbmV3IEVycm9yKEpTT04uc3RyaW5naWZ5KE9iamVjdC52YWx1ZXMoZXJyb3IpLmpvaW4oJywgJykgfHwgJ2Vycm9yJykpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5yZWNlaXZlKCd0aW1lb3V0JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrID09PSBudWxsIHx8IGNhbGxiYWNrID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjYWxsYmFjayhSRUFMVElNRV9TVUJTQ1JJQkVfU1RBVEVTLlRJTUVEX09VVCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHByZXNlbmNlU3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZXNlbmNlLnN0YXRlO1xuICAgIH1cbiAgICBhc3luYyB0cmFjayhwYXlsb2FkLCBvcHRzID0ge30pIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuc2VuZCh7XG4gICAgICAgICAgICB0eXBlOiAncHJlc2VuY2UnLFxuICAgICAgICAgICAgZXZlbnQ6ICd0cmFjaycsXG4gICAgICAgICAgICBwYXlsb2FkLFxuICAgICAgICB9LCBvcHRzLnRpbWVvdXQgfHwgdGhpcy50aW1lb3V0KTtcbiAgICB9XG4gICAgYXN5bmMgdW50cmFjayhvcHRzID0ge30pIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuc2VuZCh7XG4gICAgICAgICAgICB0eXBlOiAncHJlc2VuY2UnLFxuICAgICAgICAgICAgZXZlbnQ6ICd1bnRyYWNrJyxcbiAgICAgICAgfSwgb3B0cyk7XG4gICAgfVxuICAgIG9uKHR5cGUsIGZpbHRlciwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29uKHR5cGUsIGZpbHRlciwgY2FsbGJhY2spO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIG1lc3NhZ2UgaW50byB0aGUgY2hhbm5lbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhcmdzIEFyZ3VtZW50cyB0byBzZW5kIHRvIGNoYW5uZWxcbiAgICAgKiBAcGFyYW0gYXJncy50eXBlIFRoZSB0eXBlIG9mIGV2ZW50IHRvIHNlbmRcbiAgICAgKiBAcGFyYW0gYXJncy5ldmVudCBUaGUgbmFtZSBvZiB0aGUgZXZlbnQgYmVpbmcgc2VudFxuICAgICAqIEBwYXJhbSBhcmdzLnBheWxvYWQgUGF5bG9hZCB0byBiZSBzZW50XG4gICAgICogQHBhcmFtIG9wdHMgT3B0aW9ucyB0byBiZSB1c2VkIGR1cmluZyB0aGUgc2VuZCBwcm9jZXNzXG4gICAgICovXG4gICAgYXN5bmMgc2VuZChhcmdzLCBvcHRzID0ge30pIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKCF0aGlzLl9jYW5QdXNoKCkgJiYgYXJncy50eXBlID09PSAnYnJvYWRjYXN0Jykge1xuICAgICAgICAgICAgY29uc3QgeyBldmVudCwgcGF5bG9hZDogZW5kcG9pbnRfcGF5bG9hZCB9ID0gYXJncztcbiAgICAgICAgICAgIGNvbnN0IGF1dGhvcml6YXRpb24gPSB0aGlzLnNvY2tldC5hY2Nlc3NUb2tlblZhbHVlXG4gICAgICAgICAgICAgICAgPyBgQmVhcmVyICR7dGhpcy5zb2NrZXQuYWNjZXNzVG9rZW5WYWx1ZX1gXG4gICAgICAgICAgICAgICAgOiAnJztcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBhdXRob3JpemF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBhcGlrZXk6IHRoaXMuc29ja2V0LmFwaUtleSA/IHRoaXMuc29ja2V0LmFwaUtleSA6ICcnLFxuICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlczogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcGljOiB0aGlzLnN1YlRvcGljLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IGVuZHBvaW50X3BheWxvYWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpdmF0ZTogdGhpcy5wcml2YXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5fZmV0Y2hXaXRoVGltZW91dCh0aGlzLmJyb2FkY2FzdEVuZHBvaW50VVJMLCBvcHRpb25zLCAoX2EgPSBvcHRzLnRpbWVvdXQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMudGltZW91dCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgKChfYiA9IHJlc3BvbnNlLmJvZHkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYW5jZWwoKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLm9rID8gJ29rJyA6ICdlcnJvcic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IubmFtZSA9PT0gJ0Fib3J0RXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAndGltZWQgb3V0JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnZXJyb3InO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICAgICAgICAgIGNvbnN0IHB1c2ggPSB0aGlzLl9wdXNoKGFyZ3MudHlwZSwgYXJncywgb3B0cy50aW1lb3V0IHx8IHRoaXMudGltZW91dCk7XG4gICAgICAgICAgICAgICAgaWYgKGFyZ3MudHlwZSA9PT0gJ2Jyb2FkY2FzdCcgJiYgISgoX2MgPSAoX2IgPSAoX2EgPSB0aGlzLnBhcmFtcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNvbmZpZykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmJyb2FkY2FzdCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmFjaykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgnb2snKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHVzaC5yZWNlaXZlKCdvaycsICgpID0+IHJlc29sdmUoJ29rJykpO1xuICAgICAgICAgICAgICAgIHB1c2gucmVjZWl2ZSgnZXJyb3InLCAoKSA9PiByZXNvbHZlKCdlcnJvcicpKTtcbiAgICAgICAgICAgICAgICBwdXNoLnJlY2VpdmUoJ3RpbWVvdXQnLCAoKSA9PiByZXNvbHZlKCd0aW1lZCBvdXQnKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVKb2luUGF5bG9hZChwYXlsb2FkKSB7XG4gICAgICAgIHRoaXMuam9pblB1c2gudXBkYXRlUGF5bG9hZChwYXlsb2FkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGVhdmVzIHRoZSBjaGFubmVsLlxuICAgICAqXG4gICAgICogVW5zdWJzY3JpYmVzIGZyb20gc2VydmVyIGV2ZW50cywgYW5kIGluc3RydWN0cyBjaGFubmVsIHRvIHRlcm1pbmF0ZSBvbiBzZXJ2ZXIuXG4gICAgICogVHJpZ2dlcnMgb25DbG9zZSgpIGhvb2tzLlxuICAgICAqXG4gICAgICogVG8gcmVjZWl2ZSBsZWF2ZSBhY2tub3dsZWRnZW1lbnRzLCB1c2UgdGhlIGEgYHJlY2VpdmVgIGhvb2sgdG8gYmluZCB0byB0aGUgc2VydmVyIGFjaywgaWU6XG4gICAgICogY2hhbm5lbC51bnN1YnNjcmliZSgpLnJlY2VpdmUoXCJva1wiLCAoKSA9PiBhbGVydChcImxlZnQhXCIpIClcbiAgICAgKi9cbiAgICB1bnN1YnNjcmliZSh0aW1lb3V0ID0gdGhpcy50aW1lb3V0KSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBDSEFOTkVMX1NUQVRFUy5sZWF2aW5nO1xuICAgICAgICBjb25zdCBvbkNsb3NlID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zb2NrZXQubG9nKCdjaGFubmVsJywgYGxlYXZlICR7dGhpcy50b3BpY31gKTtcbiAgICAgICAgICAgIHRoaXMuX3RyaWdnZXIoQ0hBTk5FTF9FVkVOVFMuY2xvc2UsICdsZWF2ZScsIHRoaXMuX2pvaW5SZWYoKSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuam9pblB1c2guZGVzdHJveSgpO1xuICAgICAgICBsZXQgbGVhdmVQdXNoID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICBsZWF2ZVB1c2ggPSBuZXcgUHVzaCh0aGlzLCBDSEFOTkVMX0VWRU5UUy5sZWF2ZSwge30sIHRpbWVvdXQpO1xuICAgICAgICAgICAgbGVhdmVQdXNoXG4gICAgICAgICAgICAgICAgLnJlY2VpdmUoJ29rJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIG9uQ2xvc2UoKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCdvaycpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAucmVjZWl2ZSgndGltZW91dCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICBvbkNsb3NlKCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgndGltZWQgb3V0Jyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5yZWNlaXZlKCdlcnJvcicsICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCdlcnJvcicpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBsZWF2ZVB1c2guc2VuZCgpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9jYW5QdXNoKCkpIHtcbiAgICAgICAgICAgICAgICBsZWF2ZVB1c2gudHJpZ2dlcignb2snLCB7fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgbGVhdmVQdXNoID09PSBudWxsIHx8IGxlYXZlUHVzaCA9PT0gdm9pZCAwID8gdm9pZCAwIDogbGVhdmVQdXNoLmRlc3Ryb3koKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlYXJkb3duIHRoZSBjaGFubmVsLlxuICAgICAqXG4gICAgICogRGVzdHJveXMgYW5kIHN0b3BzIHJlbGF0ZWQgdGltZXJzLlxuICAgICAqL1xuICAgIHRlYXJkb3duKCkge1xuICAgICAgICB0aGlzLnB1c2hCdWZmZXIuZm9yRWFjaCgocHVzaCkgPT4gcHVzaC5kZXN0cm95KCkpO1xuICAgICAgICB0aGlzLnJlam9pblRpbWVyICYmIGNsZWFyVGltZW91dCh0aGlzLnJlam9pblRpbWVyLnRpbWVyKTtcbiAgICAgICAgdGhpcy5qb2luUHVzaC5kZXN0cm95KCk7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBhc3luYyBfZmV0Y2hXaXRoVGltZW91dCh1cmwsIG9wdGlvbnMsIHRpbWVvdXQpIHtcbiAgICAgICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgICAgY29uc3QgaWQgPSBzZXRUaW1lb3V0KCgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSwgdGltZW91dCk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zb2NrZXQuZmV0Y2godXJsLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpLCB7IHNpZ25hbDogY29udHJvbGxlci5zaWduYWwgfSkpO1xuICAgICAgICBjbGVhclRpbWVvdXQoaWQpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfcHVzaChldmVudCwgcGF5bG9hZCwgdGltZW91dCA9IHRoaXMudGltZW91dCkge1xuICAgICAgICBpZiAoIXRoaXMuam9pbmVkT25jZSkge1xuICAgICAgICAgICAgdGhyb3cgYHRyaWVkIHRvIHB1c2ggJyR7ZXZlbnR9JyB0byAnJHt0aGlzLnRvcGljfScgYmVmb3JlIGpvaW5pbmcuIFVzZSBjaGFubmVsLnN1YnNjcmliZSgpIGJlZm9yZSBwdXNoaW5nIGV2ZW50c2A7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHB1c2hFdmVudCA9IG5ldyBQdXNoKHRoaXMsIGV2ZW50LCBwYXlsb2FkLCB0aW1lb3V0KTtcbiAgICAgICAgaWYgKHRoaXMuX2NhblB1c2goKSkge1xuICAgICAgICAgICAgcHVzaEV2ZW50LnNlbmQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHB1c2hFdmVudC5zdGFydFRpbWVvdXQoKTtcbiAgICAgICAgICAgIHRoaXMucHVzaEJ1ZmZlci5wdXNoKHB1c2hFdmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHB1c2hFdmVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGFibGUgbWVzc2FnZSBob29rXG4gICAgICpcbiAgICAgKiBSZWNlaXZlcyBhbGwgZXZlbnRzIGZvciBzcGVjaWFsaXplZCBtZXNzYWdlIGhhbmRsaW5nIGJlZm9yZSBkaXNwYXRjaGluZyB0byB0aGUgY2hhbm5lbCBjYWxsYmFja3MuXG4gICAgICogTXVzdCByZXR1cm4gdGhlIHBheWxvYWQsIG1vZGlmaWVkIG9yIHVubW9kaWZpZWQuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBfb25NZXNzYWdlKF9ldmVudCwgcGF5bG9hZCwgX3JlZikge1xuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9pc01lbWJlcih0b3BpYykge1xuICAgICAgICByZXR1cm4gdGhpcy50b3BpYyA9PT0gdG9waWM7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfam9pblJlZigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuam9pblB1c2gucmVmO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX3RyaWdnZXIodHlwZSwgcGF5bG9hZCwgcmVmKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IHR5cGVMb3dlciA9IHR5cGUudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgY29uc3QgeyBjbG9zZSwgZXJyb3IsIGxlYXZlLCBqb2luIH0gPSBDSEFOTkVMX0VWRU5UUztcbiAgICAgICAgY29uc3QgZXZlbnRzID0gW2Nsb3NlLCBlcnJvciwgbGVhdmUsIGpvaW5dO1xuICAgICAgICBpZiAocmVmICYmIGV2ZW50cy5pbmRleE9mKHR5cGVMb3dlcikgPj0gMCAmJiByZWYgIT09IHRoaXMuX2pvaW5SZWYoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBoYW5kbGVkUGF5bG9hZCA9IHRoaXMuX29uTWVzc2FnZSh0eXBlTG93ZXIsIHBheWxvYWQsIHJlZik7XG4gICAgICAgIGlmIChwYXlsb2FkICYmICFoYW5kbGVkUGF5bG9hZCkge1xuICAgICAgICAgICAgdGhyb3cgJ2NoYW5uZWwgb25NZXNzYWdlIGNhbGxiYWNrcyBtdXN0IHJldHVybiB0aGUgcGF5bG9hZCwgbW9kaWZpZWQgb3IgdW5tb2RpZmllZCc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFsnaW5zZXJ0JywgJ3VwZGF0ZScsICdkZWxldGUnXS5pbmNsdWRlcyh0eXBlTG93ZXIpKSB7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLmJpbmRpbmdzLnBvc3RncmVzX2NoYW5nZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5maWx0ZXIoKGJpbmQpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgICAgICAgICByZXR1cm4gKCgoX2EgPSBiaW5kLmZpbHRlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmV2ZW50KSA9PT0gJyonIHx8XG4gICAgICAgICAgICAgICAgICAgICgoX2MgPSAoX2IgPSBiaW5kLmZpbHRlcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmV2ZW50KSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudG9Mb2NhbGVMb3dlckNhc2UoKSkgPT09IHR5cGVMb3dlcik7XG4gICAgICAgICAgICB9KS5tYXAoKGJpbmQpID0+IGJpbmQuY2FsbGJhY2soaGFuZGxlZFBheWxvYWQsIHJlZikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgKF9iID0gdGhpcy5iaW5kaW5nc1t0eXBlTG93ZXJdKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZmlsdGVyKChiaW5kKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgICAgICAgICAgICAgaWYgKFsnYnJvYWRjYXN0JywgJ3ByZXNlbmNlJywgJ3Bvc3RncmVzX2NoYW5nZXMnXS5pbmNsdWRlcyh0eXBlTG93ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgnaWQnIGluIGJpbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJpbmRJZCA9IGJpbmQuaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBiaW5kRXZlbnQgPSAoX2EgPSBiaW5kLmZpbHRlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmV2ZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChiaW5kSWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKF9iID0gcGF5bG9hZC5pZHMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5pbmNsdWRlcyhiaW5kSWQpKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChiaW5kRXZlbnQgPT09ICcqJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoYmluZEV2ZW50ID09PSBudWxsIHx8IGJpbmRFdmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogYmluZEV2ZW50LnRvTG9jYWxlTG93ZXJDYXNlKCkpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKChfYyA9IHBheWxvYWQuZGF0YSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnR5cGUudG9Mb2NhbGVMb3dlckNhc2UoKSkpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJpbmRFdmVudCA9IChfZSA9IChfZCA9IGJpbmQgPT09IG51bGwgfHwgYmluZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogYmluZC5maWx0ZXIpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5ldmVudCkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGJpbmRFdmVudCA9PT0gJyonIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmluZEV2ZW50ID09PSAoKF9mID0gcGF5bG9hZCA9PT0gbnVsbCB8fCBwYXlsb2FkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXlsb2FkLmV2ZW50KSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YudG9Mb2NhbGVMb3dlckNhc2UoKSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmluZC50eXBlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09IHR5cGVMb3dlcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS5tYXAoKGJpbmQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGhhbmRsZWRQYXlsb2FkID09PSAnb2JqZWN0JyAmJiAnaWRzJyBpbiBoYW5kbGVkUGF5bG9hZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3N0Z3Jlc0NoYW5nZXMgPSBoYW5kbGVkUGF5bG9hZC5kYXRhO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHNjaGVtYSwgdGFibGUsIGNvbW1pdF90aW1lc3RhbXAsIHR5cGUsIGVycm9ycyB9ID0gcG9zdGdyZXNDaGFuZ2VzO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbnJpY2hlZFBheWxvYWQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY2hlbWE6IHNjaGVtYSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlOiB0YWJsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1pdF90aW1lc3RhbXA6IGNvbW1pdF90aW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudFR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXc6IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgb2xkOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yczogZXJyb3JzLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVkUGF5bG9hZCA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZW5yaWNoZWRQYXlsb2FkKSwgdGhpcy5fZ2V0UGF5bG9hZFJlY29yZHMocG9zdGdyZXNDaGFuZ2VzKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJpbmQuY2FsbGJhY2soaGFuZGxlZFBheWxvYWQsIHJlZik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX2lzQ2xvc2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZSA9PT0gQ0hBTk5FTF9TVEFURVMuY2xvc2VkO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX2lzSm9pbmVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZSA9PT0gQ0hBTk5FTF9TVEFURVMuam9pbmVkO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX2lzSm9pbmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUgPT09IENIQU5ORUxfU1RBVEVTLmpvaW5pbmc7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfaXNMZWF2aW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZSA9PT0gQ0hBTk5FTF9TVEFURVMubGVhdmluZztcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9yZXBseUV2ZW50TmFtZShyZWYpIHtcbiAgICAgICAgcmV0dXJuIGBjaGFuX3JlcGx5XyR7cmVmfWA7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfb24odHlwZSwgZmlsdGVyLCBjYWxsYmFjaykge1xuICAgICAgICBjb25zdCB0eXBlTG93ZXIgPSB0eXBlLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IGJpbmRpbmcgPSB7XG4gICAgICAgICAgICB0eXBlOiB0eXBlTG93ZXIsXG4gICAgICAgICAgICBmaWx0ZXI6IGZpbHRlcixcbiAgICAgICAgICAgIGNhbGxiYWNrOiBjYWxsYmFjayxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRoaXMuYmluZGluZ3NbdHlwZUxvd2VyXSkge1xuICAgICAgICAgICAgdGhpcy5iaW5kaW5nc1t0eXBlTG93ZXJdLnB1c2goYmluZGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJpbmRpbmdzW3R5cGVMb3dlcl0gPSBbYmluZGluZ107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfb2ZmKHR5cGUsIGZpbHRlcikge1xuICAgICAgICBjb25zdCB0eXBlTG93ZXIgPSB0eXBlLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgIHRoaXMuYmluZGluZ3NbdHlwZUxvd2VyXSA9IHRoaXMuYmluZGluZ3NbdHlwZUxvd2VyXS5maWx0ZXIoKGJpbmQpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHJldHVybiAhKCgoX2EgPSBiaW5kLnR5cGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50b0xvY2FsZUxvd2VyQ2FzZSgpKSA9PT0gdHlwZUxvd2VyICYmXG4gICAgICAgICAgICAgICAgUmVhbHRpbWVDaGFubmVsLmlzRXF1YWwoYmluZC5maWx0ZXIsIGZpbHRlcikpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBzdGF0aWMgaXNFcXVhbChvYmoxLCBvYmoyKSB7XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhvYmoxKS5sZW5ndGggIT09IE9iamVjdC5rZXlzKG9iajIpLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgayBpbiBvYmoxKSB7XG4gICAgICAgICAgICBpZiAob2JqMVtrXSAhPT0gb2JqMltrXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9yZWpvaW5VbnRpbENvbm5lY3RlZCgpIHtcbiAgICAgICAgdGhpcy5yZWpvaW5UaW1lci5zY2hlZHVsZVRpbWVvdXQoKTtcbiAgICAgICAgaWYgKHRoaXMuc29ja2V0LmlzQ29ubmVjdGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3Jlam9pbigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhIGNhbGxiYWNrIHRoYXQgd2lsbCBiZSBleGVjdXRlZCB3aGVuIHRoZSBjaGFubmVsIGNsb3Nlcy5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIF9vbkNsb3NlKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX29uKENIQU5ORUxfRVZFTlRTLmNsb3NlLCB7fSwgY2FsbGJhY2spO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYSBjYWxsYmFjayB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgd2hlbiB0aGUgY2hhbm5lbCBlbmNvdW50ZXJlcyBhbiBlcnJvci5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIF9vbkVycm9yKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX29uKENIQU5ORUxfRVZFTlRTLmVycm9yLCB7fSwgKHJlYXNvbikgPT4gY2FsbGJhY2socmVhc29uKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYHRydWVgIGlmIHRoZSBzb2NrZXQgaXMgY29ubmVjdGVkIGFuZCB0aGUgY2hhbm5lbCBoYXMgYmVlbiBqb2luZWQuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBfY2FuUHVzaCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc29ja2V0LmlzQ29ubmVjdGVkKCkgJiYgdGhpcy5faXNKb2luZWQoKTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9yZWpvaW4odGltZW91dCA9IHRoaXMudGltZW91dCkge1xuICAgICAgICBpZiAodGhpcy5faXNMZWF2aW5nKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNvY2tldC5fbGVhdmVPcGVuVG9waWModGhpcy50b3BpYyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBDSEFOTkVMX1NUQVRFUy5qb2luaW5nO1xuICAgICAgICB0aGlzLmpvaW5QdXNoLnJlc2VuZCh0aW1lb3V0KTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9nZXRQYXlsb2FkUmVjb3JkcyhwYXlsb2FkKSB7XG4gICAgICAgIGNvbnN0IHJlY29yZHMgPSB7XG4gICAgICAgICAgICBuZXc6IHt9LFxuICAgICAgICAgICAgb2xkOiB7fSxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHBheWxvYWQudHlwZSA9PT0gJ0lOU0VSVCcgfHwgcGF5bG9hZC50eXBlID09PSAnVVBEQVRFJykge1xuICAgICAgICAgICAgcmVjb3Jkcy5uZXcgPSBUcmFuc2Zvcm1lcnMuY29udmVydENoYW5nZURhdGEocGF5bG9hZC5jb2x1bW5zLCBwYXlsb2FkLnJlY29yZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBheWxvYWQudHlwZSA9PT0gJ1VQREFURScgfHwgcGF5bG9hZC50eXBlID09PSAnREVMRVRFJykge1xuICAgICAgICAgICAgcmVjb3Jkcy5vbGQgPSBUcmFuc2Zvcm1lcnMuY29udmVydENoYW5nZURhdGEocGF5bG9hZC5jb2x1bW5zLCBwYXlsb2FkLm9sZF9yZWNvcmQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWNvcmRzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlYWx0aW1lQ2hhbm5lbC5qcy5tYXAiLCJpbXBvcnQgeyBXZWJTb2NrZXQgfSBmcm9tICdpc293cyc7XG5pbXBvcnQgeyBDSEFOTkVMX0VWRU5UUywgQ09OTkVDVElPTl9TVEFURSwgREVGQVVMVF9WRVJTSU9OLCBERUZBVUxUX1RJTUVPVVQsIFNPQ0tFVF9TVEFURVMsIFRSQU5TUE9SVFMsIFZTTiwgV1NfQ0xPU0VfTk9STUFMLCB9IGZyb20gJy4vbGliL2NvbnN0YW50cyc7XG5pbXBvcnQgU2VyaWFsaXplciBmcm9tICcuL2xpYi9zZXJpYWxpemVyJztcbmltcG9ydCBUaW1lciBmcm9tICcuL2xpYi90aW1lcic7XG5pbXBvcnQgeyBodHRwRW5kcG9pbnRVUkwgfSBmcm9tICcuL2xpYi90cmFuc2Zvcm1lcnMnO1xuaW1wb3J0IFJlYWx0aW1lQ2hhbm5lbCBmcm9tICcuL1JlYWx0aW1lQ2hhbm5lbCc7XG5jb25zdCBub29wID0gKCkgPT4geyB9O1xuY29uc3QgV09SS0VSX1NDUklQVCA9IGBcbiAgYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgKGUpID0+IHtcbiAgICBpZiAoZS5kYXRhLmV2ZW50ID09PSBcInN0YXJ0XCIpIHtcbiAgICAgIHNldEludGVydmFsKCgpID0+IHBvc3RNZXNzYWdlKHsgZXZlbnQ6IFwia2VlcEFsaXZlXCIgfSksIGUuZGF0YS5pbnRlcnZhbCk7XG4gICAgfVxuICB9KTtgO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVhbHRpbWVDbGllbnQge1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoZSBTb2NrZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZW5kUG9pbnQgVGhlIHN0cmluZyBXZWJTb2NrZXQgZW5kcG9pbnQsIGllLCBcIndzOi8vZXhhbXBsZS5jb20vc29ja2V0XCIsIFwid3NzOi8vZXhhbXBsZS5jb21cIiwgXCIvc29ja2V0XCIgKGluaGVyaXRlZCBob3N0ICYgcHJvdG9jb2wpXG4gICAgICogQHBhcmFtIGh0dHBFbmRwb2ludCBUaGUgc3RyaW5nIEhUVFAgZW5kcG9pbnQsIGllLCBcImh0dHBzOi8vZXhhbXBsZS5jb21cIiwgXCIvXCIgKGluaGVyaXRlZCBob3N0ICYgcHJvdG9jb2wpXG4gICAgICogQHBhcmFtIG9wdGlvbnMudHJhbnNwb3J0IFRoZSBXZWJzb2NrZXQgVHJhbnNwb3J0LCBmb3IgZXhhbXBsZSBXZWJTb2NrZXQuIFRoaXMgY2FuIGJlIGEgY3VzdG9tIGltcGxlbWVudGF0aW9uXG4gICAgICogQHBhcmFtIG9wdGlvbnMudGltZW91dCBUaGUgZGVmYXVsdCB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyB0byB0cmlnZ2VyIHB1c2ggdGltZW91dHMuXG4gICAgICogQHBhcmFtIG9wdGlvbnMucGFyYW1zIFRoZSBvcHRpb25hbCBwYXJhbXMgdG8gcGFzcyB3aGVuIGNvbm5lY3RpbmcuXG4gICAgICogQHBhcmFtIG9wdGlvbnMuaGVhZGVycyBEZXByZWNhdGVkOiBoZWFkZXJzIGNhbm5vdCBiZSBzZXQgb24gd2Vic29ja2V0IGNvbm5lY3Rpb25zIGFuZCB0aGlzIG9wdGlvbiB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZS5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5oZWFydGJlYXRJbnRlcnZhbE1zIFRoZSBtaWxsaXNlYyBpbnRlcnZhbCB0byBzZW5kIGEgaGVhcnRiZWF0IG1lc3NhZ2UuXG4gICAgICogQHBhcmFtIG9wdGlvbnMubG9nZ2VyIFRoZSBvcHRpb25hbCBmdW5jdGlvbiBmb3Igc3BlY2lhbGl6ZWQgbG9nZ2luZywgaWU6IGxvZ2dlcjogKGtpbmQsIG1zZywgZGF0YSkgPT4geyBjb25zb2xlLmxvZyhgJHtraW5kfTogJHttc2d9YCwgZGF0YSkgfVxuICAgICAqIEBwYXJhbSBvcHRpb25zLmxvZ0xldmVsIFNldHMgdGhlIGxvZyBsZXZlbCBmb3IgUmVhbHRpbWVcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5lbmNvZGUgVGhlIGZ1bmN0aW9uIHRvIGVuY29kZSBvdXRnb2luZyBtZXNzYWdlcy4gRGVmYXVsdHMgdG8gSlNPTjogKHBheWxvYWQsIGNhbGxiYWNrKSA9PiBjYWxsYmFjayhKU09OLnN0cmluZ2lmeShwYXlsb2FkKSlcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5kZWNvZGUgVGhlIGZ1bmN0aW9uIHRvIGRlY29kZSBpbmNvbWluZyBtZXNzYWdlcy4gRGVmYXVsdHMgdG8gU2VyaWFsaXplcidzIGRlY29kZS5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5yZWNvbm5lY3RBZnRlck1zIGhlIG9wdGlvbmFsIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgbWlsbHNlYyByZWNvbm5lY3QgaW50ZXJ2YWwuIERlZmF1bHRzIHRvIHN0ZXBwZWQgYmFja29mZiBvZmYuXG4gICAgICogQHBhcmFtIG9wdGlvbnMud29ya2VyIFVzZSBXZWIgV29ya2VyIHRvIHNldCBhIHNpZGUgZmxvdy4gRGVmYXVsdHMgdG8gZmFsc2UuXG4gICAgICogQHBhcmFtIG9wdGlvbnMud29ya2VyVXJsIFRoZSBVUkwgb2YgdGhlIHdvcmtlciBzY3JpcHQuIERlZmF1bHRzIHRvIGh0dHBzOi8vcmVhbHRpbWUuc3VwYWJhc2UuY29tL3dvcmtlci5qcyB0aGF0IGluY2x1ZGVzIGEgaGVhcnRiZWF0IGV2ZW50IGNhbGwgdG8ga2VlcCB0aGUgY29ubmVjdGlvbiBhbGl2ZS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlbmRQb2ludCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuYWNjZXNzVG9rZW5WYWx1ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuYXBpS2V5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jaGFubmVscyA9IG5ldyBBcnJheSgpO1xuICAgICAgICB0aGlzLmVuZFBvaW50ID0gJyc7XG4gICAgICAgIHRoaXMuaHR0cEVuZHBvaW50ID0gJyc7XG4gICAgICAgIC8qKiBAZGVwcmVjYXRlZCBoZWFkZXJzIGNhbm5vdCBiZSBzZXQgb24gd2Vic29ja2V0IGNvbm5lY3Rpb25zICovXG4gICAgICAgIHRoaXMuaGVhZGVycyA9IHt9O1xuICAgICAgICB0aGlzLnBhcmFtcyA9IHt9O1xuICAgICAgICB0aGlzLnRpbWVvdXQgPSBERUZBVUxUX1RJTUVPVVQ7XG4gICAgICAgIHRoaXMuaGVhcnRiZWF0SW50ZXJ2YWxNcyA9IDI1MDAwO1xuICAgICAgICB0aGlzLmhlYXJ0YmVhdFRpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnBlbmRpbmdIZWFydGJlYXRSZWYgPSBudWxsO1xuICAgICAgICB0aGlzLmhlYXJ0YmVhdENhbGxiYWNrID0gbm9vcDtcbiAgICAgICAgdGhpcy5yZWYgPSAwO1xuICAgICAgICB0aGlzLmxvZ2dlciA9IG5vb3A7XG4gICAgICAgIHRoaXMuY29ubiA9IG51bGw7XG4gICAgICAgIHRoaXMuc2VuZEJ1ZmZlciA9IFtdO1xuICAgICAgICB0aGlzLnNlcmlhbGl6ZXIgPSBuZXcgU2VyaWFsaXplcigpO1xuICAgICAgICB0aGlzLnN0YXRlQ2hhbmdlQ2FsbGJhY2tzID0ge1xuICAgICAgICAgICAgb3BlbjogW10sXG4gICAgICAgICAgICBjbG9zZTogW10sXG4gICAgICAgICAgICBlcnJvcjogW10sXG4gICAgICAgICAgICBtZXNzYWdlOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5hY2Nlc3NUb2tlbiA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2UgZWl0aGVyIGN1c3RvbSBmZXRjaCwgaWYgcHJvdmlkZWQsIG9yIGRlZmF1bHQgZmV0Y2ggdG8gbWFrZSBIVFRQIHJlcXVlc3RzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcmVzb2x2ZUZldGNoID0gKGN1c3RvbUZldGNoKSA9PiB7XG4gICAgICAgICAgICBsZXQgX2ZldGNoO1xuICAgICAgICAgICAgaWYgKGN1c3RvbUZldGNoKSB7XG4gICAgICAgICAgICAgICAgX2ZldGNoID0gY3VzdG9tRmV0Y2g7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgZmV0Y2ggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgX2ZldGNoID0gKC4uLmFyZ3MpID0+IGltcG9ydCgnQHN1cGFiYXNlL25vZGUtZmV0Y2gnKS50aGVuKCh7IGRlZmF1bHQ6IGZldGNoIH0pID0+IGZldGNoKC4uLmFyZ3MpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIF9mZXRjaCA9IGZldGNoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiBfZmV0Y2goLi4uYXJncyk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZW5kUG9pbnQgPSBgJHtlbmRQb2ludH0vJHtUUkFOU1BPUlRTLndlYnNvY2tldH1gO1xuICAgICAgICB0aGlzLmh0dHBFbmRwb2ludCA9IGh0dHBFbmRwb2ludFVSTChlbmRQb2ludCk7XG4gICAgICAgIGlmIChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMudHJhbnNwb3J0KSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydCA9IG9wdGlvbnMudHJhbnNwb3J0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucGFyYW1zKVxuICAgICAgICAgICAgdGhpcy5wYXJhbXMgPSBvcHRpb25zLnBhcmFtcztcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy50aW1lb3V0KVxuICAgICAgICAgICAgdGhpcy50aW1lb3V0ID0gb3B0aW9ucy50aW1lb3V0O1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmxvZ2dlcilcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyID0gb3B0aW9ucy5sb2dnZXI7XG4gICAgICAgIGlmICgob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmxvZ0xldmVsKSB8fCAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmxvZ19sZXZlbCkpIHtcbiAgICAgICAgICAgIHRoaXMubG9nTGV2ZWwgPSBvcHRpb25zLmxvZ0xldmVsIHx8IG9wdGlvbnMubG9nX2xldmVsO1xuICAgICAgICAgICAgdGhpcy5wYXJhbXMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRoaXMucGFyYW1zKSwgeyBsb2dfbGV2ZWw6IHRoaXMubG9nTGV2ZWwgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5oZWFydGJlYXRJbnRlcnZhbE1zKVxuICAgICAgICAgICAgdGhpcy5oZWFydGJlYXRJbnRlcnZhbE1zID0gb3B0aW9ucy5oZWFydGJlYXRJbnRlcnZhbE1zO1xuICAgICAgICBjb25zdCBhY2Nlc3NUb2tlblZhbHVlID0gKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnBhcmFtcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmFwaWtleTtcbiAgICAgICAgaWYgKGFjY2Vzc1Rva2VuVmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuYWNjZXNzVG9rZW5WYWx1ZSA9IGFjY2Vzc1Rva2VuVmFsdWU7XG4gICAgICAgICAgICB0aGlzLmFwaUtleSA9IGFjY2Vzc1Rva2VuVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWNvbm5lY3RBZnRlck1zID0gKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5yZWNvbm5lY3RBZnRlck1zKVxuICAgICAgICAgICAgPyBvcHRpb25zLnJlY29ubmVjdEFmdGVyTXNcbiAgICAgICAgICAgIDogKHRyaWVzKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsxMDAwLCAyMDAwLCA1MDAwLCAxMDAwMF1bdHJpZXMgLSAxXSB8fCAxMDAwMDtcbiAgICAgICAgICAgIH07XG4gICAgICAgIHRoaXMuZW5jb2RlID0gKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5lbmNvZGUpXG4gICAgICAgICAgICA/IG9wdGlvbnMuZW5jb2RlXG4gICAgICAgICAgICA6IChwYXlsb2FkLCBjYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhKU09OLnN0cmluZ2lmeShwYXlsb2FkKSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB0aGlzLmRlY29kZSA9IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZGVjb2RlKVxuICAgICAgICAgICAgPyBvcHRpb25zLmRlY29kZVxuICAgICAgICAgICAgOiB0aGlzLnNlcmlhbGl6ZXIuZGVjb2RlLmJpbmQodGhpcy5zZXJpYWxpemVyKTtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3RUaW1lciA9IG5ldyBUaW1lcihhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdCgpO1xuICAgICAgICB9LCB0aGlzLnJlY29ubmVjdEFmdGVyTXMpO1xuICAgICAgICB0aGlzLmZldGNoID0gdGhpcy5fcmVzb2x2ZUZldGNoKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5mZXRjaCk7XG4gICAgICAgIGlmIChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMud29ya2VyKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgIXdpbmRvdy5Xb3JrZXIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dlYiBXb3JrZXIgaXMgbm90IHN1cHBvcnRlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy53b3JrZXIgPSAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLndvcmtlcikgfHwgZmFsc2U7XG4gICAgICAgICAgICB0aGlzLndvcmtlclVybCA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy53b3JrZXJVcmw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY2Nlc3NUb2tlbiA9IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuYWNjZXNzVG9rZW4pIHx8IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbm5lY3RzIHRoZSBzb2NrZXQsIHVubGVzcyBhbHJlYWR5IGNvbm5lY3RlZC5cbiAgICAgKi9cbiAgICBjb25uZWN0KCkge1xuICAgICAgICBpZiAodGhpcy5jb25uKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnRyYW5zcG9ydCkge1xuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQgPSBXZWJTb2NrZXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnRyYW5zcG9ydCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB0cmFuc3BvcnQgcHJvdmlkZWQnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbm4gPSBuZXcgdGhpcy50cmFuc3BvcnQodGhpcy5lbmRwb2ludFVSTCgpKTtcbiAgICAgICAgdGhpcy5zZXR1cENvbm5lY3Rpb24oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgVVJMIG9mIHRoZSB3ZWJzb2NrZXQuXG4gICAgICogQHJldHVybnMgc3RyaW5nIFRoZSBVUkwgb2YgdGhlIHdlYnNvY2tldC5cbiAgICAgKi9cbiAgICBlbmRwb2ludFVSTCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwcGVuZFBhcmFtcyh0aGlzLmVuZFBvaW50LCBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnBhcmFtcywgeyB2c246IFZTTiB9KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc2Nvbm5lY3RzIHRoZSBzb2NrZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29kZSBBIG51bWVyaWMgc3RhdHVzIGNvZGUgdG8gc2VuZCBvbiBkaXNjb25uZWN0LlxuICAgICAqIEBwYXJhbSByZWFzb24gQSBjdXN0b20gcmVhc29uIGZvciB0aGUgZGlzY29ubmVjdC5cbiAgICAgKi9cbiAgICBkaXNjb25uZWN0KGNvZGUsIHJlYXNvbikge1xuICAgICAgICBpZiAodGhpcy5jb25uKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm4ub25jbG9zZSA9IGZ1bmN0aW9uICgpIHsgfTsgLy8gbm9vcFxuICAgICAgICAgICAgaWYgKGNvZGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm4uY2xvc2UoY29kZSwgcmVhc29uICE9PSBudWxsICYmIHJlYXNvbiAhPT0gdm9pZCAwID8gcmVhc29uIDogJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25uLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNvbm4gPSBudWxsO1xuICAgICAgICAgICAgLy8gcmVtb3ZlIG9wZW4gaGFuZGxlc1xuICAgICAgICAgICAgdGhpcy5oZWFydGJlYXRUaW1lciAmJiBjbGVhckludGVydmFsKHRoaXMuaGVhcnRiZWF0VGltZXIpO1xuICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3RUaW1lci5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5jaGFubmVscy5mb3JFYWNoKChjaGFubmVsKSA9PiBjaGFubmVsLnRlYXJkb3duKCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYWxsIGNyZWF0ZWQgY2hhbm5lbHNcbiAgICAgKi9cbiAgICBnZXRDaGFubmVscygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhbm5lbHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVuc3Vic2NyaWJlcyBhbmQgcmVtb3ZlcyBhIHNpbmdsZSBjaGFubmVsXG4gICAgICogQHBhcmFtIGNoYW5uZWwgQSBSZWFsdGltZUNoYW5uZWwgaW5zdGFuY2VcbiAgICAgKi9cbiAgICBhc3luYyByZW1vdmVDaGFubmVsKGNoYW5uZWwpIHtcbiAgICAgICAgY29uc3Qgc3RhdHVzID0gYXdhaXQgY2hhbm5lbC51bnN1YnNjcmliZSgpO1xuICAgICAgICBpZiAodGhpcy5jaGFubmVscy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGF0dXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVuc3Vic2NyaWJlcyBhbmQgcmVtb3ZlcyBhbGwgY2hhbm5lbHNcbiAgICAgKi9cbiAgICBhc3luYyByZW1vdmVBbGxDaGFubmVscygpIHtcbiAgICAgICAgY29uc3QgdmFsdWVzXzEgPSBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmNoYW5uZWxzLm1hcCgoY2hhbm5lbCkgPT4gY2hhbm5lbC51bnN1YnNjcmliZSgpKSk7XG4gICAgICAgIHRoaXMuY2hhbm5lbHMgPSBbXTtcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0KCk7XG4gICAgICAgIHJldHVybiB2YWx1ZXNfMTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9ncyB0aGUgbWVzc2FnZS5cbiAgICAgKlxuICAgICAqIEZvciBjdXN0b21pemVkIGxvZ2dpbmcsIGB0aGlzLmxvZ2dlcmAgY2FuIGJlIG92ZXJyaWRkZW4uXG4gICAgICovXG4gICAgbG9nKGtpbmQsIG1zZywgZGF0YSkge1xuICAgICAgICB0aGlzLmxvZ2dlcihraW5kLCBtc2csIGRhdGEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBzb2NrZXQuXG4gICAgICovXG4gICAgY29ubmVjdGlvblN0YXRlKCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuY29ubiAmJiB0aGlzLmNvbm4ucmVhZHlTdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSBTT0NLRVRfU1RBVEVTLmNvbm5lY3Rpbmc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIENPTk5FQ1RJT05fU1RBVEUuQ29ubmVjdGluZztcbiAgICAgICAgICAgIGNhc2UgU09DS0VUX1NUQVRFUy5vcGVuOlxuICAgICAgICAgICAgICAgIHJldHVybiBDT05ORUNUSU9OX1NUQVRFLk9wZW47XG4gICAgICAgICAgICBjYXNlIFNPQ0tFVF9TVEFURVMuY2xvc2luZzpcbiAgICAgICAgICAgICAgICByZXR1cm4gQ09OTkVDVElPTl9TVEFURS5DbG9zaW5nO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gQ09OTkVDVElPTl9TVEFURS5DbG9zZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaXMgdGhlIGNvbm5lY3Rpb24gaXMgb3Blbi5cbiAgICAgKi9cbiAgICBpc0Nvbm5lY3RlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvblN0YXRlKCkgPT09IENPTk5FQ1RJT05fU1RBVEUuT3BlbjtcbiAgICB9XG4gICAgY2hhbm5lbCh0b3BpYywgcGFyYW1zID0geyBjb25maWc6IHt9IH0pIHtcbiAgICAgICAgY29uc3QgcmVhbHRpbWVUb3BpYyA9IGByZWFsdGltZToke3RvcGljfWA7XG4gICAgICAgIGNvbnN0IGV4aXN0cyA9IHRoaXMuZ2V0Q2hhbm5lbHMoKS5maW5kKChjKSA9PiBjLnRvcGljID09PSByZWFsdGltZVRvcGljKTtcbiAgICAgICAgaWYgKCFleGlzdHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYW4gPSBuZXcgUmVhbHRpbWVDaGFubmVsKGByZWFsdGltZToke3RvcGljfWAsIHBhcmFtcywgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWxzLnB1c2goY2hhbik7XG4gICAgICAgICAgICByZXR1cm4gY2hhbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBleGlzdHM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUHVzaCBvdXQgYSBtZXNzYWdlIGlmIHRoZSBzb2NrZXQgaXMgY29ubmVjdGVkLlxuICAgICAqXG4gICAgICogSWYgdGhlIHNvY2tldCBpcyBub3QgY29ubmVjdGVkLCB0aGUgbWVzc2FnZSBnZXRzIGVucXVldWVkIHdpdGhpbiBhIGxvY2FsIGJ1ZmZlciwgYW5kIHNlbnQgb3V0IHdoZW4gYSBjb25uZWN0aW9uIGlzIG5leHQgZXN0YWJsaXNoZWQuXG4gICAgICovXG4gICAgcHVzaChkYXRhKSB7XG4gICAgICAgIGNvbnN0IHsgdG9waWMsIGV2ZW50LCBwYXlsb2FkLCByZWYgfSA9IGRhdGE7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbmNvZGUoZGF0YSwgKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAoX2EgPSB0aGlzLmNvbm4pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zZW5kKHJlc3VsdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5sb2coJ3B1c2gnLCBgJHt0b3BpY30gJHtldmVudH0gKCR7cmVmfSlgLCBwYXlsb2FkKTtcbiAgICAgICAgaWYgKHRoaXMuaXNDb25uZWN0ZWQoKSkge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZEJ1ZmZlci5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBKV1QgYWNjZXNzIHRva2VuIHVzZWQgZm9yIGNoYW5uZWwgc3Vic2NyaXB0aW9uIGF1dGhvcml6YXRpb24gYW5kIFJlYWx0aW1lIFJMUy5cbiAgICAgKlxuICAgICAqIElmIHBhcmFtIGlzIG51bGwgaXQgd2lsbCB1c2UgdGhlIGBhY2Nlc3NUb2tlbmAgY2FsbGJhY2sgZnVuY3Rpb24gb3IgdGhlIHRva2VuIHNldCBvbiB0aGUgY2xpZW50LlxuICAgICAqXG4gICAgICogT24gY2FsbGJhY2sgdXNlZCwgaXQgd2lsbCBzZXQgdGhlIHZhbHVlIG9mIHRoZSB0b2tlbiBpbnRlcm5hbCB0byB0aGUgY2xpZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHRva2VuIEEgSldUIHN0cmluZyB0byBvdmVycmlkZSB0aGUgdG9rZW4gc2V0IG9uIHRoZSBjbGllbnQuXG4gICAgICovXG4gICAgYXN5bmMgc2V0QXV0aCh0b2tlbiA9IG51bGwpIHtcbiAgICAgICAgbGV0IHRva2VuVG9TZW5kID0gdG9rZW4gfHxcbiAgICAgICAgICAgICh0aGlzLmFjY2Vzc1Rva2VuICYmIChhd2FpdCB0aGlzLmFjY2Vzc1Rva2VuKCkpKSB8fFxuICAgICAgICAgICAgdGhpcy5hY2Nlc3NUb2tlblZhbHVlO1xuICAgICAgICBpZiAodGhpcy5hY2Nlc3NUb2tlblZhbHVlICE9IHRva2VuVG9TZW5kKSB7XG4gICAgICAgICAgICB0aGlzLmFjY2Vzc1Rva2VuVmFsdWUgPSB0b2tlblRvU2VuZDtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbHMuZm9yRWFjaCgoY2hhbm5lbCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICAgICAgICAgIGFjY2Vzc190b2tlbjogdG9rZW5Ub1NlbmQsXG4gICAgICAgICAgICAgICAgICAgIHZlcnNpb246IERFRkFVTFRfVkVSU0lPTixcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRva2VuVG9TZW5kICYmIGNoYW5uZWwudXBkYXRlSm9pblBheWxvYWQocGF5bG9hZCk7XG4gICAgICAgICAgICAgICAgaWYgKGNoYW5uZWwuam9pbmVkT25jZSAmJiBjaGFubmVsLl9pc0pvaW5lZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWwuX3B1c2goQ0hBTk5FTF9FVkVOVFMuYWNjZXNzX3Rva2VuLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY2Nlc3NfdG9rZW46IHRva2VuVG9TZW5kLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIGhlYXJ0YmVhdCBtZXNzYWdlIGlmIHRoZSBzb2NrZXQgaXMgY29ubmVjdGVkLlxuICAgICAqL1xuICAgIGFzeW5jIHNlbmRIZWFydGJlYXQoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCF0aGlzLmlzQ29ubmVjdGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuaGVhcnRiZWF0Q2FsbGJhY2soJ2Rpc2Nvbm5lY3RlZCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBlbmRpbmdIZWFydGJlYXRSZWYpIHtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ0hlYXJ0YmVhdFJlZiA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmxvZygndHJhbnNwb3J0JywgJ2hlYXJ0YmVhdCB0aW1lb3V0LiBBdHRlbXB0aW5nIHRvIHJlLWVzdGFibGlzaCBjb25uZWN0aW9uJyk7XG4gICAgICAgICAgICB0aGlzLmhlYXJ0YmVhdENhbGxiYWNrKCd0aW1lb3V0Jyk7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLmNvbm4pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbG9zZShXU19DTE9TRV9OT1JNQUwsICdoZWFyYmVhdCB0aW1lb3V0Jyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wZW5kaW5nSGVhcnRiZWF0UmVmID0gdGhpcy5fbWFrZVJlZigpO1xuICAgICAgICB0aGlzLnB1c2goe1xuICAgICAgICAgICAgdG9waWM6ICdwaG9lbml4JyxcbiAgICAgICAgICAgIGV2ZW50OiAnaGVhcnRiZWF0JyxcbiAgICAgICAgICAgIHBheWxvYWQ6IHt9LFxuICAgICAgICAgICAgcmVmOiB0aGlzLnBlbmRpbmdIZWFydGJlYXRSZWYsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmhlYXJ0YmVhdENhbGxiYWNrKCdzZW50Jyk7XG4gICAgICAgIGF3YWl0IHRoaXMuc2V0QXV0aCgpO1xuICAgIH1cbiAgICBvbkhlYXJ0YmVhdChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmhlYXJ0YmVhdENhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZsdXNoZXMgc2VuZCBidWZmZXJcbiAgICAgKi9cbiAgICBmbHVzaFNlbmRCdWZmZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzQ29ubmVjdGVkKCkgJiYgdGhpcy5zZW5kQnVmZmVyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZEJ1ZmZlci5mb3JFYWNoKChjYWxsYmFjaykgPT4gY2FsbGJhY2soKSk7XG4gICAgICAgICAgICB0aGlzLnNlbmRCdWZmZXIgPSBbXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIG5leHQgbWVzc2FnZSByZWYsIGFjY291bnRpbmcgZm9yIG92ZXJmbG93c1xuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgX21ha2VSZWYoKSB7XG4gICAgICAgIGxldCBuZXdSZWYgPSB0aGlzLnJlZiArIDE7XG4gICAgICAgIGlmIChuZXdSZWYgPT09IHRoaXMucmVmKSB7XG4gICAgICAgICAgICB0aGlzLnJlZiA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlZiA9IG5ld1JlZjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5yZWYudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVW5zdWJzY3JpYmUgZnJvbSBjaGFubmVscyB3aXRoIHRoZSBzcGVjaWZpZWQgdG9waWMuXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBfbGVhdmVPcGVuVG9waWModG9waWMpIHtcbiAgICAgICAgbGV0IGR1cENoYW5uZWwgPSB0aGlzLmNoYW5uZWxzLmZpbmQoKGMpID0+IGMudG9waWMgPT09IHRvcGljICYmIChjLl9pc0pvaW5lZCgpIHx8IGMuX2lzSm9pbmluZygpKSk7XG4gICAgICAgIGlmIChkdXBDaGFubmVsKSB7XG4gICAgICAgICAgICB0aGlzLmxvZygndHJhbnNwb3J0JywgYGxlYXZpbmcgZHVwbGljYXRlIHRvcGljIFwiJHt0b3BpY31cImApO1xuICAgICAgICAgICAgZHVwQ2hhbm5lbC51bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBzdWJzY3JpcHRpb24gZnJvbSB0aGUgc29ja2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGNoYW5uZWwgQW4gb3BlbiBzdWJzY3JpcHRpb24uXG4gICAgICpcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBfcmVtb3ZlKGNoYW5uZWwpIHtcbiAgICAgICAgdGhpcy5jaGFubmVscyA9IHRoaXMuY2hhbm5lbHMuZmlsdGVyKChjKSA9PiBjLnRvcGljICE9PSBjaGFubmVsLnRvcGljKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB1cCBjb25uZWN0aW9uIGhhbmRsZXJzLlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgc2V0dXBDb25uZWN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5jb25uKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm4uYmluYXJ5VHlwZSA9ICdhcnJheWJ1ZmZlcic7XG4gICAgICAgICAgICB0aGlzLmNvbm4ub25vcGVuID0gKCkgPT4gdGhpcy5fb25Db25uT3BlbigpO1xuICAgICAgICAgICAgdGhpcy5jb25uLm9uZXJyb3IgPSAoZXJyb3IpID0+IHRoaXMuX29uQ29ubkVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIHRoaXMuY29ubi5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHRoaXMuX29uQ29ubk1lc3NhZ2UoZXZlbnQpO1xuICAgICAgICAgICAgdGhpcy5jb25uLm9uY2xvc2UgPSAoZXZlbnQpID0+IHRoaXMuX29uQ29ubkNsb3NlKGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX29uQ29ubk1lc3NhZ2UocmF3TWVzc2FnZSkge1xuICAgICAgICB0aGlzLmRlY29kZShyYXdNZXNzYWdlLmRhdGEsIChtc2cpID0+IHtcbiAgICAgICAgICAgIGxldCB7IHRvcGljLCBldmVudCwgcGF5bG9hZCwgcmVmIH0gPSBtc2c7XG4gICAgICAgICAgICBpZiAodG9waWMgPT09ICdwaG9lbml4JyAmJiBldmVudCA9PT0gJ3BoeF9yZXBseScpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhlYXJ0YmVhdENhbGxiYWNrKG1zZy5wYXlsb2FkLnN0YXR1cyA9PSAnb2snID8gJ29rJyA6ICdlcnJvcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlZiAmJiByZWYgPT09IHRoaXMucGVuZGluZ0hlYXJ0YmVhdFJlZikge1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ0hlYXJ0YmVhdFJlZiA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmxvZygncmVjZWl2ZScsIGAke3BheWxvYWQuc3RhdHVzIHx8ICcnfSAke3RvcGljfSAke2V2ZW50fSAkeyhyZWYgJiYgJygnICsgcmVmICsgJyknKSB8fCAnJ31gLCBwYXlsb2FkKTtcbiAgICAgICAgICAgIEFycmF5LmZyb20odGhpcy5jaGFubmVscylcbiAgICAgICAgICAgICAgICAuZmlsdGVyKChjaGFubmVsKSA9PiBjaGFubmVsLl9pc01lbWJlcih0b3BpYykpXG4gICAgICAgICAgICAgICAgLmZvckVhY2goKGNoYW5uZWwpID0+IGNoYW5uZWwuX3RyaWdnZXIoZXZlbnQsIHBheWxvYWQsIHJlZikpO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZUNoYW5nZUNhbGxiYWNrcy5tZXNzYWdlLmZvckVhY2goKGNhbGxiYWNrKSA9PiBjYWxsYmFjayhtc2cpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfb25Db25uT3BlbigpIHtcbiAgICAgICAgdGhpcy5sb2coJ3RyYW5zcG9ydCcsIGBjb25uZWN0ZWQgdG8gJHt0aGlzLmVuZHBvaW50VVJMKCl9YCk7XG4gICAgICAgIHRoaXMuZmx1c2hTZW5kQnVmZmVyKCk7XG4gICAgICAgIHRoaXMucmVjb25uZWN0VGltZXIucmVzZXQoKTtcbiAgICAgICAgaWYgKCF0aGlzLndvcmtlcikge1xuICAgICAgICAgICAgdGhpcy5fc3RhcnRIZWFydGJlYXQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghdGhpcy53b3JrZXJSZWYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGFydFdvcmtlckhlYXJ0YmVhdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdGVDaGFuZ2VDYWxsYmFja3Mub3Blbi5mb3JFYWNoKChjYWxsYmFjaykgPT4gY2FsbGJhY2soKSk7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfc3RhcnRIZWFydGJlYXQoKSB7XG4gICAgICAgIHRoaXMuaGVhcnRiZWF0VGltZXIgJiYgY2xlYXJJbnRlcnZhbCh0aGlzLmhlYXJ0YmVhdFRpbWVyKTtcbiAgICAgICAgdGhpcy5oZWFydGJlYXRUaW1lciA9IHNldEludGVydmFsKCgpID0+IHRoaXMuc2VuZEhlYXJ0YmVhdCgpLCB0aGlzLmhlYXJ0YmVhdEludGVydmFsTXMpO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX3N0YXJ0V29ya2VySGVhcnRiZWF0KCkge1xuICAgICAgICBpZiAodGhpcy53b3JrZXJVcmwpIHtcbiAgICAgICAgICAgIHRoaXMubG9nKCd3b3JrZXInLCBgc3RhcnRpbmcgd29ya2VyIGZvciBmcm9tICR7dGhpcy53b3JrZXJVcmx9YCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxvZygnd29ya2VyJywgYHN0YXJ0aW5nIGRlZmF1bHQgd29ya2VyYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb2JqZWN0VXJsID0gdGhpcy5fd29ya2VyT2JqZWN0VXJsKHRoaXMud29ya2VyVXJsKTtcbiAgICAgICAgdGhpcy53b3JrZXJSZWYgPSBuZXcgV29ya2VyKG9iamVjdFVybCk7XG4gICAgICAgIHRoaXMud29ya2VyUmVmLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIHRoaXMubG9nKCd3b3JrZXInLCAnd29ya2VyIGVycm9yJywgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICB0aGlzLndvcmtlclJlZi50ZXJtaW5hdGUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy53b3JrZXJSZWYub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuZGF0YS5ldmVudCA9PT0gJ2tlZXBBbGl2ZScpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRIZWFydGJlYXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy53b3JrZXJSZWYucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgZXZlbnQ6ICdzdGFydCcsXG4gICAgICAgICAgICBpbnRlcnZhbDogdGhpcy5oZWFydGJlYXRJbnRlcnZhbE1zLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9vbkNvbm5DbG9zZShldmVudCkge1xuICAgICAgICB0aGlzLmxvZygndHJhbnNwb3J0JywgJ2Nsb3NlJywgZXZlbnQpO1xuICAgICAgICB0aGlzLl90cmlnZ2VyQ2hhbkVycm9yKCk7XG4gICAgICAgIHRoaXMuaGVhcnRiZWF0VGltZXIgJiYgY2xlYXJJbnRlcnZhbCh0aGlzLmhlYXJ0YmVhdFRpbWVyKTtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3RUaW1lci5zY2hlZHVsZVRpbWVvdXQoKTtcbiAgICAgICAgdGhpcy5zdGF0ZUNoYW5nZUNhbGxiYWNrcy5jbG9zZS5mb3JFYWNoKChjYWxsYmFjaykgPT4gY2FsbGJhY2soZXZlbnQpKTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9vbkNvbm5FcnJvcihlcnJvcikge1xuICAgICAgICB0aGlzLmxvZygndHJhbnNwb3J0JywgYCR7ZXJyb3J9YCk7XG4gICAgICAgIHRoaXMuX3RyaWdnZXJDaGFuRXJyb3IoKTtcbiAgICAgICAgdGhpcy5zdGF0ZUNoYW5nZUNhbGxiYWNrcy5lcnJvci5mb3JFYWNoKChjYWxsYmFjaykgPT4gY2FsbGJhY2soZXJyb3IpKTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF90cmlnZ2VyQ2hhbkVycm9yKCkge1xuICAgICAgICB0aGlzLmNoYW5uZWxzLmZvckVhY2goKGNoYW5uZWwpID0+IGNoYW5uZWwuX3RyaWdnZXIoQ0hBTk5FTF9FVkVOVFMuZXJyb3IpKTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9hcHBlbmRQYXJhbXModXJsLCBwYXJhbXMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHBhcmFtcykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdXJsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByZWZpeCA9IHVybC5tYXRjaCgvXFw/LykgPyAnJicgOiAnPyc7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhwYXJhbXMpO1xuICAgICAgICByZXR1cm4gYCR7dXJsfSR7cHJlZml4fSR7cXVlcnl9YDtcbiAgICB9XG4gICAgX3dvcmtlck9iamVjdFVybCh1cmwpIHtcbiAgICAgICAgbGV0IHJlc3VsdF91cmw7XG4gICAgICAgIGlmICh1cmwpIHtcbiAgICAgICAgICAgIHJlc3VsdF91cmwgPSB1cmw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW1dPUktFUl9TQ1JJUFRdLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9qYXZhc2NyaXB0JyB9KTtcbiAgICAgICAgICAgIHJlc3VsdF91cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRfdXJsO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlYWx0aW1lQ2xpZW50LmpzLm1hcCIsImV4cG9ydCBjbGFzcyBTdG9yYWdlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5fX2lzU3RvcmFnZUVycm9yID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ1N0b3JhZ2VFcnJvcic7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGlzU3RvcmFnZUVycm9yKGVycm9yKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBlcnJvciA9PT0gJ29iamVjdCcgJiYgZXJyb3IgIT09IG51bGwgJiYgJ19faXNTdG9yYWdlRXJyb3InIGluIGVycm9yO1xufVxuZXhwb3J0IGNsYXNzIFN0b3JhZ2VBcGlFcnJvciBleHRlbmRzIFN0b3JhZ2VFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgc3RhdHVzKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnU3RvcmFnZUFwaUVycm9yJztcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcbiAgICAgICAgICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFN0b3JhZ2VVbmtub3duRXJyb3IgZXh0ZW5kcyBTdG9yYWdlRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIG9yaWdpbmFsRXJyb3IpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdTdG9yYWdlVW5rbm93bkVycm9yJztcbiAgICAgICAgdGhpcy5vcmlnaW5hbEVycm9yID0gb3JpZ2luYWxFcnJvcjtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcnJvcnMuanMubWFwIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgcmVzb2x2ZUZldGNoID0gKGN1c3RvbUZldGNoKSA9PiB7XG4gICAgbGV0IF9mZXRjaDtcbiAgICBpZiAoY3VzdG9tRmV0Y2gpIHtcbiAgICAgICAgX2ZldGNoID0gY3VzdG9tRmV0Y2g7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBmZXRjaCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgX2ZldGNoID0gKC4uLmFyZ3MpID0+IGltcG9ydCgnQHN1cGFiYXNlL25vZGUtZmV0Y2gnKS50aGVuKCh7IGRlZmF1bHQ6IGZldGNoIH0pID0+IGZldGNoKC4uLmFyZ3MpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIF9mZXRjaCA9IGZldGNoO1xuICAgIH1cbiAgICByZXR1cm4gKC4uLmFyZ3MpID0+IF9mZXRjaCguLi5hcmdzKTtcbn07XG5leHBvcnQgY29uc3QgcmVzb2x2ZVJlc3BvbnNlID0gKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgaWYgKHR5cGVvZiBSZXNwb25zZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICByZXR1cm4gKHlpZWxkIGltcG9ydCgnQHN1cGFiYXNlL25vZGUtZmV0Y2gnKSkuUmVzcG9uc2U7XG4gICAgfVxuICAgIHJldHVybiBSZXNwb25zZTtcbn0pO1xuZXhwb3J0IGNvbnN0IHJlY3Vyc2l2ZVRvQ2FtZWwgPSAoaXRlbSkgPT4ge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGl0ZW0pKSB7XG4gICAgICAgIHJldHVybiBpdGVtLm1hcCgoZWwpID0+IHJlY3Vyc2l2ZVRvQ2FtZWwoZWwpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGl0ZW0gPT09ICdmdW5jdGlvbicgfHwgaXRlbSAhPT0gT2JqZWN0KGl0ZW0pKSB7XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBPYmplY3QuZW50cmllcyhpdGVtKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgY29uc3QgbmV3S2V5ID0ga2V5LnJlcGxhY2UoLyhbLV9dW2Etel0pL2dpLCAoYykgPT4gYy50b1VwcGVyQ2FzZSgpLnJlcGxhY2UoL1stX10vZywgJycpKTtcbiAgICAgICAgcmVzdWx0W25ld0tleV0gPSByZWN1cnNpdmVUb0NhbWVsKHZhbHVlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhlbHBlcnMuanMubWFwIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5pbXBvcnQgeyBTdG9yYWdlQXBpRXJyb3IsIFN0b3JhZ2VVbmtub3duRXJyb3IgfSBmcm9tICcuL2Vycm9ycyc7XG5pbXBvcnQgeyByZXNvbHZlUmVzcG9uc2UgfSBmcm9tICcuL2hlbHBlcnMnO1xuY29uc3QgX2dldEVycm9yTWVzc2FnZSA9IChlcnIpID0+IGVyci5tc2cgfHwgZXJyLm1lc3NhZ2UgfHwgZXJyLmVycm9yX2Rlc2NyaXB0aW9uIHx8IGVyci5lcnJvciB8fCBKU09OLnN0cmluZ2lmeShlcnIpO1xuY29uc3QgaGFuZGxlRXJyb3IgPSAoZXJyb3IsIHJlamVjdCwgb3B0aW9ucykgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgY29uc3QgUmVzID0geWllbGQgcmVzb2x2ZVJlc3BvbnNlKCk7XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgUmVzICYmICEob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLm5vUmVzb2x2ZUpzb24pKSB7XG4gICAgICAgIGVycm9yXG4gICAgICAgICAgICAuanNvbigpXG4gICAgICAgICAgICAudGhlbigoZXJyKSA9PiB7XG4gICAgICAgICAgICByZWplY3QobmV3IFN0b3JhZ2VBcGlFcnJvcihfZ2V0RXJyb3JNZXNzYWdlKGVyciksIGVycm9yLnN0YXR1cyB8fCA1MDApKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICByZWplY3QobmV3IFN0b3JhZ2VVbmtub3duRXJyb3IoX2dldEVycm9yTWVzc2FnZShlcnIpLCBlcnIpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZWplY3QobmV3IFN0b3JhZ2VVbmtub3duRXJyb3IoX2dldEVycm9yTWVzc2FnZShlcnJvciksIGVycm9yKSk7XG4gICAgfVxufSk7XG5jb25zdCBfZ2V0UmVxdWVzdFBhcmFtcyA9IChtZXRob2QsIG9wdGlvbnMsIHBhcmFtZXRlcnMsIGJvZHkpID0+IHtcbiAgICBjb25zdCBwYXJhbXMgPSB7IG1ldGhvZCwgaGVhZGVyczogKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5oZWFkZXJzKSB8fCB7fSB9O1xuICAgIGlmIChtZXRob2QgPT09ICdHRVQnKSB7XG4gICAgICAgIHJldHVybiBwYXJhbXM7XG4gICAgfVxuICAgIHBhcmFtcy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbih7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSwgb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmhlYWRlcnMpO1xuICAgIGlmIChib2R5KSB7XG4gICAgICAgIHBhcmFtcy5ib2R5ID0gSlNPTi5zdHJpbmdpZnkoYm9keSk7XG4gICAgfVxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHBhcmFtcyksIHBhcmFtZXRlcnMpO1xufTtcbmZ1bmN0aW9uIF9oYW5kbGVSZXF1ZXN0KGZldGNoZXIsIG1ldGhvZCwgdXJsLCBvcHRpb25zLCBwYXJhbWV0ZXJzLCBib2R5KSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGZldGNoZXIodXJsLCBfZ2V0UmVxdWVzdFBhcmFtcyhtZXRob2QsIG9wdGlvbnMsIHBhcmFtZXRlcnMsIGJvZHkpKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdC5vaylcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgcmVzdWx0O1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMubm9SZXNvbHZlSnNvbilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0Lmpzb24oKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHJlc29sdmUoZGF0YSkpXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gaGFuZGxlRXJyb3IoZXJyb3IsIHJlamVjdCwgb3B0aW9ucykpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXQoZmV0Y2hlciwgdXJsLCBvcHRpb25zLCBwYXJhbWV0ZXJzKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgcmV0dXJuIF9oYW5kbGVSZXF1ZXN0KGZldGNoZXIsICdHRVQnLCB1cmwsIG9wdGlvbnMsIHBhcmFtZXRlcnMpO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBvc3QoZmV0Y2hlciwgdXJsLCBib2R5LCBvcHRpb25zLCBwYXJhbWV0ZXJzKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgcmV0dXJuIF9oYW5kbGVSZXF1ZXN0KGZldGNoZXIsICdQT1NUJywgdXJsLCBvcHRpb25zLCBwYXJhbWV0ZXJzLCBib2R5KTtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwdXQoZmV0Y2hlciwgdXJsLCBib2R5LCBvcHRpb25zLCBwYXJhbWV0ZXJzKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgcmV0dXJuIF9oYW5kbGVSZXF1ZXN0KGZldGNoZXIsICdQVVQnLCB1cmwsIG9wdGlvbnMsIHBhcmFtZXRlcnMsIGJvZHkpO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhlYWQoZmV0Y2hlciwgdXJsLCBvcHRpb25zLCBwYXJhbWV0ZXJzKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgcmV0dXJuIF9oYW5kbGVSZXF1ZXN0KGZldGNoZXIsICdIRUFEJywgdXJsLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpLCB7IG5vUmVzb2x2ZUpzb246IHRydWUgfSksIHBhcmFtZXRlcnMpO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZShmZXRjaGVyLCB1cmwsIGJvZHksIG9wdGlvbnMsIHBhcmFtZXRlcnMpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICByZXR1cm4gX2hhbmRsZVJlcXVlc3QoZmV0Y2hlciwgJ0RFTEVURScsIHVybCwgb3B0aW9ucywgcGFyYW1ldGVycywgYm9keSk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mZXRjaC5qcy5tYXAiLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmltcG9ydCB7IGlzU3RvcmFnZUVycm9yLCBTdG9yYWdlRXJyb3IsIFN0b3JhZ2VVbmtub3duRXJyb3IgfSBmcm9tICcuLi9saWIvZXJyb3JzJztcbmltcG9ydCB7IGdldCwgaGVhZCwgcG9zdCwgcmVtb3ZlIH0gZnJvbSAnLi4vbGliL2ZldGNoJztcbmltcG9ydCB7IHJlY3Vyc2l2ZVRvQ2FtZWwsIHJlc29sdmVGZXRjaCB9IGZyb20gJy4uL2xpYi9oZWxwZXJzJztcbmNvbnN0IERFRkFVTFRfU0VBUkNIX09QVElPTlMgPSB7XG4gICAgbGltaXQ6IDEwMCxcbiAgICBvZmZzZXQ6IDAsXG4gICAgc29ydEJ5OiB7XG4gICAgICAgIGNvbHVtbjogJ25hbWUnLFxuICAgICAgICBvcmRlcjogJ2FzYycsXG4gICAgfSxcbn07XG5jb25zdCBERUZBVUxUX0ZJTEVfT1BUSU9OUyA9IHtcbiAgICBjYWNoZUNvbnRyb2w6ICczNjAwJyxcbiAgICBjb250ZW50VHlwZTogJ3RleHQvcGxhaW47Y2hhcnNldD1VVEYtOCcsXG4gICAgdXBzZXJ0OiBmYWxzZSxcbn07XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdG9yYWdlRmlsZUFwaSB7XG4gICAgY29uc3RydWN0b3IodXJsLCBoZWFkZXJzID0ge30sIGJ1Y2tldElkLCBmZXRjaCkge1xuICAgICAgICB0aGlzLnVybCA9IHVybDtcbiAgICAgICAgdGhpcy5oZWFkZXJzID0gaGVhZGVycztcbiAgICAgICAgdGhpcy5idWNrZXRJZCA9IGJ1Y2tldElkO1xuICAgICAgICB0aGlzLmZldGNoID0gcmVzb2x2ZUZldGNoKGZldGNoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBsb2FkcyBhIGZpbGUgdG8gYW4gZXhpc3RpbmcgYnVja2V0IG9yIHJlcGxhY2VzIGFuIGV4aXN0aW5nIGZpbGUgYXQgdGhlIHNwZWNpZmllZCBwYXRoIHdpdGggYSBuZXcgb25lLlxuICAgICAqXG4gICAgICogQHBhcmFtIG1ldGhvZCBIVFRQIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0gcGF0aCBUaGUgcmVsYXRpdmUgZmlsZSBwYXRoLiBTaG91bGQgYmUgb2YgdGhlIGZvcm1hdCBgZm9sZGVyL3N1YmZvbGRlci9maWxlbmFtZS5wbmdgLiBUaGUgYnVja2V0IG11c3QgYWxyZWFkeSBleGlzdCBiZWZvcmUgYXR0ZW1wdGluZyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIGZpbGVCb2R5IFRoZSBib2R5IG9mIHRoZSBmaWxlIHRvIGJlIHN0b3JlZCBpbiB0aGUgYnVja2V0LlxuICAgICAqL1xuICAgIHVwbG9hZE9yVXBkYXRlKG1ldGhvZCwgcGF0aCwgZmlsZUJvZHksIGZpbGVPcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGxldCBib2R5O1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfRklMRV9PUFRJT05TKSwgZmlsZU9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGxldCBoZWFkZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB0aGlzLmhlYWRlcnMpLCAobWV0aG9kID09PSAnUE9TVCcgJiYgeyAneC11cHNlcnQnOiBTdHJpbmcob3B0aW9ucy51cHNlcnQpIH0pKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXRhZGF0YSA9IG9wdGlvbnMubWV0YWRhdGE7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBCbG9iICE9PSAndW5kZWZpbmVkJyAmJiBmaWxlQm9keSBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICAgICAgICAgICAgICAgICAgYm9keSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgICAgICAgICAgICAgICBib2R5LmFwcGVuZCgnY2FjaGVDb250cm9sJywgb3B0aW9ucy5jYWNoZUNvbnRyb2wpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkuYXBwZW5kKCdtZXRhZGF0YScsIHRoaXMuZW5jb2RlTWV0YWRhdGEobWV0YWRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBib2R5LmFwcGVuZCgnJywgZmlsZUJvZHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgRm9ybURhdGEgIT09ICd1bmRlZmluZWQnICYmIGZpbGVCb2R5IGluc3RhbmNlb2YgRm9ybURhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgYm9keSA9IGZpbGVCb2R5O1xuICAgICAgICAgICAgICAgICAgICBib2R5LmFwcGVuZCgnY2FjaGVDb250cm9sJywgb3B0aW9ucy5jYWNoZUNvbnRyb2wpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkuYXBwZW5kKCdtZXRhZGF0YScsIHRoaXMuZW5jb2RlTWV0YWRhdGEobWV0YWRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYm9keSA9IGZpbGVCb2R5O1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzWydjYWNoZS1jb250cm9sJ10gPSBgbWF4LWFnZT0ke29wdGlvbnMuY2FjaGVDb250cm9sfWA7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddID0gb3B0aW9ucy5jb250ZW50VHlwZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1ldGFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzWyd4LW1ldGFkYXRhJ10gPSB0aGlzLnRvQmFzZTY0KHRoaXMuZW5jb2RlTWV0YWRhdGEobWV0YWRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZmlsZU9wdGlvbnMgPT09IG51bGwgfHwgZmlsZU9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZpbGVPcHRpb25zLmhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgaGVhZGVycyksIGZpbGVPcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjbGVhblBhdGggPSB0aGlzLl9yZW1vdmVFbXB0eUZvbGRlcnMocGF0aCk7XG4gICAgICAgICAgICAgICAgY29uc3QgX3BhdGggPSB0aGlzLl9nZXRGaW5hbFBhdGgoY2xlYW5QYXRoKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSB5aWVsZCB0aGlzLmZldGNoKGAke3RoaXMudXJsfS9vYmplY3QvJHtfcGF0aH1gLCBPYmplY3QuYXNzaWduKHsgbWV0aG9kLCBib2R5OiBib2R5LCBoZWFkZXJzIH0sICgob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmR1cGxleCkgPyB7IGR1cGxleDogb3B0aW9ucy5kdXBsZXggfSA6IHt9KSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB5aWVsZCByZXMuanNvbigpO1xuICAgICAgICAgICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsgcGF0aDogY2xlYW5QYXRoLCBpZDogZGF0YS5JZCwgZnVsbFBhdGg6IGRhdGEuS2V5IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNTdG9yYWdlRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBsb2FkcyBhIGZpbGUgdG8gYW4gZXhpc3RpbmcgYnVja2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhdGggVGhlIGZpbGUgcGF0aCwgaW5jbHVkaW5nIHRoZSBmaWxlIG5hbWUuIFNob3VsZCBiZSBvZiB0aGUgZm9ybWF0IGBmb2xkZXIvc3ViZm9sZGVyL2ZpbGVuYW1lLnBuZ2AuIFRoZSBidWNrZXQgbXVzdCBhbHJlYWR5IGV4aXN0IGJlZm9yZSBhdHRlbXB0aW5nIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0gZmlsZUJvZHkgVGhlIGJvZHkgb2YgdGhlIGZpbGUgdG8gYmUgc3RvcmVkIGluIHRoZSBidWNrZXQuXG4gICAgICovXG4gICAgdXBsb2FkKHBhdGgsIGZpbGVCb2R5LCBmaWxlT3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudXBsb2FkT3JVcGRhdGUoJ1BPU1QnLCBwYXRoLCBmaWxlQm9keSwgZmlsZU9wdGlvbnMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBsb2FkIGEgZmlsZSB3aXRoIGEgdG9rZW4gZ2VuZXJhdGVkIGZyb20gYGNyZWF0ZVNpZ25lZFVwbG9hZFVybGAuXG4gICAgICogQHBhcmFtIHBhdGggVGhlIGZpbGUgcGF0aCwgaW5jbHVkaW5nIHRoZSBmaWxlIG5hbWUuIFNob3VsZCBiZSBvZiB0aGUgZm9ybWF0IGBmb2xkZXIvc3ViZm9sZGVyL2ZpbGVuYW1lLnBuZ2AuIFRoZSBidWNrZXQgbXVzdCBhbHJlYWR5IGV4aXN0IGJlZm9yZSBhdHRlbXB0aW5nIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0gdG9rZW4gVGhlIHRva2VuIGdlbmVyYXRlZCBmcm9tIGBjcmVhdGVTaWduZWRVcGxvYWRVcmxgXG4gICAgICogQHBhcmFtIGZpbGVCb2R5IFRoZSBib2R5IG9mIHRoZSBmaWxlIHRvIGJlIHN0b3JlZCBpbiB0aGUgYnVja2V0LlxuICAgICAqL1xuICAgIHVwbG9hZFRvU2lnbmVkVXJsKHBhdGgsIHRva2VuLCBmaWxlQm9keSwgZmlsZU9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsZWFuUGF0aCA9IHRoaXMuX3JlbW92ZUVtcHR5Rm9sZGVycyhwYXRoKTtcbiAgICAgICAgICAgIGNvbnN0IF9wYXRoID0gdGhpcy5fZ2V0RmluYWxQYXRoKGNsZWFuUGF0aCk7XG4gICAgICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRoaXMudXJsICsgYC9vYmplY3QvdXBsb2FkL3NpZ24vJHtfcGF0aH1gKTtcbiAgICAgICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KCd0b2tlbicsIHRva2VuKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbGV0IGJvZHk7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oeyB1cHNlcnQ6IERFRkFVTFRfRklMRV9PUFRJT05TLnVwc2VydCB9LCBmaWxlT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5oZWFkZXJzKSwgeyAneC11cHNlcnQnOiBTdHJpbmcob3B0aW9ucy51cHNlcnQpIH0pO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgQmxvYiAhPT0gJ3VuZGVmaW5lZCcgJiYgZmlsZUJvZHkgaW5zdGFuY2VvZiBCbG9iKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvZHkgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgICAgICAgICAgICAgICAgYm9keS5hcHBlbmQoJ2NhY2hlQ29udHJvbCcsIG9wdGlvbnMuY2FjaGVDb250cm9sKTtcbiAgICAgICAgICAgICAgICAgICAgYm9keS5hcHBlbmQoJycsIGZpbGVCb2R5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIEZvcm1EYXRhICE9PSAndW5kZWZpbmVkJyAmJiBmaWxlQm9keSBpbnN0YW5jZW9mIEZvcm1EYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvZHkgPSBmaWxlQm9keTtcbiAgICAgICAgICAgICAgICAgICAgYm9keS5hcHBlbmQoJ2NhY2hlQ29udHJvbCcsIG9wdGlvbnMuY2FjaGVDb250cm9sKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJvZHkgPSBmaWxlQm9keTtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1snY2FjaGUtY29udHJvbCddID0gYG1heC1hZ2U9JHtvcHRpb25zLmNhY2hlQ29udHJvbH1gO1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzWydjb250ZW50LXR5cGUnXSA9IG9wdGlvbnMuY29udGVudFR5cGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IHlpZWxkIHRoaXMuZmV0Y2godXJsLnRvU3RyaW5nKCksIHtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgICAgICAgICAgYm9keTogYm9keSxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0geWllbGQgcmVzLmpzb24oKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IHBhdGg6IGNsZWFuUGF0aCwgZnVsbFBhdGg6IGRhdGEuS2V5IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNTdG9yYWdlRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNpZ25lZCB1cGxvYWQgVVJMLlxuICAgICAqIFNpZ25lZCB1cGxvYWQgVVJMcyBjYW4gYmUgdXNlZCB0byB1cGxvYWQgZmlsZXMgdG8gdGhlIGJ1Y2tldCB3aXRob3V0IGZ1cnRoZXIgYXV0aGVudGljYXRpb24uXG4gICAgICogVGhleSBhcmUgdmFsaWQgZm9yIDIgaG91cnMuXG4gICAgICogQHBhcmFtIHBhdGggVGhlIGZpbGUgcGF0aCwgaW5jbHVkaW5nIHRoZSBjdXJyZW50IGZpbGUgbmFtZS4gRm9yIGV4YW1wbGUgYGZvbGRlci9pbWFnZS5wbmdgLlxuICAgICAqIEBwYXJhbSBvcHRpb25zLnVwc2VydCBJZiBzZXQgdG8gdHJ1ZSwgYWxsb3dzIHRoZSBmaWxlIHRvIGJlIG92ZXJ3cml0dGVuIGlmIGl0IGFscmVhZHkgZXhpc3RzLlxuICAgICAqL1xuICAgIGNyZWF0ZVNpZ25lZFVwbG9hZFVybChwYXRoLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGxldCBfcGF0aCA9IHRoaXMuX2dldEZpbmFsUGF0aChwYXRoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXJzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5oZWFkZXJzKTtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnVwc2VydCkge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzWyd4LXVwc2VydCddID0gJ3RydWUnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0geWllbGQgcG9zdCh0aGlzLmZldGNoLCBgJHt0aGlzLnVybH0vb2JqZWN0L3VwbG9hZC9zaWduLyR7X3BhdGh9YCwge30sIHsgaGVhZGVycyB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRoaXMudXJsICsgZGF0YS51cmwpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuID0gdXJsLnNlYXJjaFBhcmFtcy5nZXQoJ3Rva2VuJyk7XG4gICAgICAgICAgICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3RvcmFnZUVycm9yKCdObyB0b2tlbiByZXR1cm5lZCBieSBBUEknKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyBzaWduZWRVcmw6IHVybC50b1N0cmluZygpLCBwYXRoLCB0b2tlbiB9LCBlcnJvcjogbnVsbCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzU3RvcmFnZUVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlcGxhY2VzIGFuIGV4aXN0aW5nIGZpbGUgYXQgdGhlIHNwZWNpZmllZCBwYXRoIHdpdGggYSBuZXcgb25lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhdGggVGhlIHJlbGF0aXZlIGZpbGUgcGF0aC4gU2hvdWxkIGJlIG9mIHRoZSBmb3JtYXQgYGZvbGRlci9zdWJmb2xkZXIvZmlsZW5hbWUucG5nYC4gVGhlIGJ1Y2tldCBtdXN0IGFscmVhZHkgZXhpc3QgYmVmb3JlIGF0dGVtcHRpbmcgdG8gdXBkYXRlLlxuICAgICAqIEBwYXJhbSBmaWxlQm9keSBUaGUgYm9keSBvZiB0aGUgZmlsZSB0byBiZSBzdG9yZWQgaW4gdGhlIGJ1Y2tldC5cbiAgICAgKi9cbiAgICB1cGRhdGUocGF0aCwgZmlsZUJvZHksIGZpbGVPcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51cGxvYWRPclVwZGF0ZSgnUFVUJywgcGF0aCwgZmlsZUJvZHksIGZpbGVPcHRpb25zKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1vdmVzIGFuIGV4aXN0aW5nIGZpbGUgdG8gYSBuZXcgcGF0aCBpbiB0aGUgc2FtZSBidWNrZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZnJvbVBhdGggVGhlIG9yaWdpbmFsIGZpbGUgcGF0aCwgaW5jbHVkaW5nIHRoZSBjdXJyZW50IGZpbGUgbmFtZS4gRm9yIGV4YW1wbGUgYGZvbGRlci9pbWFnZS5wbmdgLlxuICAgICAqIEBwYXJhbSB0b1BhdGggVGhlIG5ldyBmaWxlIHBhdGgsIGluY2x1ZGluZyB0aGUgbmV3IGZpbGUgbmFtZS4gRm9yIGV4YW1wbGUgYGZvbGRlci9pbWFnZS1uZXcucG5nYC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgZGVzdGluYXRpb24gb3B0aW9ucy5cbiAgICAgKi9cbiAgICBtb3ZlKGZyb21QYXRoLCB0b1BhdGgsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHlpZWxkIHBvc3QodGhpcy5mZXRjaCwgYCR7dGhpcy51cmx9L29iamVjdC9tb3ZlYCwge1xuICAgICAgICAgICAgICAgICAgICBidWNrZXRJZDogdGhpcy5idWNrZXRJZCxcbiAgICAgICAgICAgICAgICAgICAgc291cmNlS2V5OiBmcm9tUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb25LZXk6IHRvUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb25CdWNrZXQ6IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5kZXN0aW5hdGlvbkJ1Y2tldCxcbiAgICAgICAgICAgICAgICB9LCB7IGhlYWRlcnM6IHRoaXMuaGVhZGVycyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzU3RvcmFnZUVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvcGllcyBhbiBleGlzdGluZyBmaWxlIHRvIGEgbmV3IHBhdGggaW4gdGhlIHNhbWUgYnVja2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGZyb21QYXRoIFRoZSBvcmlnaW5hbCBmaWxlIHBhdGgsIGluY2x1ZGluZyB0aGUgY3VycmVudCBmaWxlIG5hbWUuIEZvciBleGFtcGxlIGBmb2xkZXIvaW1hZ2UucG5nYC5cbiAgICAgKiBAcGFyYW0gdG9QYXRoIFRoZSBuZXcgZmlsZSBwYXRoLCBpbmNsdWRpbmcgdGhlIG5ldyBmaWxlIG5hbWUuIEZvciBleGFtcGxlIGBmb2xkZXIvaW1hZ2UtY29weS5wbmdgLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIFRoZSBkZXN0aW5hdGlvbiBvcHRpb25zLlxuICAgICAqL1xuICAgIGNvcHkoZnJvbVBhdGgsIHRvUGF0aCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0geWllbGQgcG9zdCh0aGlzLmZldGNoLCBgJHt0aGlzLnVybH0vb2JqZWN0L2NvcHlgLCB7XG4gICAgICAgICAgICAgICAgICAgIGJ1Y2tldElkOiB0aGlzLmJ1Y2tldElkLFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VLZXk6IGZyb21QYXRoLFxuICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbktleTogdG9QYXRoLFxuICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbkJ1Y2tldDogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmRlc3RpbmF0aW9uQnVja2V0LFxuICAgICAgICAgICAgICAgIH0sIHsgaGVhZGVyczogdGhpcy5oZWFkZXJzIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgcGF0aDogZGF0YS5LZXkgfSwgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChpc1N0b3JhZ2VFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2lnbmVkIFVSTC4gVXNlIGEgc2lnbmVkIFVSTCB0byBzaGFyZSBhIGZpbGUgZm9yIGEgZml4ZWQgYW1vdW50IG9mIHRpbWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aCBUaGUgZmlsZSBwYXRoLCBpbmNsdWRpbmcgdGhlIGN1cnJlbnQgZmlsZSBuYW1lLiBGb3IgZXhhbXBsZSBgZm9sZGVyL2ltYWdlLnBuZ2AuXG4gICAgICogQHBhcmFtIGV4cGlyZXNJbiBUaGUgbnVtYmVyIG9mIHNlY29uZHMgdW50aWwgdGhlIHNpZ25lZCBVUkwgZXhwaXJlcy4gRm9yIGV4YW1wbGUsIGA2MGAgZm9yIGEgVVJMIHdoaWNoIGlzIHZhbGlkIGZvciBvbmUgbWludXRlLlxuICAgICAqIEBwYXJhbSBvcHRpb25zLmRvd25sb2FkIHRyaWdnZXJzIHRoZSBmaWxlIGFzIGEgZG93bmxvYWQgaWYgc2V0IHRvIHRydWUuIFNldCB0aGlzIHBhcmFtZXRlciBhcyB0aGUgbmFtZSBvZiB0aGUgZmlsZSBpZiB5b3Ugd2FudCB0byB0cmlnZ2VyIHRoZSBkb3dubG9hZCB3aXRoIGEgZGlmZmVyZW50IGZpbGVuYW1lLlxuICAgICAqIEBwYXJhbSBvcHRpb25zLnRyYW5zZm9ybSBUcmFuc2Zvcm0gdGhlIGFzc2V0IGJlZm9yZSBzZXJ2aW5nIGl0IHRvIHRoZSBjbGllbnQuXG4gICAgICovXG4gICAgY3JlYXRlU2lnbmVkVXJsKHBhdGgsIGV4cGlyZXNJbiwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBsZXQgX3BhdGggPSB0aGlzLl9nZXRGaW5hbFBhdGgocGF0aCk7XG4gICAgICAgICAgICAgICAgbGV0IGRhdGEgPSB5aWVsZCBwb3N0KHRoaXMuZmV0Y2gsIGAke3RoaXMudXJsfS9vYmplY3Qvc2lnbi8ke19wYXRofWAsIE9iamVjdC5hc3NpZ24oeyBleHBpcmVzSW4gfSwgKChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMudHJhbnNmb3JtKSA/IHsgdHJhbnNmb3JtOiBvcHRpb25zLnRyYW5zZm9ybSB9IDoge30pKSwgeyBoZWFkZXJzOiB0aGlzLmhlYWRlcnMgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZG93bmxvYWRRdWVyeVBhcmFtID0gKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5kb3dubG9hZClcbiAgICAgICAgICAgICAgICAgICAgPyBgJmRvd25sb2FkPSR7b3B0aW9ucy5kb3dubG9hZCA9PT0gdHJ1ZSA/ICcnIDogb3B0aW9ucy5kb3dubG9hZH1gXG4gICAgICAgICAgICAgICAgICAgIDogJyc7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2lnbmVkVXJsID0gZW5jb2RlVVJJKGAke3RoaXMudXJsfSR7ZGF0YS5zaWduZWRVUkx9JHtkb3dubG9hZFF1ZXJ5UGFyYW19YCk7XG4gICAgICAgICAgICAgICAgZGF0YSA9IHsgc2lnbmVkVXJsIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChpc1N0b3JhZ2VFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIG11bHRpcGxlIHNpZ25lZCBVUkxzLiBVc2UgYSBzaWduZWQgVVJMIHRvIHNoYXJlIGEgZmlsZSBmb3IgYSBmaXhlZCBhbW91bnQgb2YgdGltZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRocyBUaGUgZmlsZSBwYXRocyB0byBiZSBkb3dubG9hZGVkLCBpbmNsdWRpbmcgdGhlIGN1cnJlbnQgZmlsZSBuYW1lcy4gRm9yIGV4YW1wbGUgYFsnZm9sZGVyL2ltYWdlLnBuZycsICdmb2xkZXIyL2ltYWdlMi5wbmcnXWAuXG4gICAgICogQHBhcmFtIGV4cGlyZXNJbiBUaGUgbnVtYmVyIG9mIHNlY29uZHMgdW50aWwgdGhlIHNpZ25lZCBVUkxzIGV4cGlyZS4gRm9yIGV4YW1wbGUsIGA2MGAgZm9yIFVSTHMgd2hpY2ggYXJlIHZhbGlkIGZvciBvbmUgbWludXRlLlxuICAgICAqIEBwYXJhbSBvcHRpb25zLmRvd25sb2FkIHRyaWdnZXJzIHRoZSBmaWxlIGFzIGEgZG93bmxvYWQgaWYgc2V0IHRvIHRydWUuIFNldCB0aGlzIHBhcmFtZXRlciBhcyB0aGUgbmFtZSBvZiB0aGUgZmlsZSBpZiB5b3Ugd2FudCB0byB0cmlnZ2VyIHRoZSBkb3dubG9hZCB3aXRoIGEgZGlmZmVyZW50IGZpbGVuYW1lLlxuICAgICAqL1xuICAgIGNyZWF0ZVNpZ25lZFVybHMocGF0aHMsIGV4cGlyZXNJbiwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0geWllbGQgcG9zdCh0aGlzLmZldGNoLCBgJHt0aGlzLnVybH0vb2JqZWN0L3NpZ24vJHt0aGlzLmJ1Y2tldElkfWAsIHsgZXhwaXJlc0luLCBwYXRocyB9LCB7IGhlYWRlcnM6IHRoaXMuaGVhZGVycyB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBkb3dubG9hZFF1ZXJ5UGFyYW0gPSAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmRvd25sb2FkKVxuICAgICAgICAgICAgICAgICAgICA/IGAmZG93bmxvYWQ9JHtvcHRpb25zLmRvd25sb2FkID09PSB0cnVlID8gJycgOiBvcHRpb25zLmRvd25sb2FkfWBcbiAgICAgICAgICAgICAgICAgICAgOiAnJztcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLm1hcCgoZGF0dW0pID0+IChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGRhdHVtKSwgeyBzaWduZWRVcmw6IGRhdHVtLnNpZ25lZFVSTFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZW5jb2RlVVJJKGAke3RoaXMudXJsfSR7ZGF0dW0uc2lnbmVkVVJMfSR7ZG93bmxvYWRRdWVyeVBhcmFtfWApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsIH0pKSksXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNTdG9yYWdlRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRG93bmxvYWRzIGEgZmlsZSBmcm9tIGEgcHJpdmF0ZSBidWNrZXQuIEZvciBwdWJsaWMgYnVja2V0cywgbWFrZSBhIHJlcXVlc3QgdG8gdGhlIFVSTCByZXR1cm5lZCBmcm9tIGBnZXRQdWJsaWNVcmxgIGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aCBUaGUgZnVsbCBwYXRoIGFuZCBmaWxlIG5hbWUgb2YgdGhlIGZpbGUgdG8gYmUgZG93bmxvYWRlZC4gRm9yIGV4YW1wbGUgYGZvbGRlci9pbWFnZS5wbmdgLlxuICAgICAqIEBwYXJhbSBvcHRpb25zLnRyYW5zZm9ybSBUcmFuc2Zvcm0gdGhlIGFzc2V0IGJlZm9yZSBzZXJ2aW5nIGl0IHRvIHRoZSBjbGllbnQuXG4gICAgICovXG4gICAgZG93bmxvYWQocGF0aCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3Qgd2FudHNUcmFuc2Zvcm1hdGlvbiA9IHR5cGVvZiAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnRyYW5zZm9ybSkgIT09ICd1bmRlZmluZWQnO1xuICAgICAgICAgICAgY29uc3QgcmVuZGVyUGF0aCA9IHdhbnRzVHJhbnNmb3JtYXRpb24gPyAncmVuZGVyL2ltYWdlL2F1dGhlbnRpY2F0ZWQnIDogJ29iamVjdCc7XG4gICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm1hdGlvblF1ZXJ5ID0gdGhpcy50cmFuc2Zvcm1PcHRzVG9RdWVyeVN0cmluZygob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnRyYW5zZm9ybSkgfHwge30pO1xuICAgICAgICAgICAgY29uc3QgcXVlcnlTdHJpbmcgPSB0cmFuc2Zvcm1hdGlvblF1ZXJ5ID8gYD8ke3RyYW5zZm9ybWF0aW9uUXVlcnl9YCA6ICcnO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfcGF0aCA9IHRoaXMuX2dldEZpbmFsUGF0aChwYXRoKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSB5aWVsZCBnZXQodGhpcy5mZXRjaCwgYCR7dGhpcy51cmx9LyR7cmVuZGVyUGF0aH0vJHtfcGF0aH0ke3F1ZXJ5U3RyaW5nfWAsIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICBub1Jlc29sdmVKc29uOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB5aWVsZCByZXMuYmxvYigpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNTdG9yYWdlRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBkZXRhaWxzIG9mIGFuIGV4aXN0aW5nIGZpbGUuXG4gICAgICogQHBhcmFtIHBhdGhcbiAgICAgKi9cbiAgICBpbmZvKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IF9wYXRoID0gdGhpcy5fZ2V0RmluYWxQYXRoKHBhdGgpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0geWllbGQgZ2V0KHRoaXMuZmV0Y2gsIGAke3RoaXMudXJsfS9vYmplY3QvaW5mby8ke19wYXRofWAsIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHJlY3Vyc2l2ZVRvQ2FtZWwoZGF0YSksIGVycm9yOiBudWxsIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNTdG9yYWdlRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRoZSBleGlzdGVuY2Ugb2YgYSBmaWxlLlxuICAgICAqIEBwYXJhbSBwYXRoXG4gICAgICovXG4gICAgZXhpc3RzKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IF9wYXRoID0gdGhpcy5fZ2V0RmluYWxQYXRoKHBhdGgpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB5aWVsZCBoZWFkKHRoaXMuZmV0Y2gsIGAke3RoaXMudXJsfS9vYmplY3QvJHtfcGF0aH1gLCB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiB0cnVlLCBlcnJvcjogbnVsbCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzU3RvcmFnZUVycm9yKGVycm9yKSAmJiBlcnJvciBpbnN0YW5jZW9mIFN0b3JhZ2VVbmtub3duRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxFcnJvciA9IGVycm9yLm9yaWdpbmFsRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIGlmIChbNDAwLCA0MDRdLmluY2x1ZGVzKG9yaWdpbmFsRXJyb3IgPT09IG51bGwgfHwgb3JpZ2luYWxFcnJvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3JpZ2luYWxFcnJvci5zdGF0dXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiBmYWxzZSwgZXJyb3IgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgc2ltcGxlIGNvbnZlbmllbmNlIGZ1bmN0aW9uIHRvIGdldCB0aGUgVVJMIGZvciBhbiBhc3NldCBpbiBhIHB1YmxpYyBidWNrZXQuIElmIHlvdSBkbyBub3Qgd2FudCB0byB1c2UgdGhpcyBmdW5jdGlvbiwgeW91IGNhbiBjb25zdHJ1Y3QgdGhlIHB1YmxpYyBVUkwgYnkgY29uY2F0ZW5hdGluZyB0aGUgYnVja2V0IFVSTCB3aXRoIHRoZSBwYXRoIHRvIHRoZSBhc3NldC5cbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGRvZXMgbm90IHZlcmlmeSBpZiB0aGUgYnVja2V0IGlzIHB1YmxpYy4gSWYgYSBwdWJsaWMgVVJMIGlzIGNyZWF0ZWQgZm9yIGEgYnVja2V0IHdoaWNoIGlzIG5vdCBwdWJsaWMsIHlvdSB3aWxsIG5vdCBiZSBhYmxlIHRvIGRvd25sb2FkIHRoZSBhc3NldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoIFRoZSBwYXRoIGFuZCBuYW1lIG9mIHRoZSBmaWxlIHRvIGdlbmVyYXRlIHRoZSBwdWJsaWMgVVJMIGZvci4gRm9yIGV4YW1wbGUgYGZvbGRlci9pbWFnZS5wbmdgLlxuICAgICAqIEBwYXJhbSBvcHRpb25zLmRvd25sb2FkIFRyaWdnZXJzIHRoZSBmaWxlIGFzIGEgZG93bmxvYWQgaWYgc2V0IHRvIHRydWUuIFNldCB0aGlzIHBhcmFtZXRlciBhcyB0aGUgbmFtZSBvZiB0aGUgZmlsZSBpZiB5b3Ugd2FudCB0byB0cmlnZ2VyIHRoZSBkb3dubG9hZCB3aXRoIGEgZGlmZmVyZW50IGZpbGVuYW1lLlxuICAgICAqIEBwYXJhbSBvcHRpb25zLnRyYW5zZm9ybSBUcmFuc2Zvcm0gdGhlIGFzc2V0IGJlZm9yZSBzZXJ2aW5nIGl0IHRvIHRoZSBjbGllbnQuXG4gICAgICovXG4gICAgZ2V0UHVibGljVXJsKHBhdGgsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgX3BhdGggPSB0aGlzLl9nZXRGaW5hbFBhdGgocGF0aCk7XG4gICAgICAgIGNvbnN0IF9xdWVyeVN0cmluZyA9IFtdO1xuICAgICAgICBjb25zdCBkb3dubG9hZFF1ZXJ5UGFyYW0gPSAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmRvd25sb2FkKVxuICAgICAgICAgICAgPyBgZG93bmxvYWQ9JHtvcHRpb25zLmRvd25sb2FkID09PSB0cnVlID8gJycgOiBvcHRpb25zLmRvd25sb2FkfWBcbiAgICAgICAgICAgIDogJyc7XG4gICAgICAgIGlmIChkb3dubG9hZFF1ZXJ5UGFyYW0gIT09ICcnKSB7XG4gICAgICAgICAgICBfcXVlcnlTdHJpbmcucHVzaChkb3dubG9hZFF1ZXJ5UGFyYW0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHdhbnRzVHJhbnNmb3JtYXRpb24gPSB0eXBlb2YgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy50cmFuc2Zvcm0pICE9PSAndW5kZWZpbmVkJztcbiAgICAgICAgY29uc3QgcmVuZGVyUGF0aCA9IHdhbnRzVHJhbnNmb3JtYXRpb24gPyAncmVuZGVyL2ltYWdlJyA6ICdvYmplY3QnO1xuICAgICAgICBjb25zdCB0cmFuc2Zvcm1hdGlvblF1ZXJ5ID0gdGhpcy50cmFuc2Zvcm1PcHRzVG9RdWVyeVN0cmluZygob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnRyYW5zZm9ybSkgfHwge30pO1xuICAgICAgICBpZiAodHJhbnNmb3JtYXRpb25RdWVyeSAhPT0gJycpIHtcbiAgICAgICAgICAgIF9xdWVyeVN0cmluZy5wdXNoKHRyYW5zZm9ybWF0aW9uUXVlcnkpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBxdWVyeVN0cmluZyA9IF9xdWVyeVN0cmluZy5qb2luKCcmJyk7XG4gICAgICAgIGlmIChxdWVyeVN0cmluZyAhPT0gJycpIHtcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nID0gYD8ke3F1ZXJ5U3RyaW5nfWA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRhdGE6IHsgcHVibGljVXJsOiBlbmNvZGVVUkkoYCR7dGhpcy51cmx9LyR7cmVuZGVyUGF0aH0vcHVibGljLyR7X3BhdGh9JHtxdWVyeVN0cmluZ31gKSB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGVzIGZpbGVzIHdpdGhpbiB0aGUgc2FtZSBidWNrZXRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRocyBBbiBhcnJheSBvZiBmaWxlcyB0byBkZWxldGUsIGluY2x1ZGluZyB0aGUgcGF0aCBhbmQgZmlsZSBuYW1lLiBGb3IgZXhhbXBsZSBbYCdmb2xkZXIvaW1hZ2UucG5nJ2BdLlxuICAgICAqL1xuICAgIHJlbW92ZShwYXRocykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0geWllbGQgcmVtb3ZlKHRoaXMuZmV0Y2gsIGAke3RoaXMudXJsfS9vYmplY3QvJHt0aGlzLmJ1Y2tldElkfWAsIHsgcHJlZml4ZXM6IHBhdGhzIH0sIHsgaGVhZGVyczogdGhpcy5oZWFkZXJzIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNTdG9yYWdlRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGZpbGUgbWV0YWRhdGFcbiAgICAgKiBAcGFyYW0gaWQgdGhlIGZpbGUgaWQgdG8gcmV0cmlldmUgbWV0YWRhdGFcbiAgICAgKi9cbiAgICAvLyBhc3luYyBnZXRNZXRhZGF0YShcbiAgICAvLyAgIGlkOiBzdHJpbmdcbiAgICAvLyApOiBQcm9taXNlPFxuICAgIC8vICAgfCB7XG4gICAgLy8gICAgICAgZGF0YTogTWV0YWRhdGFcbiAgICAvLyAgICAgICBlcnJvcjogbnVsbFxuICAgIC8vICAgICB9XG4gICAgLy8gICB8IHtcbiAgICAvLyAgICAgICBkYXRhOiBudWxsXG4gICAgLy8gICAgICAgZXJyb3I6IFN0b3JhZ2VFcnJvclxuICAgIC8vICAgICB9XG4gICAgLy8gPiB7XG4gICAgLy8gICB0cnkge1xuICAgIC8vICAgICBjb25zdCBkYXRhID0gYXdhaXQgZ2V0KHRoaXMuZmV0Y2gsIGAke3RoaXMudXJsfS9tZXRhZGF0YS8ke2lkfWAsIHsgaGVhZGVyczogdGhpcy5oZWFkZXJzIH0pXG4gICAgLy8gICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH1cbiAgICAvLyAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgLy8gICAgIGlmIChpc1N0b3JhZ2VFcnJvcihlcnJvcikpIHtcbiAgICAvLyAgICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9XG4gICAgLy8gICAgIH1cbiAgICAvLyAgICAgdGhyb3cgZXJyb3JcbiAgICAvLyAgIH1cbiAgICAvLyB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIGZpbGUgbWV0YWRhdGFcbiAgICAgKiBAcGFyYW0gaWQgdGhlIGZpbGUgaWQgdG8gdXBkYXRlIG1ldGFkYXRhXG4gICAgICogQHBhcmFtIG1ldGEgdGhlIG5ldyBmaWxlIG1ldGFkYXRhXG4gICAgICovXG4gICAgLy8gYXN5bmMgdXBkYXRlTWV0YWRhdGEoXG4gICAgLy8gICBpZDogc3RyaW5nLFxuICAgIC8vICAgbWV0YTogTWV0YWRhdGFcbiAgICAvLyApOiBQcm9taXNlPFxuICAgIC8vICAgfCB7XG4gICAgLy8gICAgICAgZGF0YTogTWV0YWRhdGFcbiAgICAvLyAgICAgICBlcnJvcjogbnVsbFxuICAgIC8vICAgICB9XG4gICAgLy8gICB8IHtcbiAgICAvLyAgICAgICBkYXRhOiBudWxsXG4gICAgLy8gICAgICAgZXJyb3I6IFN0b3JhZ2VFcnJvclxuICAgIC8vICAgICB9XG4gICAgLy8gPiB7XG4gICAgLy8gICB0cnkge1xuICAgIC8vICAgICBjb25zdCBkYXRhID0gYXdhaXQgcG9zdChcbiAgICAvLyAgICAgICB0aGlzLmZldGNoLFxuICAgIC8vICAgICAgIGAke3RoaXMudXJsfS9tZXRhZGF0YS8ke2lkfWAsXG4gICAgLy8gICAgICAgeyAuLi5tZXRhIH0sXG4gICAgLy8gICAgICAgeyBoZWFkZXJzOiB0aGlzLmhlYWRlcnMgfVxuICAgIC8vICAgICApXG4gICAgLy8gICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH1cbiAgICAvLyAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgLy8gICAgIGlmIChpc1N0b3JhZ2VFcnJvcihlcnJvcikpIHtcbiAgICAvLyAgICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9XG4gICAgLy8gICAgIH1cbiAgICAvLyAgICAgdGhyb3cgZXJyb3JcbiAgICAvLyAgIH1cbiAgICAvLyB9XG4gICAgLyoqXG4gICAgICogTGlzdHMgYWxsIHRoZSBmaWxlcyB3aXRoaW4gYSBidWNrZXQuXG4gICAgICogQHBhcmFtIHBhdGggVGhlIGZvbGRlciBwYXRoLlxuICAgICAqL1xuICAgIGxpc3QocGF0aCwgb3B0aW9ucywgcGFyYW1ldGVycykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBib2R5ID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VBUkNIX09QVElPTlMpLCBvcHRpb25zKSwgeyBwcmVmaXg6IHBhdGggfHwgJycgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHlpZWxkIHBvc3QodGhpcy5mZXRjaCwgYCR7dGhpcy51cmx9L29iamVjdC9saXN0LyR7dGhpcy5idWNrZXRJZH1gLCBib2R5LCB7IGhlYWRlcnM6IHRoaXMuaGVhZGVycyB9LCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzU3RvcmFnZUVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVuY29kZU1ldGFkYXRhKG1ldGFkYXRhKSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShtZXRhZGF0YSk7XG4gICAgfVxuICAgIHRvQmFzZTY0KGRhdGEpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBCdWZmZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gQnVmZmVyLmZyb20oZGF0YSkudG9TdHJpbmcoJ2Jhc2U2NCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBidG9hKGRhdGEpO1xuICAgIH1cbiAgICBfZ2V0RmluYWxQYXRoKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuYnVja2V0SWR9LyR7cGF0aH1gO1xuICAgIH1cbiAgICBfcmVtb3ZlRW1wdHlGb2xkZXJzKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIHBhdGgucmVwbGFjZSgvXlxcL3xcXC8kL2csICcnKS5yZXBsYWNlKC9cXC8rL2csICcvJyk7XG4gICAgfVxuICAgIHRyYW5zZm9ybU9wdHNUb1F1ZXJ5U3RyaW5nKHRyYW5zZm9ybSkge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSBbXTtcbiAgICAgICAgaWYgKHRyYW5zZm9ybS53aWR0aCkge1xuICAgICAgICAgICAgcGFyYW1zLnB1c2goYHdpZHRoPSR7dHJhbnNmb3JtLndpZHRofWApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0cmFuc2Zvcm0uaGVpZ2h0KSB7XG4gICAgICAgICAgICBwYXJhbXMucHVzaChgaGVpZ2h0PSR7dHJhbnNmb3JtLmhlaWdodH1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHJhbnNmb3JtLnJlc2l6ZSkge1xuICAgICAgICAgICAgcGFyYW1zLnB1c2goYHJlc2l6ZT0ke3RyYW5zZm9ybS5yZXNpemV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRyYW5zZm9ybS5mb3JtYXQpIHtcbiAgICAgICAgICAgIHBhcmFtcy5wdXNoKGBmb3JtYXQ9JHt0cmFuc2Zvcm0uZm9ybWF0fWApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0cmFuc2Zvcm0ucXVhbGl0eSkge1xuICAgICAgICAgICAgcGFyYW1zLnB1c2goYHF1YWxpdHk9JHt0cmFuc2Zvcm0ucXVhbGl0eX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyYW1zLmpvaW4oJyYnKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdG9yYWdlRmlsZUFwaS5qcy5tYXAiLCIvLyBnZW5lcmF0ZWQgYnkgZ2VudmVyc2lvblxuZXhwb3J0IGNvbnN0IHZlcnNpb24gPSAnMi43LjEnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmVyc2lvbi5qcy5tYXAiLCJpbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSAnLi92ZXJzaW9uJztcbmV4cG9ydCBjb25zdCBERUZBVUxUX0hFQURFUlMgPSB7ICdYLUNsaWVudC1JbmZvJzogYHN0b3JhZ2UtanMvJHt2ZXJzaW9ufWAgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50cy5qcy5tYXAiLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmltcG9ydCB7IERFRkFVTFRfSEVBREVSUyB9IGZyb20gJy4uL2xpYi9jb25zdGFudHMnO1xuaW1wb3J0IHsgaXNTdG9yYWdlRXJyb3IgfSBmcm9tICcuLi9saWIvZXJyb3JzJztcbmltcG9ydCB7IGdldCwgcG9zdCwgcHV0LCByZW1vdmUgfSBmcm9tICcuLi9saWIvZmV0Y2gnO1xuaW1wb3J0IHsgcmVzb2x2ZUZldGNoIH0gZnJvbSAnLi4vbGliL2hlbHBlcnMnO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RvcmFnZUJ1Y2tldEFwaSB7XG4gICAgY29uc3RydWN0b3IodXJsLCBoZWFkZXJzID0ge30sIGZldGNoKSB7XG4gICAgICAgIHRoaXMudXJsID0gdXJsO1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfSEVBREVSUyksIGhlYWRlcnMpO1xuICAgICAgICB0aGlzLmZldGNoID0gcmVzb2x2ZUZldGNoKGZldGNoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBkZXRhaWxzIG9mIGFsbCBTdG9yYWdlIGJ1Y2tldHMgd2l0aGluIGFuIGV4aXN0aW5nIHByb2plY3QuXG4gICAgICovXG4gICAgbGlzdEJ1Y2tldHMoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB5aWVsZCBnZXQodGhpcy5mZXRjaCwgYCR7dGhpcy51cmx9L2J1Y2tldGAsIHsgaGVhZGVyczogdGhpcy5oZWFkZXJzIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNTdG9yYWdlRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBkZXRhaWxzIG9mIGFuIGV4aXN0aW5nIFN0b3JhZ2UgYnVja2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGlkIFRoZSB1bmlxdWUgaWRlbnRpZmllciBvZiB0aGUgYnVja2V0IHlvdSB3b3VsZCBsaWtlIHRvIHJldHJpZXZlLlxuICAgICAqL1xuICAgIGdldEJ1Y2tldChpZCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0geWllbGQgZ2V0KHRoaXMuZmV0Y2gsIGAke3RoaXMudXJsfS9idWNrZXQvJHtpZH1gLCB7IGhlYWRlcnM6IHRoaXMuaGVhZGVycyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzU3RvcmFnZUVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgU3RvcmFnZSBidWNrZXRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBpZCBBIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgYnVja2V0IHlvdSBhcmUgY3JlYXRpbmcuXG4gICAgICogQHBhcmFtIG9wdGlvbnMucHVibGljIFRoZSB2aXNpYmlsaXR5IG9mIHRoZSBidWNrZXQuIFB1YmxpYyBidWNrZXRzIGRvbid0IHJlcXVpcmUgYW4gYXV0aG9yaXphdGlvbiB0b2tlbiB0byBkb3dubG9hZCBvYmplY3RzLCBidXQgc3RpbGwgcmVxdWlyZSBhIHZhbGlkIHRva2VuIGZvciBhbGwgb3RoZXIgb3BlcmF0aW9ucy4gQnkgZGVmYXVsdCwgYnVja2V0cyBhcmUgcHJpdmF0ZS5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5maWxlU2l6ZUxpbWl0IHNwZWNpZmllcyB0aGUgbWF4IGZpbGUgc2l6ZSBpbiBieXRlcyB0aGF0IGNhbiBiZSB1cGxvYWRlZCB0byB0aGlzIGJ1Y2tldC5cbiAgICAgKiBUaGUgZ2xvYmFsIGZpbGUgc2l6ZSBsaW1pdCB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgdGhpcyB2YWx1ZS5cbiAgICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBudWxsLCB3aGljaCBkb2Vzbid0IHNldCBhIHBlciBidWNrZXQgZmlsZSBzaXplIGxpbWl0LlxuICAgICAqIEBwYXJhbSBvcHRpb25zLmFsbG93ZWRNaW1lVHlwZXMgc3BlY2lmaWVzIHRoZSBhbGxvd2VkIG1pbWUgdHlwZXMgdGhhdCB0aGlzIGJ1Y2tldCBjYW4gYWNjZXB0IGR1cmluZyB1cGxvYWQuXG4gICAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgbnVsbCwgd2hpY2ggYWxsb3dzIGZpbGVzIHdpdGggYWxsIG1pbWUgdHlwZXMgdG8gYmUgdXBsb2FkZWQuXG4gICAgICogRWFjaCBtaW1lIHR5cGUgc3BlY2lmaWVkIGNhbiBiZSBhIHdpbGRjYXJkLCBlLmcuIGltYWdlLyosIG9yIGEgc3BlY2lmaWMgbWltZSB0eXBlLCBlLmcuIGltYWdlL3BuZy5cbiAgICAgKiBAcmV0dXJucyBuZXdseSBjcmVhdGVkIGJ1Y2tldCBpZFxuICAgICAqL1xuICAgIGNyZWF0ZUJ1Y2tldChpZCwgb3B0aW9ucyA9IHtcbiAgICAgICAgcHVibGljOiBmYWxzZSxcbiAgICB9KSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB5aWVsZCBwb3N0KHRoaXMuZmV0Y2gsIGAke3RoaXMudXJsfS9idWNrZXRgLCB7XG4gICAgICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBpZCxcbiAgICAgICAgICAgICAgICAgICAgcHVibGljOiBvcHRpb25zLnB1YmxpYyxcbiAgICAgICAgICAgICAgICAgICAgZmlsZV9zaXplX2xpbWl0OiBvcHRpb25zLmZpbGVTaXplTGltaXQsXG4gICAgICAgICAgICAgICAgICAgIGFsbG93ZWRfbWltZV90eXBlczogb3B0aW9ucy5hbGxvd2VkTWltZVR5cGVzLFxuICAgICAgICAgICAgICAgIH0sIHsgaGVhZGVyczogdGhpcy5oZWFkZXJzIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNTdG9yYWdlRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyBhIFN0b3JhZ2UgYnVja2V0XG4gICAgICpcbiAgICAgKiBAcGFyYW0gaWQgQSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIGJ1Y2tldCB5b3UgYXJlIHVwZGF0aW5nLlxuICAgICAqIEBwYXJhbSBvcHRpb25zLnB1YmxpYyBUaGUgdmlzaWJpbGl0eSBvZiB0aGUgYnVja2V0LiBQdWJsaWMgYnVja2V0cyBkb24ndCByZXF1aXJlIGFuIGF1dGhvcml6YXRpb24gdG9rZW4gdG8gZG93bmxvYWQgb2JqZWN0cywgYnV0IHN0aWxsIHJlcXVpcmUgYSB2YWxpZCB0b2tlbiBmb3IgYWxsIG90aGVyIG9wZXJhdGlvbnMuXG4gICAgICogQHBhcmFtIG9wdGlvbnMuZmlsZVNpemVMaW1pdCBzcGVjaWZpZXMgdGhlIG1heCBmaWxlIHNpemUgaW4gYnl0ZXMgdGhhdCBjYW4gYmUgdXBsb2FkZWQgdG8gdGhpcyBidWNrZXQuXG4gICAgICogVGhlIGdsb2JhbCBmaWxlIHNpemUgbGltaXQgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIHRoaXMgdmFsdWUuXG4gICAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgbnVsbCwgd2hpY2ggZG9lc24ndCBzZXQgYSBwZXIgYnVja2V0IGZpbGUgc2l6ZSBsaW1pdC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5hbGxvd2VkTWltZVR5cGVzIHNwZWNpZmllcyB0aGUgYWxsb3dlZCBtaW1lIHR5cGVzIHRoYXQgdGhpcyBidWNrZXQgY2FuIGFjY2VwdCBkdXJpbmcgdXBsb2FkLlxuICAgICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIG51bGwsIHdoaWNoIGFsbG93cyBmaWxlcyB3aXRoIGFsbCBtaW1lIHR5cGVzIHRvIGJlIHVwbG9hZGVkLlxuICAgICAqIEVhY2ggbWltZSB0eXBlIHNwZWNpZmllZCBjYW4gYmUgYSB3aWxkY2FyZCwgZS5nLiBpbWFnZS8qLCBvciBhIHNwZWNpZmljIG1pbWUgdHlwZSwgZS5nLiBpbWFnZS9wbmcuXG4gICAgICovXG4gICAgdXBkYXRlQnVja2V0KGlkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB5aWVsZCBwdXQodGhpcy5mZXRjaCwgYCR7dGhpcy51cmx9L2J1Y2tldC8ke2lkfWAsIHtcbiAgICAgICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGlkLFxuICAgICAgICAgICAgICAgICAgICBwdWJsaWM6IG9wdGlvbnMucHVibGljLFxuICAgICAgICAgICAgICAgICAgICBmaWxlX3NpemVfbGltaXQ6IG9wdGlvbnMuZmlsZVNpemVMaW1pdCxcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dlZF9taW1lX3R5cGVzOiBvcHRpb25zLmFsbG93ZWRNaW1lVHlwZXMsXG4gICAgICAgICAgICAgICAgfSwgeyBoZWFkZXJzOiB0aGlzLmhlYWRlcnMgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChpc1N0b3JhZ2VFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBvYmplY3RzIGluc2lkZSBhIHNpbmdsZSBidWNrZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaWQgVGhlIHVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSBidWNrZXQgeW91IHdvdWxkIGxpa2UgdG8gZW1wdHkuXG4gICAgICovXG4gICAgZW1wdHlCdWNrZXQoaWQpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHlpZWxkIHBvc3QodGhpcy5mZXRjaCwgYCR7dGhpcy51cmx9L2J1Y2tldC8ke2lkfS9lbXB0eWAsIHt9LCB7IGhlYWRlcnM6IHRoaXMuaGVhZGVycyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhLCBlcnJvcjogbnVsbCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzU3RvcmFnZUVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlbGV0ZXMgYW4gZXhpc3RpbmcgYnVja2V0LiBBIGJ1Y2tldCBjYW4ndCBiZSBkZWxldGVkIHdpdGggZXhpc3Rpbmcgb2JqZWN0cyBpbnNpZGUgaXQuXG4gICAgICogWW91IG11c3QgZmlyc3QgYGVtcHR5KClgIHRoZSBidWNrZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaWQgVGhlIHVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSBidWNrZXQgeW91IHdvdWxkIGxpa2UgdG8gZGVsZXRlLlxuICAgICAqL1xuICAgIGRlbGV0ZUJ1Y2tldChpZCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0geWllbGQgcmVtb3ZlKHRoaXMuZmV0Y2gsIGAke3RoaXMudXJsfS9idWNrZXQvJHtpZH1gLCB7fSwgeyBoZWFkZXJzOiB0aGlzLmhlYWRlcnMgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChpc1N0b3JhZ2VFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0b3JhZ2VCdWNrZXRBcGkuanMubWFwIiwiaW1wb3J0IFN0b3JhZ2VGaWxlQXBpIGZyb20gJy4vcGFja2FnZXMvU3RvcmFnZUZpbGVBcGknO1xuaW1wb3J0IFN0b3JhZ2VCdWNrZXRBcGkgZnJvbSAnLi9wYWNrYWdlcy9TdG9yYWdlQnVja2V0QXBpJztcbmV4cG9ydCBjbGFzcyBTdG9yYWdlQ2xpZW50IGV4dGVuZHMgU3RvcmFnZUJ1Y2tldEFwaSB7XG4gICAgY29uc3RydWN0b3IodXJsLCBoZWFkZXJzID0ge30sIGZldGNoKSB7XG4gICAgICAgIHN1cGVyKHVybCwgaGVhZGVycywgZmV0Y2gpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtIGZpbGUgb3BlcmF0aW9uIGluIGEgYnVja2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGlkIFRoZSBidWNrZXQgaWQgdG8gb3BlcmF0ZSBvbi5cbiAgICAgKi9cbiAgICBmcm9tKGlkKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3RvcmFnZUZpbGVBcGkodGhpcy51cmwsIHRoaXMuaGVhZGVycywgaWQsIHRoaXMuZmV0Y2gpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0b3JhZ2VDbGllbnQuanMubWFwIiwiaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gJy4vdmVyc2lvbic7XG5sZXQgSlNfRU5WID0gJyc7XG4vLyBAdHMtaWdub3JlXG5pZiAodHlwZW9mIERlbm8gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgSlNfRU5WID0gJ2Rlbm8nO1xufVxuZWxzZSBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgIEpTX0VOViA9ICd3ZWInO1xufVxuZWxzZSBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnByb2R1Y3QgPT09ICdSZWFjdE5hdGl2ZScpIHtcbiAgICBKU19FTlYgPSAncmVhY3QtbmF0aXZlJztcbn1cbmVsc2Uge1xuICAgIEpTX0VOViA9ICdub2RlJztcbn1cbmV4cG9ydCBjb25zdCBERUZBVUxUX0hFQURFUlMgPSB7ICdYLUNsaWVudC1JbmZvJzogYHN1cGFiYXNlLWpzLSR7SlNfRU5WfS8ke3ZlcnNpb259YCB9O1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfR0xPQkFMX09QVElPTlMgPSB7XG4gICAgaGVhZGVyczogREVGQVVMVF9IRUFERVJTLFxufTtcbmV4cG9ydCBjb25zdCBERUZBVUxUX0RCX09QVElPTlMgPSB7XG4gICAgc2NoZW1hOiAncHVibGljJyxcbn07XG5leHBvcnQgY29uc3QgREVGQVVMVF9BVVRIX09QVElPTlMgPSB7XG4gICAgYXV0b1JlZnJlc2hUb2tlbjogdHJ1ZSxcbiAgICBwZXJzaXN0U2Vzc2lvbjogdHJ1ZSxcbiAgICBkZXRlY3RTZXNzaW9uSW5Vcmw6IHRydWUsXG4gICAgZmxvd1R5cGU6ICdpbXBsaWNpdCcsXG59O1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfUkVBTFRJTUVfT1BUSU9OUyA9IHt9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IG5vZGVGZXRjaCwgeyBIZWFkZXJzIGFzIE5vZGVGZXRjaEhlYWRlcnMgfSBmcm9tICdAc3VwYWJhc2Uvbm9kZS1mZXRjaCc7XG5leHBvcnQgY29uc3QgcmVzb2x2ZUZldGNoID0gKGN1c3RvbUZldGNoKSA9PiB7XG4gICAgbGV0IF9mZXRjaDtcbiAgICBpZiAoY3VzdG9tRmV0Y2gpIHtcbiAgICAgICAgX2ZldGNoID0gY3VzdG9tRmV0Y2g7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBmZXRjaCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgX2ZldGNoID0gbm9kZUZldGNoO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgX2ZldGNoID0gZmV0Y2g7XG4gICAgfVxuICAgIHJldHVybiAoLi4uYXJncykgPT4gX2ZldGNoKC4uLmFyZ3MpO1xufTtcbmV4cG9ydCBjb25zdCByZXNvbHZlSGVhZGVyc0NvbnN0cnVjdG9yID0gKCkgPT4ge1xuICAgIGlmICh0eXBlb2YgSGVhZGVycyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIE5vZGVGZXRjaEhlYWRlcnM7XG4gICAgfVxuICAgIHJldHVybiBIZWFkZXJzO1xufTtcbmV4cG9ydCBjb25zdCBmZXRjaFdpdGhBdXRoID0gKHN1cGFiYXNlS2V5LCBnZXRBY2Nlc3NUb2tlbiwgY3VzdG9tRmV0Y2gpID0+IHtcbiAgICBjb25zdCBmZXRjaCA9IHJlc29sdmVGZXRjaChjdXN0b21GZXRjaCk7XG4gICAgY29uc3QgSGVhZGVyc0NvbnN0cnVjdG9yID0gcmVzb2x2ZUhlYWRlcnNDb25zdHJ1Y3RvcigpO1xuICAgIHJldHVybiAoaW5wdXQsIGluaXQpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGFjY2Vzc1Rva2VuID0gKF9hID0gKHlpZWxkIGdldEFjY2Vzc1Rva2VuKCkpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBzdXBhYmFzZUtleTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVyc0NvbnN0cnVjdG9yKGluaXQgPT09IG51bGwgfHwgaW5pdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5pdC5oZWFkZXJzKTtcbiAgICAgICAgaWYgKCFoZWFkZXJzLmhhcygnYXBpa2V5JykpIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdhcGlrZXknLCBzdXBhYmFzZUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFoZWFkZXJzLmhhcygnQXV0aG9yaXphdGlvbicpKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHthY2Nlc3NUb2tlbn1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmV0Y2goaW5wdXQsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgaW5pdCksIHsgaGVhZGVycyB9KSk7XG4gICAgfSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmV0Y2guanMubWFwIiwiZXhwb3J0IGNvbnN0IHZlcnNpb24gPSAnMi43MC4wJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZlcnNpb24uanMubWFwIiwiaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gJy4vdmVyc2lvbic7XG4vKiogQ3VycmVudCBzZXNzaW9uIHdpbGwgYmUgY2hlY2tlZCBmb3IgcmVmcmVzaCBhdCB0aGlzIGludGVydmFsLiAqL1xuZXhwb3J0IGNvbnN0IEFVVE9fUkVGUkVTSF9USUNLX0RVUkFUSU9OX01TID0gMzAgKiAxMDAwO1xuLyoqXG4gKiBBIHRva2VuIHJlZnJlc2ggd2lsbCBiZSBhdHRlbXB0ZWQgdGhpcyBtYW55IHRpY2tzIGJlZm9yZSB0aGUgY3VycmVudCBzZXNzaW9uIGV4cGlyZXMuICovXG5leHBvcnQgY29uc3QgQVVUT19SRUZSRVNIX1RJQ0tfVEhSRVNIT0xEID0gMztcbi8qXG4gKiBFYXJsaWVzdCB0aW1lIGJlZm9yZSBhbiBhY2Nlc3MgdG9rZW4gZXhwaXJlcyB0aGF0IHRoZSBzZXNzaW9uIHNob3VsZCBiZSByZWZyZXNoZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBFWFBJUllfTUFSR0lOX01TID0gQVVUT19SRUZSRVNIX1RJQ0tfVEhSRVNIT0xEICogQVVUT19SRUZSRVNIX1RJQ0tfRFVSQVRJT05fTVM7XG5leHBvcnQgY29uc3QgR09UUlVFX1VSTCA9ICdodHRwOi8vbG9jYWxob3N0Ojk5OTknO1xuZXhwb3J0IGNvbnN0IFNUT1JBR0VfS0VZID0gJ3N1cGFiYXNlLmF1dGgudG9rZW4nO1xuZXhwb3J0IGNvbnN0IEFVRElFTkNFID0gJyc7XG5leHBvcnQgY29uc3QgREVGQVVMVF9IRUFERVJTID0geyAnWC1DbGllbnQtSW5mbyc6IGBnb3RydWUtanMvJHt2ZXJzaW9ufWAgfTtcbmV4cG9ydCBjb25zdCBORVRXT1JLX0ZBSUxVUkUgPSB7XG4gICAgTUFYX1JFVFJJRVM6IDEwLFxuICAgIFJFVFJZX0lOVEVSVkFMOiAyLCAvLyBpbiBkZWNpc2Vjb25kc1xufTtcbmV4cG9ydCBjb25zdCBBUElfVkVSU0lPTl9IRUFERVJfTkFNRSA9ICdYLVN1cGFiYXNlLUFwaS1WZXJzaW9uJztcbmV4cG9ydCBjb25zdCBBUElfVkVSU0lPTlMgPSB7XG4gICAgJzIwMjQtMDEtMDEnOiB7XG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5wYXJzZSgnMjAyNC0wMS0wMVQwMDowMDowMC4wWicpLFxuICAgICAgICBuYW1lOiAnMjAyNC0wMS0wMScsXG4gICAgfSxcbn07XG5leHBvcnQgY29uc3QgQkFTRTY0VVJMX1JFR0VYID0gL14oW2EtejAtOV8tXXs0fSkqKCR8W2EtejAtOV8tXXszfSR8W2EtejAtOV8tXXsyfSQpJC9pO1xuZXhwb3J0IGNvbnN0IEpXS1NfVFRMID0gNjAwMDAwOyAvLyAxMCBtaW51dGVzXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMuanMubWFwIiwiZXhwb3J0IGNsYXNzIEF1dGhFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBzdGF0dXMsIGNvZGUpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgICAgIHRoaXMuX19pc0F1dGhFcnJvciA9IHRydWU7XG4gICAgICAgIHRoaXMubmFtZSA9ICdBdXRoRXJyb3InO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgdGhpcy5jb2RlID0gY29kZTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaXNBdXRoRXJyb3IoZXJyb3IpIHtcbiAgICByZXR1cm4gdHlwZW9mIGVycm9yID09PSAnb2JqZWN0JyAmJiBlcnJvciAhPT0gbnVsbCAmJiAnX19pc0F1dGhFcnJvcicgaW4gZXJyb3I7XG59XG5leHBvcnQgY2xhc3MgQXV0aEFwaUVycm9yIGV4dGVuZHMgQXV0aEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBzdGF0dXMsIGNvZGUpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSwgc3RhdHVzLCBjb2RlKTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ0F1dGhBcGlFcnJvcic7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0F1dGhBcGlFcnJvcihlcnJvcikge1xuICAgIHJldHVybiBpc0F1dGhFcnJvcihlcnJvcikgJiYgZXJyb3IubmFtZSA9PT0gJ0F1dGhBcGlFcnJvcic7XG59XG5leHBvcnQgY2xhc3MgQXV0aFVua25vd25FcnJvciBleHRlbmRzIEF1dGhFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgb3JpZ2luYWxFcnJvcikge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ0F1dGhVbmtub3duRXJyb3InO1xuICAgICAgICB0aGlzLm9yaWdpbmFsRXJyb3IgPSBvcmlnaW5hbEVycm9yO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBDdXN0b21BdXRoRXJyb3IgZXh0ZW5kcyBBdXRoRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIG5hbWUsIHN0YXR1cywgY29kZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlLCBzdGF0dXMsIGNvZGUpO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQXV0aFNlc3Npb25NaXNzaW5nRXJyb3IgZXh0ZW5kcyBDdXN0b21BdXRoRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcignQXV0aCBzZXNzaW9uIG1pc3NpbmchJywgJ0F1dGhTZXNzaW9uTWlzc2luZ0Vycm9yJywgNDAwLCB1bmRlZmluZWQpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0F1dGhTZXNzaW9uTWlzc2luZ0Vycm9yKGVycm9yKSB7XG4gICAgcmV0dXJuIGlzQXV0aEVycm9yKGVycm9yKSAmJiBlcnJvci5uYW1lID09PSAnQXV0aFNlc3Npb25NaXNzaW5nRXJyb3InO1xufVxuZXhwb3J0IGNsYXNzIEF1dGhJbnZhbGlkVG9rZW5SZXNwb25zZUVycm9yIGV4dGVuZHMgQ3VzdG9tQXV0aEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ0F1dGggc2Vzc2lvbiBvciB1c2VyIG1pc3NpbmcnLCAnQXV0aEludmFsaWRUb2tlblJlc3BvbnNlRXJyb3InLCA1MDAsIHVuZGVmaW5lZCk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEF1dGhJbnZhbGlkQ3JlZGVudGlhbHNFcnJvciBleHRlbmRzIEN1c3RvbUF1dGhFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlLCAnQXV0aEludmFsaWRDcmVkZW50aWFsc0Vycm9yJywgNDAwLCB1bmRlZmluZWQpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBBdXRoSW1wbGljaXRHcmFudFJlZGlyZWN0RXJyb3IgZXh0ZW5kcyBDdXN0b21BdXRoRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIGRldGFpbHMgPSBudWxsKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsICdBdXRoSW1wbGljaXRHcmFudFJlZGlyZWN0RXJyb3InLCA1MDAsIHVuZGVmaW5lZCk7XG4gICAgICAgIHRoaXMuZGV0YWlscyA9IG51bGw7XG4gICAgICAgIHRoaXMuZGV0YWlscyA9IGRldGFpbHM7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcbiAgICAgICAgICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgICAgICAgICBkZXRhaWxzOiB0aGlzLmRldGFpbHMsXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQXV0aEltcGxpY2l0R3JhbnRSZWRpcmVjdEVycm9yKGVycm9yKSB7XG4gICAgcmV0dXJuIGlzQXV0aEVycm9yKGVycm9yKSAmJiBlcnJvci5uYW1lID09PSAnQXV0aEltcGxpY2l0R3JhbnRSZWRpcmVjdEVycm9yJztcbn1cbmV4cG9ydCBjbGFzcyBBdXRoUEtDRUdyYW50Q29kZUV4Y2hhbmdlRXJyb3IgZXh0ZW5kcyBDdXN0b21BdXRoRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIGRldGFpbHMgPSBudWxsKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsICdBdXRoUEtDRUdyYW50Q29kZUV4Y2hhbmdlRXJyb3InLCA1MDAsIHVuZGVmaW5lZCk7XG4gICAgICAgIHRoaXMuZGV0YWlscyA9IG51bGw7XG4gICAgICAgIHRoaXMuZGV0YWlscyA9IGRldGFpbHM7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcbiAgICAgICAgICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgICAgICAgICBkZXRhaWxzOiB0aGlzLmRldGFpbHMsXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEF1dGhSZXRyeWFibGVGZXRjaEVycm9yIGV4dGVuZHMgQ3VzdG9tQXV0aEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBzdGF0dXMpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSwgJ0F1dGhSZXRyeWFibGVGZXRjaEVycm9yJywgc3RhdHVzLCB1bmRlZmluZWQpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0F1dGhSZXRyeWFibGVGZXRjaEVycm9yKGVycm9yKSB7XG4gICAgcmV0dXJuIGlzQXV0aEVycm9yKGVycm9yKSAmJiBlcnJvci5uYW1lID09PSAnQXV0aFJldHJ5YWJsZUZldGNoRXJyb3InO1xufVxuLyoqXG4gKiBUaGlzIGVycm9yIGlzIHRocm93biBvbiBjZXJ0YWluIG1ldGhvZHMgd2hlbiB0aGUgcGFzc3dvcmQgdXNlZCBpcyBkZWVtZWRcbiAqIHdlYWsuIEluc3BlY3QgdGhlIHJlYXNvbnMgdG8gaWRlbnRpZnkgd2hhdCBwYXNzd29yZCBzdHJlbmd0aCBydWxlcyBhcmVcbiAqIGluYWRlcXVhdGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBBdXRoV2Vha1Bhc3N3b3JkRXJyb3IgZXh0ZW5kcyBDdXN0b21BdXRoRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHN0YXR1cywgcmVhc29ucykge1xuICAgICAgICBzdXBlcihtZXNzYWdlLCAnQXV0aFdlYWtQYXNzd29yZEVycm9yJywgc3RhdHVzLCAnd2Vha19wYXNzd29yZCcpO1xuICAgICAgICB0aGlzLnJlYXNvbnMgPSByZWFzb25zO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0F1dGhXZWFrUGFzc3dvcmRFcnJvcihlcnJvcikge1xuICAgIHJldHVybiBpc0F1dGhFcnJvcihlcnJvcikgJiYgZXJyb3IubmFtZSA9PT0gJ0F1dGhXZWFrUGFzc3dvcmRFcnJvcic7XG59XG5leHBvcnQgY2xhc3MgQXV0aEludmFsaWRKd3RFcnJvciBleHRlbmRzIEN1c3RvbUF1dGhFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlLCAnQXV0aEludmFsaWRKd3RFcnJvcicsIDQwMCwgJ2ludmFsaWRfand0Jyk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3JzLmpzLm1hcCIsIi8qKlxuICogQXZvaWQgbW9kaWZ5aW5nIHRoaXMgZmlsZS4gSXQncyBwYXJ0IG9mXG4gKiBodHRwczovL2dpdGh1Yi5jb20vc3VwYWJhc2UtY29tbXVuaXR5L2Jhc2U2NHVybC1qcy4gIFN1Ym1pdCBhbGwgZml4ZXMgb25cbiAqIHRoYXQgcmVwbyFcbiAqL1xuLyoqXG4gKiBBbiBhcnJheSBvZiBjaGFyYWN0ZXJzIHRoYXQgZW5jb2RlIDYgYml0cyBpbnRvIGEgQmFzZTY0LVVSTCBhbHBoYWJldFxuICogY2hhcmFjdGVyLlxuICovXG5jb25zdCBUT19CQVNFNjRVUkwgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODktXycuc3BsaXQoJycpO1xuLyoqXG4gKiBBbiBhcnJheSBvZiBjaGFyYWN0ZXJzIHRoYXQgY2FuIGFwcGVhciBpbiBhIEJhc2U2NC1VUkwgZW5jb2RlZCBzdHJpbmcgYnV0XG4gKiBzaG91bGQgYmUgaWdub3JlZC5cbiAqL1xuY29uc3QgSUdOT1JFX0JBU0U2NFVSTCA9ICcgXFx0XFxuXFxyPScuc3BsaXQoJycpO1xuLyoqXG4gKiBBbiBhcnJheSBvZiAxMjggbnVtYmVycyB0aGF0IG1hcCBhIEJhc2U2NC1VUkwgY2hhcmFjdGVyIHRvIDYgYml0cywgb3IgaWYgLTJcbiAqIHVzZWQgdG8gc2tpcCB0aGUgY2hhcmFjdGVyLCBvciBpZiAtMSB1c2VkIHRvIGVycm9yIG91dC5cbiAqL1xuY29uc3QgRlJPTV9CQVNFNjRVUkwgPSAoKCkgPT4ge1xuICAgIGNvbnN0IGNoYXJNYXAgPSBuZXcgQXJyYXkoMTI4KTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYXJNYXAubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgY2hhck1hcFtpXSA9IC0xO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IElHTk9SRV9CQVNFNjRVUkwubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgY2hhck1hcFtJR05PUkVfQkFTRTY0VVJMW2ldLmNoYXJDb2RlQXQoMCldID0gLTI7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgVE9fQkFTRTY0VVJMLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGNoYXJNYXBbVE9fQkFTRTY0VVJMW2ldLmNoYXJDb2RlQXQoMCldID0gaTtcbiAgICB9XG4gICAgcmV0dXJuIGNoYXJNYXA7XG59KSgpO1xuLyoqXG4gKiBDb252ZXJ0cyBhIGJ5dGUgdG8gYSBCYXNlNjQtVVJMIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0gYnl0ZSBUaGUgYnl0ZSB0byBjb252ZXJ0LCBvciBudWxsIHRvIGZsdXNoIGF0IHRoZSBlbmQgb2YgdGhlIGJ5dGUgc2VxdWVuY2UuXG4gKiBAcGFyYW0gc3RhdGUgVGhlIEJhc2U2NCBjb252ZXJzaW9uIHN0YXRlLiBQYXNzIGFuIGluaXRpYWwgdmFsdWUgb2YgYHsgcXVldWU6IDAsIHF1ZXVlZEJpdHM6IDAgfWAuXG4gKiBAcGFyYW0gZW1pdCBBIGZ1bmN0aW9uIGNhbGxlZCB3aXRoIHRoZSBuZXh0IEJhc2U2NCBjaGFyYWN0ZXIgd2hlbiByZWFkeS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ5dGVUb0Jhc2U2NFVSTChieXRlLCBzdGF0ZSwgZW1pdCkge1xuICAgIGlmIChieXRlICE9PSBudWxsKSB7XG4gICAgICAgIHN0YXRlLnF1ZXVlID0gKHN0YXRlLnF1ZXVlIDw8IDgpIHwgYnl0ZTtcbiAgICAgICAgc3RhdGUucXVldWVkQml0cyArPSA4O1xuICAgICAgICB3aGlsZSAoc3RhdGUucXVldWVkQml0cyA+PSA2KSB7XG4gICAgICAgICAgICBjb25zdCBwb3MgPSAoc3RhdGUucXVldWUgPj4gKHN0YXRlLnF1ZXVlZEJpdHMgLSA2KSkgJiA2MztcbiAgICAgICAgICAgIGVtaXQoVE9fQkFTRTY0VVJMW3Bvc10pO1xuICAgICAgICAgICAgc3RhdGUucXVldWVkQml0cyAtPSA2O1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHN0YXRlLnF1ZXVlZEJpdHMgPiAwKSB7XG4gICAgICAgIHN0YXRlLnF1ZXVlID0gc3RhdGUucXVldWUgPDwgKDYgLSBzdGF0ZS5xdWV1ZWRCaXRzKTtcbiAgICAgICAgc3RhdGUucXVldWVkQml0cyA9IDY7XG4gICAgICAgIHdoaWxlIChzdGF0ZS5xdWV1ZWRCaXRzID49IDYpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvcyA9IChzdGF0ZS5xdWV1ZSA+PiAoc3RhdGUucXVldWVkQml0cyAtIDYpKSAmIDYzO1xuICAgICAgICAgICAgZW1pdChUT19CQVNFNjRVUkxbcG9zXSk7XG4gICAgICAgICAgICBzdGF0ZS5xdWV1ZWRCaXRzIC09IDY7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIENvbnZlcnRzIGEgU3RyaW5nIGNoYXIgY29kZSAoZXh0cmFjdGVkIHVzaW5nIGBzdHJpbmcuY2hhckNvZGVBdChwb3NpdGlvbilgKSB0byBhIHNlcXVlbmNlIG9mIEJhc2U2NC1VUkwgY2hhcmFjdGVycy5cbiAqXG4gKiBAcGFyYW0gY2hhckNvZGUgVGhlIGNoYXIgY29kZSBvZiB0aGUgSmF2YVNjcmlwdCBzdHJpbmcuXG4gKiBAcGFyYW0gc3RhdGUgVGhlIEJhc2U2NCBzdGF0ZS4gUGFzcyBhbiBpbml0aWFsIHZhbHVlIG9mIGB7IHF1ZXVlOiAwLCBxdWV1ZWRCaXRzOiAwIH1gLlxuICogQHBhcmFtIGVtaXQgQSBmdW5jdGlvbiBjYWxsZWQgd2l0aCB0aGUgbmV4dCBieXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYnl0ZUZyb21CYXNlNjRVUkwoY2hhckNvZGUsIHN0YXRlLCBlbWl0KSB7XG4gICAgY29uc3QgYml0cyA9IEZST01fQkFTRTY0VVJMW2NoYXJDb2RlXTtcbiAgICBpZiAoYml0cyA+IC0xKSB7XG4gICAgICAgIC8vIHZhbGlkIEJhc2U2NC1VUkwgY2hhcmFjdGVyXG4gICAgICAgIHN0YXRlLnF1ZXVlID0gKHN0YXRlLnF1ZXVlIDw8IDYpIHwgYml0cztcbiAgICAgICAgc3RhdGUucXVldWVkQml0cyArPSA2O1xuICAgICAgICB3aGlsZSAoc3RhdGUucXVldWVkQml0cyA+PSA4KSB7XG4gICAgICAgICAgICBlbWl0KChzdGF0ZS5xdWV1ZSA+PiAoc3RhdGUucXVldWVkQml0cyAtIDgpKSAmIDB4ZmYpO1xuICAgICAgICAgICAgc3RhdGUucXVldWVkQml0cyAtPSA4O1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGJpdHMgPT09IC0yKSB7XG4gICAgICAgIC8vIGlnbm9yZSBzcGFjZXMsIHRhYnMsIG5ld2xpbmVzLCA9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBCYXNlNjQtVVJMIGNoYXJhY3RlciBcIiR7U3RyaW5nLmZyb21DaGFyQ29kZShjaGFyQ29kZSl9XCJgKTtcbiAgICB9XG59XG4vKipcbiAqIENvbnZlcnRzIGEgSmF2YVNjcmlwdCBzdHJpbmcgKHdoaWNoIG1heSBpbmNsdWRlIGFueSB2YWxpZCBjaGFyYWN0ZXIpIGludG8gYVxuICogQmFzZTY0LVVSTCBlbmNvZGVkIHN0cmluZy4gVGhlIHN0cmluZyBpcyBmaXJzdCBlbmNvZGVkIGluIFVURi04IHdoaWNoIGlzXG4gKiB0aGVuIGVuY29kZWQgYXMgQmFzZTY0LVVSTC5cbiAqXG4gKiBAcGFyYW0gc3RyIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ1RvQmFzZTY0VVJMKHN0cikge1xuICAgIGNvbnN0IGJhc2U2NCA9IFtdO1xuICAgIGNvbnN0IGVtaXR0ZXIgPSAoY2hhcikgPT4ge1xuICAgICAgICBiYXNlNjQucHVzaChjaGFyKTtcbiAgICB9O1xuICAgIGNvbnN0IHN0YXRlID0geyBxdWV1ZTogMCwgcXVldWVkQml0czogMCB9O1xuICAgIHN0cmluZ1RvVVRGOChzdHIsIChieXRlKSA9PiB7XG4gICAgICAgIGJ5dGVUb0Jhc2U2NFVSTChieXRlLCBzdGF0ZSwgZW1pdHRlcik7XG4gICAgfSk7XG4gICAgYnl0ZVRvQmFzZTY0VVJMKG51bGwsIHN0YXRlLCBlbWl0dGVyKTtcbiAgICByZXR1cm4gYmFzZTY0LmpvaW4oJycpO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhIEJhc2U2NC1VUkwgZW5jb2RlZCBzdHJpbmcgaW50byBhIEphdmFTY3JpcHQgc3RyaW5nLiBJdCBpcyBhc3N1bWVkXG4gKiB0aGF0IHRoZSB1bmRlcmx5aW5nIHN0cmluZyBoYXMgYmVlbiBlbmNvZGVkIGFzIFVURi04LlxuICpcbiAqIEBwYXJhbSBzdHIgVGhlIEJhc2U2NC1VUkwgZW5jb2RlZCBzdHJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdGcm9tQmFzZTY0VVJMKHN0cikge1xuICAgIGNvbnN0IGNvbnYgPSBbXTtcbiAgICBjb25zdCB1dGY4RW1pdCA9IChjb2RlcG9pbnQpID0+IHtcbiAgICAgICAgY29udi5wdXNoKFN0cmluZy5mcm9tQ29kZVBvaW50KGNvZGVwb2ludCkpO1xuICAgIH07XG4gICAgY29uc3QgdXRmOFN0YXRlID0ge1xuICAgICAgICB1dGY4c2VxOiAwLFxuICAgICAgICBjb2RlcG9pbnQ6IDAsXG4gICAgfTtcbiAgICBjb25zdCBiNjRTdGF0ZSA9IHsgcXVldWU6IDAsIHF1ZXVlZEJpdHM6IDAgfTtcbiAgICBjb25zdCBieXRlRW1pdCA9IChieXRlKSA9PiB7XG4gICAgICAgIHN0cmluZ0Zyb21VVEY4KGJ5dGUsIHV0ZjhTdGF0ZSwgdXRmOEVtaXQpO1xuICAgIH07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgYnl0ZUZyb21CYXNlNjRVUkwoc3RyLmNoYXJDb2RlQXQoaSksIGI2NFN0YXRlLCBieXRlRW1pdCk7XG4gICAgfVxuICAgIHJldHVybiBjb252LmpvaW4oJycpO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhIFVuaWNvZGUgY29kZXBvaW50IHRvIGEgbXVsdGktYnl0ZSBVVEYtOCBzZXF1ZW5jZS5cbiAqXG4gKiBAcGFyYW0gY29kZXBvaW50IFRoZSBVbmljb2RlIGNvZGVwb2ludC5cbiAqIEBwYXJhbSBlbWl0ICAgICAgRnVuY3Rpb24gd2hpY2ggd2lsbCBiZSBjYWxsZWQgZm9yIGVhY2ggVVRGLTggYnl0ZSB0aGF0IHJlcHJlc2VudHMgdGhlIGNvZGVwb2ludC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvZGVwb2ludFRvVVRGOChjb2RlcG9pbnQsIGVtaXQpIHtcbiAgICBpZiAoY29kZXBvaW50IDw9IDB4N2YpIHtcbiAgICAgICAgZW1pdChjb2RlcG9pbnQpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGVsc2UgaWYgKGNvZGVwb2ludCA8PSAweDdmZikge1xuICAgICAgICBlbWl0KDB4YzAgfCAoY29kZXBvaW50ID4+IDYpKTtcbiAgICAgICAgZW1pdCgweDgwIHwgKGNvZGVwb2ludCAmIDB4M2YpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlbHNlIGlmIChjb2RlcG9pbnQgPD0gMHhmZmZmKSB7XG4gICAgICAgIGVtaXQoMHhlMCB8IChjb2RlcG9pbnQgPj4gMTIpKTtcbiAgICAgICAgZW1pdCgweDgwIHwgKChjb2RlcG9pbnQgPj4gNikgJiAweDNmKSk7XG4gICAgICAgIGVtaXQoMHg4MCB8IChjb2RlcG9pbnQgJiAweDNmKSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWxzZSBpZiAoY29kZXBvaW50IDw9IDB4MTBmZmZmKSB7XG4gICAgICAgIGVtaXQoMHhmMCB8IChjb2RlcG9pbnQgPj4gMTgpKTtcbiAgICAgICAgZW1pdCgweDgwIHwgKChjb2RlcG9pbnQgPj4gMTIpICYgMHgzZikpO1xuICAgICAgICBlbWl0KDB4ODAgfCAoKGNvZGVwb2ludCA+PiA2KSAmIDB4M2YpKTtcbiAgICAgICAgZW1pdCgweDgwIHwgKGNvZGVwb2ludCAmIDB4M2YpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYFVucmVjb2duaXplZCBVbmljb2RlIGNvZGVwb2ludDogJHtjb2RlcG9pbnQudG9TdHJpbmcoMTYpfWApO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhIEphdmFTY3JpcHQgc3RyaW5nIHRvIGEgc2VxdWVuY2Ugb2YgVVRGLTggYnl0ZXMuXG4gKlxuICogQHBhcmFtIHN0ciAgVGhlIHN0cmluZyB0byBjb252ZXJ0IHRvIFVURi04LlxuICogQHBhcmFtIGVtaXQgRnVuY3Rpb24gd2hpY2ggd2lsbCBiZSBjYWxsZWQgZm9yIGVhY2ggVVRGLTggYnl0ZSBvZiB0aGUgc3RyaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5nVG9VVEY4KHN0ciwgZW1pdCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGxldCBjb2RlcG9pbnQgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgaWYgKGNvZGVwb2ludCA+IDB4ZDdmZiAmJiBjb2RlcG9pbnQgPD0gMHhkYmZmKSB7XG4gICAgICAgICAgICAvLyBtb3N0IFVURi0xNiBjb2RlcG9pbnRzIGFyZSBVbmljb2RlIGNvZGVwb2ludHMsIGV4Y2VwdCB2YWx1ZXMgaW4gdGhpc1xuICAgICAgICAgICAgLy8gcmFuZ2Ugd2hlcmUgdGhlIG5leHQgVVRGLTE2IGNvZGVwb2ludCBuZWVkcyB0byBiZSBjb21iaW5lZCB3aXRoIHRoZVxuICAgICAgICAgICAgLy8gY3VycmVudCBvbmUgdG8gZ2V0IHRoZSBVbmljb2RlIGNvZGVwb2ludFxuICAgICAgICAgICAgY29uc3QgaGlnaFN1cnJvZ2F0ZSA9ICgoY29kZXBvaW50IC0gMHhkODAwKSAqIDB4NDAwKSAmIDB4ZmZmZjtcbiAgICAgICAgICAgIGNvbnN0IGxvd1N1cnJvZ2F0ZSA9IChzdHIuY2hhckNvZGVBdChpICsgMSkgLSAweGRjMDApICYgMHhmZmZmO1xuICAgICAgICAgICAgY29kZXBvaW50ID0gKGxvd1N1cnJvZ2F0ZSB8IGhpZ2hTdXJyb2dhdGUpICsgMHgxMDAwMDtcbiAgICAgICAgICAgIGkgKz0gMTtcbiAgICAgICAgfVxuICAgICAgICBjb2RlcG9pbnRUb1VURjgoY29kZXBvaW50LCBlbWl0KTtcbiAgICB9XG59XG4vKipcbiAqIENvbnZlcnRzIGEgVVRGLTggYnl0ZSB0byBhIFVuaWNvZGUgY29kZXBvaW50LlxuICpcbiAqIEBwYXJhbSBieXRlICBUaGUgVVRGLTggYnl0ZSBuZXh0IGluIHRoZSBzZXF1ZW5jZS5cbiAqIEBwYXJhbSBzdGF0ZSBUaGUgc2hhcmVkIHN0YXRlIGJldHdlZW4gY29uc2VjdXRpdmUgVVRGLTggYnl0ZXMgaW4gdGhlXG4gKiAgICAgICAgICAgICAgc2VxdWVuY2UsIGFuIG9iamVjdCB3aXRoIHRoZSBzaGFwZSBgeyB1dGY4c2VxOiAwLCBjb2RlcG9pbnQ6IDAgfWAuXG4gKiBAcGFyYW0gZW1pdCAgRnVuY3Rpb24gd2hpY2ggd2lsbCBiZSBjYWxsZWQgZm9yIGVhY2ggY29kZXBvaW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5nRnJvbVVURjgoYnl0ZSwgc3RhdGUsIGVtaXQpIHtcbiAgICBpZiAoc3RhdGUudXRmOHNlcSA9PT0gMCkge1xuICAgICAgICBpZiAoYnl0ZSA8PSAweDdmKSB7XG4gICAgICAgICAgICBlbWl0KGJ5dGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNvdW50IHRoZSBudW1iZXIgb2YgMSBsZWFkaW5nIGJpdHMgdW50aWwgeW91IHJlYWNoIDBcbiAgICAgICAgZm9yIChsZXQgbGVhZGluZ0JpdCA9IDE7IGxlYWRpbmdCaXQgPCA2OyBsZWFkaW5nQml0ICs9IDEpIHtcbiAgICAgICAgICAgIGlmICgoKGJ5dGUgPj4gKDcgLSBsZWFkaW5nQml0KSkgJiAxKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHN0YXRlLnV0ZjhzZXEgPSBsZWFkaW5nQml0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS51dGY4c2VxID09PSAyKSB7XG4gICAgICAgICAgICBzdGF0ZS5jb2RlcG9pbnQgPSBieXRlICYgMzE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3RhdGUudXRmOHNlcSA9PT0gMykge1xuICAgICAgICAgICAgc3RhdGUuY29kZXBvaW50ID0gYnl0ZSAmIDE1O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0YXRlLnV0ZjhzZXEgPT09IDQpIHtcbiAgICAgICAgICAgIHN0YXRlLmNvZGVwb2ludCA9IGJ5dGUgJiA3O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFVURi04IHNlcXVlbmNlJyk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUudXRmOHNlcSAtPSAxO1xuICAgIH1cbiAgICBlbHNlIGlmIChzdGF0ZS51dGY4c2VxID4gMCkge1xuICAgICAgICBpZiAoYnl0ZSA8PSAweDdmKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgVVRGLTggc2VxdWVuY2UnKTtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5jb2RlcG9pbnQgPSAoc3RhdGUuY29kZXBvaW50IDw8IDYpIHwgKGJ5dGUgJiA2Myk7XG4gICAgICAgIHN0YXRlLnV0ZjhzZXEgLT0gMTtcbiAgICAgICAgaWYgKHN0YXRlLnV0ZjhzZXEgPT09IDApIHtcbiAgICAgICAgICAgIGVtaXQoc3RhdGUuY29kZXBvaW50KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9ucyB0byBjb252ZXJ0IGRpZmZlcmVudCB0eXBlcyBvZiBzdHJpbmdzIHRvIFVpbnQ4QXJyYXlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJhc2U2NFVybFRvVWludDhBcnJheShzdHIpIHtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBjb25zdCBzdGF0ZSA9IHsgcXVldWU6IDAsIHF1ZXVlZEJpdHM6IDAgfTtcbiAgICBjb25zdCBvbkJ5dGUgPSAoYnl0ZSkgPT4ge1xuICAgICAgICByZXN1bHQucHVzaChieXRlKTtcbiAgICB9O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGJ5dGVGcm9tQmFzZTY0VVJMKHN0ci5jaGFyQ29kZUF0KGkpLCBzdGF0ZSwgb25CeXRlKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHJlc3VsdCk7XG59XG5leHBvcnQgZnVuY3Rpb24gc3RyaW5nVG9VaW50OEFycmF5KHN0cikge1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIHN0cmluZ1RvVVRGOChzdHIsIChieXRlKSA9PiByZXN1bHQucHVzaChieXRlKSk7XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHJlc3VsdCk7XG59XG5leHBvcnQgZnVuY3Rpb24gYnl0ZXNUb0Jhc2U2NFVSTChieXRlcykge1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGNvbnN0IHN0YXRlID0geyBxdWV1ZTogMCwgcXVldWVkQml0czogMCB9O1xuICAgIGNvbnN0IG9uQ2hhciA9IChjaGFyKSA9PiB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGNoYXIpO1xuICAgIH07XG4gICAgYnl0ZXMuZm9yRWFjaCgoYnl0ZSkgPT4gYnl0ZVRvQmFzZTY0VVJMKGJ5dGUsIHN0YXRlLCBvbkNoYXIpKTtcbiAgICAvLyBhbHdheXMgY2FsbCB3aXRoIGBudWxsYCBhZnRlciBwcm9jZXNzaW5nIGFsbCBieXRlc1xuICAgIGJ5dGVUb0Jhc2U2NFVSTChudWxsLCBzdGF0ZSwgb25DaGFyKTtcbiAgICByZXR1cm4gcmVzdWx0LmpvaW4oJycpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFzZTY0dXJsLmpzLm1hcCIsImltcG9ydCB7IEFQSV9WRVJTSU9OX0hFQURFUl9OQU1FLCBCQVNFNjRVUkxfUkVHRVggfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBBdXRoSW52YWxpZEp3dEVycm9yIH0gZnJvbSAnLi9lcnJvcnMnO1xuaW1wb3J0IHsgYmFzZTY0VXJsVG9VaW50OEFycmF5LCBzdHJpbmdGcm9tQmFzZTY0VVJMIH0gZnJvbSAnLi9iYXNlNjR1cmwnO1xuZXhwb3J0IGZ1bmN0aW9uIGV4cGlyZXNBdChleHBpcmVzSW4pIHtcbiAgICBjb25zdCB0aW1lTm93ID0gTWF0aC5yb3VuZChEYXRlLm5vdygpIC8gMTAwMCk7XG4gICAgcmV0dXJuIHRpbWVOb3cgKyBleHBpcmVzSW47XG59XG5leHBvcnQgZnVuY3Rpb24gdXVpZCgpIHtcbiAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xuICAgICAgICBjb25zdCByID0gKE1hdGgucmFuZG9tKCkgKiAxNikgfCAwLCB2ID0gYyA9PSAneCcgPyByIDogKHIgJiAweDMpIHwgMHg4O1xuICAgICAgICByZXR1cm4gdi50b1N0cmluZygxNik7XG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgaXNCcm93c2VyID0gKCkgPT4gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJztcbmNvbnN0IGxvY2FsU3RvcmFnZVdyaXRlVGVzdHMgPSB7XG4gICAgdGVzdGVkOiBmYWxzZSxcbiAgICB3cml0YWJsZTogZmFsc2UsXG59O1xuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBsb2NhbFN0b3JhZ2UgaXMgc3VwcG9ydGVkIG9uIHRoaXMgYnJvd3Nlci5cbiAqL1xuZXhwb3J0IGNvbnN0IHN1cHBvcnRzTG9jYWxTdG9yYWdlID0gKCkgPT4ge1xuICAgIGlmICghaXNCcm93c2VyKCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGdsb2JhbFRoaXMubG9jYWxTdG9yYWdlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIC8vIERPTSBleGNlcHRpb24gd2hlbiBhY2Nlc3NpbmcgYGxvY2FsU3RvcmFnZWBcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAobG9jYWxTdG9yYWdlV3JpdGVUZXN0cy50ZXN0ZWQpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZVdyaXRlVGVzdHMud3JpdGFibGU7XG4gICAgfVxuICAgIGNvbnN0IHJhbmRvbUtleSA9IGBsc3d0LSR7TWF0aC5yYW5kb20oKX0ke01hdGgucmFuZG9tKCl9YDtcbiAgICB0cnkge1xuICAgICAgICBnbG9iYWxUaGlzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKHJhbmRvbUtleSwgcmFuZG9tS2V5KTtcbiAgICAgICAgZ2xvYmFsVGhpcy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShyYW5kb21LZXkpO1xuICAgICAgICBsb2NhbFN0b3JhZ2VXcml0ZVRlc3RzLnRlc3RlZCA9IHRydWU7XG4gICAgICAgIGxvY2FsU3RvcmFnZVdyaXRlVGVzdHMud3JpdGFibGUgPSB0cnVlO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICAvLyBsb2NhbFN0b3JhZ2UgY2FuJ3QgYmUgd3JpdHRlbiB0b1xuICAgICAgICAvLyBodHRwczovL3d3dy5jaHJvbWl1bS5vcmcvZm9yLXRlc3RlcnMvYnVnLXJlcG9ydGluZy1ndWlkZWxpbmVzL3VuY2F1Z2h0LXNlY3VyaXR5ZXJyb3ItZmFpbGVkLXRvLXJlYWQtdGhlLWxvY2Fsc3RvcmFnZS1wcm9wZXJ0eS1mcm9tLXdpbmRvdy1hY2Nlc3MtaXMtZGVuaWVkLWZvci10aGlzLWRvY3VtZW50XG4gICAgICAgIGxvY2FsU3RvcmFnZVdyaXRlVGVzdHMudGVzdGVkID0gdHJ1ZTtcbiAgICAgICAgbG9jYWxTdG9yYWdlV3JpdGVUZXN0cy53cml0YWJsZSA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gbG9jYWxTdG9yYWdlV3JpdGVUZXN0cy53cml0YWJsZTtcbn07XG4vKipcbiAqIEV4dHJhY3RzIHBhcmFtZXRlcnMgZW5jb2RlZCBpbiB0aGUgVVJMIGJvdGggaW4gdGhlIHF1ZXJ5IGFuZCBmcmFnbWVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUGFyYW1ldGVyc0Zyb21VUkwoaHJlZikge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoaHJlZik7XG4gICAgaWYgKHVybC5oYXNoICYmIHVybC5oYXNoWzBdID09PSAnIycpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGhhc2hTZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHVybC5oYXNoLnN1YnN0cmluZygxKSk7XG4gICAgICAgICAgICBoYXNoU2VhcmNoUGFyYW1zLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICAgICAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIGhhc2ggaXMgbm90IGEgcXVlcnkgc3RyaW5nXG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gc2VhcmNoIHBhcmFtZXRlcnMgdGFrZSBwcmVjZWRlbmNlIG92ZXIgaGFzaCBwYXJhbWV0ZXJzXG4gICAgdXJsLnNlYXJjaFBhcmFtcy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgIHJlc3VsdFtrZXldID0gdmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBjb25zdCByZXNvbHZlRmV0Y2ggPSAoY3VzdG9tRmV0Y2gpID0+IHtcbiAgICBsZXQgX2ZldGNoO1xuICAgIGlmIChjdXN0b21GZXRjaCkge1xuICAgICAgICBfZmV0Y2ggPSBjdXN0b21GZXRjaDtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGZldGNoID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBfZmV0Y2ggPSAoLi4uYXJncykgPT4gaW1wb3J0KCdAc3VwYWJhc2Uvbm9kZS1mZXRjaCcpLnRoZW4oKHsgZGVmYXVsdDogZmV0Y2ggfSkgPT4gZmV0Y2goLi4uYXJncykpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgX2ZldGNoID0gZmV0Y2g7XG4gICAgfVxuICAgIHJldHVybiAoLi4uYXJncykgPT4gX2ZldGNoKC4uLmFyZ3MpO1xufTtcbmV4cG9ydCBjb25zdCBsb29rc0xpa2VGZXRjaFJlc3BvbnNlID0gKG1heWJlUmVzcG9uc2UpID0+IHtcbiAgICByZXR1cm4gKHR5cGVvZiBtYXliZVJlc3BvbnNlID09PSAnb2JqZWN0JyAmJlxuICAgICAgICBtYXliZVJlc3BvbnNlICE9PSBudWxsICYmXG4gICAgICAgICdzdGF0dXMnIGluIG1heWJlUmVzcG9uc2UgJiZcbiAgICAgICAgJ29rJyBpbiBtYXliZVJlc3BvbnNlICYmXG4gICAgICAgICdqc29uJyBpbiBtYXliZVJlc3BvbnNlICYmXG4gICAgICAgIHR5cGVvZiBtYXliZVJlc3BvbnNlLmpzb24gPT09ICdmdW5jdGlvbicpO1xufTtcbi8vIFN0b3JhZ2UgaGVscGVyc1xuZXhwb3J0IGNvbnN0IHNldEl0ZW1Bc3luYyA9IGFzeW5jIChzdG9yYWdlLCBrZXksIGRhdGEpID0+IHtcbiAgICBhd2FpdCBzdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeShkYXRhKSk7XG59O1xuZXhwb3J0IGNvbnN0IGdldEl0ZW1Bc3luYyA9IGFzeW5jIChzdG9yYWdlLCBrZXkpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKF9hKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IHJlbW92ZUl0ZW1Bc3luYyA9IGFzeW5jIChzdG9yYWdlLCBrZXkpID0+IHtcbiAgICBhd2FpdCBzdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbn07XG4vKipcbiAqIEEgZGVmZXJyZWQgcmVwcmVzZW50cyBzb21lIGFzeW5jaHJvbm91cyB3b3JrIHRoYXQgaXMgbm90IHlldCBmaW5pc2hlZCwgd2hpY2hcbiAqIG1heSBvciBtYXkgbm90IGN1bG1pbmF0ZSBpbiBhIHZhbHVlLlxuICogVGFrZW4gZnJvbTogaHR0cHM6Ly9naXRodWIuY29tL21pa2Utbm9ydGgvdHlwZXMvYmxvYi9tYXN0ZXIvc3JjL2FzeW5jLnRzXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWZlcnJlZCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXh0cmEtc2VtaVxuICAgICAgICA7XG4gICAgICAgIHRoaXMucHJvbWlzZSA9IG5ldyBEZWZlcnJlZC5wcm9taXNlQ29uc3RydWN0b3IoKHJlcywgcmVqKSA9PiB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4dHJhLXNlbWlcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZSA9IHJlcztcbiAgICAgICAgICAgIHRoaXMucmVqZWN0ID0gcmVqO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5EZWZlcnJlZC5wcm9taXNlQ29uc3RydWN0b3IgPSBQcm9taXNlO1xuZXhwb3J0IGZ1bmN0aW9uIGRlY29kZUpXVCh0b2tlbikge1xuICAgIGNvbnN0IHBhcnRzID0gdG9rZW4uc3BsaXQoJy4nKTtcbiAgICBpZiAocGFydHMubGVuZ3RoICE9PSAzKSB7XG4gICAgICAgIHRocm93IG5ldyBBdXRoSW52YWxpZEp3dEVycm9yKCdJbnZhbGlkIEpXVCBzdHJ1Y3R1cmUnKTtcbiAgICB9XG4gICAgLy8gUmVnZXggY2hlY2tzIGZvciBiYXNlNjR1cmwgZm9ybWF0XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIUJBU0U2NFVSTF9SRUdFWC50ZXN0KHBhcnRzW2ldKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEF1dGhJbnZhbGlkSnd0RXJyb3IoJ0pXVCBub3QgaW4gYmFzZTY0dXJsIGZvcm1hdCcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgIC8vIHVzaW5nIGJhc2U2NHVybCBsaWJcbiAgICAgICAgaGVhZGVyOiBKU09OLnBhcnNlKHN0cmluZ0Zyb21CYXNlNjRVUkwocGFydHNbMF0pKSxcbiAgICAgICAgcGF5bG9hZDogSlNPTi5wYXJzZShzdHJpbmdGcm9tQmFzZTY0VVJMKHBhcnRzWzFdKSksXG4gICAgICAgIHNpZ25hdHVyZTogYmFzZTY0VXJsVG9VaW50OEFycmF5KHBhcnRzWzJdKSxcbiAgICAgICAgcmF3OiB7XG4gICAgICAgICAgICBoZWFkZXI6IHBhcnRzWzBdLFxuICAgICAgICAgICAgcGF5bG9hZDogcGFydHNbMV0sXG4gICAgICAgIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGF0YTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBudWxsIGFmdGVyIHNvbWUgdGltZS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNsZWVwKHRpbWUpIHtcbiAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2UoKGFjY2VwdCkgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGFjY2VwdChudWxsKSwgdGltZSk7XG4gICAgfSk7XG59XG4vKipcbiAqIENvbnZlcnRzIHRoZSBwcm92aWRlZCBhc3luYyBmdW5jdGlvbiBpbnRvIGEgcmV0cnlhYmxlIGZ1bmN0aW9uLiBFYWNoIHJlc3VsdFxuICogb3IgdGhyb3duIGVycm9yIGlzIHNlbnQgdG8gdGhlIGlzUmV0cnlhYmxlIGZ1bmN0aW9uIHdoaWNoIHNob3VsZCByZXR1cm4gdHJ1ZVxuICogaWYgdGhlIGZ1bmN0aW9uIHNob3VsZCBydW4gYWdhaW4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXRyeWFibGUoZm4sIGlzUmV0cnlhYmxlKSB7XG4gICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChhY2NlcHQsIHJlamVjdCkgPT4ge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4dHJhLXNlbWlcbiAgICAgICAgO1xuICAgICAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgZm9yIChsZXQgYXR0ZW1wdCA9IDA7IGF0dGVtcHQgPCBJbmZpbml0eTsgYXR0ZW1wdCsrKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZm4oYXR0ZW1wdCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNSZXRyeWFibGUoYXR0ZW1wdCwgbnVsbCwgcmVzdWx0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXB0KHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1JldHJ5YWJsZShhdHRlbXB0LCBlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KSgpO1xuICAgIH0pO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuZnVuY3Rpb24gZGVjMmhleChkZWMpIHtcbiAgICByZXR1cm4gKCcwJyArIGRlYy50b1N0cmluZygxNikpLnN1YnN0cigtMik7XG59XG4vLyBGdW5jdGlvbnMgYmVsb3cgdGFrZW4gZnJvbTogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNjMzMDk0MDkvY3JlYXRpbmctYS1jb2RlLXZlcmlmaWVyLWFuZC1jaGFsbGVuZ2UtZm9yLXBrY2UtYXV0aC1vbi1zcG90aWZ5LWFwaS1pbi1yZWFjdGpzXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVQS0NFVmVyaWZpZXIoKSB7XG4gICAgY29uc3QgdmVyaWZpZXJMZW5ndGggPSA1NjtcbiAgICBjb25zdCBhcnJheSA9IG5ldyBVaW50MzJBcnJheSh2ZXJpZmllckxlbmd0aCk7XG4gICAgaWYgKHR5cGVvZiBjcnlwdG8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnN0IGNoYXJTZXQgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODktLl9+JztcbiAgICAgICAgY29uc3QgY2hhclNldExlbiA9IGNoYXJTZXQubGVuZ3RoO1xuICAgICAgICBsZXQgdmVyaWZpZXIgPSAnJztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZXJpZmllckxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2ZXJpZmllciArPSBjaGFyU2V0LmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjaGFyU2V0TGVuKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZlcmlmaWVyO1xuICAgIH1cbiAgICBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGFycmF5KTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShhcnJheSwgZGVjMmhleCkuam9pbignJyk7XG59XG5hc3luYyBmdW5jdGlvbiBzaGEyNTYocmFuZG9tU3RyaW5nKSB7XG4gICAgY29uc3QgZW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuICAgIGNvbnN0IGVuY29kZWREYXRhID0gZW5jb2Rlci5lbmNvZGUocmFuZG9tU3RyaW5nKTtcbiAgICBjb25zdCBoYXNoID0gYXdhaXQgY3J5cHRvLnN1YnRsZS5kaWdlc3QoJ1NIQS0yNTYnLCBlbmNvZGVkRGF0YSk7XG4gICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheShoYXNoKTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShieXRlcylcbiAgICAgICAgLm1hcCgoYykgPT4gU3RyaW5nLmZyb21DaGFyQ29kZShjKSlcbiAgICAgICAgLmpvaW4oJycpO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlUEtDRUNoYWxsZW5nZSh2ZXJpZmllcikge1xuICAgIGNvbnN0IGhhc0NyeXB0b1N1cHBvcnQgPSB0eXBlb2YgY3J5cHRvICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICB0eXBlb2YgY3J5cHRvLnN1YnRsZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgdHlwZW9mIFRleHRFbmNvZGVyICE9PSAndW5kZWZpbmVkJztcbiAgICBpZiAoIWhhc0NyeXB0b1N1cHBvcnQpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdXZWJDcnlwdG8gQVBJIGlzIG5vdCBzdXBwb3J0ZWQuIENvZGUgY2hhbGxlbmdlIG1ldGhvZCB3aWxsIGRlZmF1bHQgdG8gdXNlIHBsYWluIGluc3RlYWQgb2Ygc2hhMjU2LicpO1xuICAgICAgICByZXR1cm4gdmVyaWZpZXI7XG4gICAgfVxuICAgIGNvbnN0IGhhc2hlZCA9IGF3YWl0IHNoYTI1Nih2ZXJpZmllcik7XG4gICAgcmV0dXJuIGJ0b2EoaGFzaGVkKS5yZXBsYWNlKC9cXCsvZywgJy0nKS5yZXBsYWNlKC9cXC8vZywgJ18nKS5yZXBsYWNlKC89KyQvLCAnJyk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q29kZUNoYWxsZW5nZUFuZE1ldGhvZChzdG9yYWdlLCBzdG9yYWdlS2V5LCBpc1Bhc3N3b3JkUmVjb3ZlcnkgPSBmYWxzZSkge1xuICAgIGNvbnN0IGNvZGVWZXJpZmllciA9IGdlbmVyYXRlUEtDRVZlcmlmaWVyKCk7XG4gICAgbGV0IHN0b3JlZENvZGVWZXJpZmllciA9IGNvZGVWZXJpZmllcjtcbiAgICBpZiAoaXNQYXNzd29yZFJlY292ZXJ5KSB7XG4gICAgICAgIHN0b3JlZENvZGVWZXJpZmllciArPSAnL1BBU1NXT1JEX1JFQ09WRVJZJztcbiAgICB9XG4gICAgYXdhaXQgc2V0SXRlbUFzeW5jKHN0b3JhZ2UsIGAke3N0b3JhZ2VLZXl9LWNvZGUtdmVyaWZpZXJgLCBzdG9yZWRDb2RlVmVyaWZpZXIpO1xuICAgIGNvbnN0IGNvZGVDaGFsbGVuZ2UgPSBhd2FpdCBnZW5lcmF0ZVBLQ0VDaGFsbGVuZ2UoY29kZVZlcmlmaWVyKTtcbiAgICBjb25zdCBjb2RlQ2hhbGxlbmdlTWV0aG9kID0gY29kZVZlcmlmaWVyID09PSBjb2RlQ2hhbGxlbmdlID8gJ3BsYWluJyA6ICdzMjU2JztcbiAgICByZXR1cm4gW2NvZGVDaGFsbGVuZ2UsIGNvZGVDaGFsbGVuZ2VNZXRob2RdO1xufVxuLyoqIFBhcnNlcyB0aGUgQVBJIHZlcnNpb24gd2hpY2ggaXMgMllZWS1NTS1ERC4gKi9cbmNvbnN0IEFQSV9WRVJTSU9OX1JFR0VYID0gL14yWzAtOV17M30tKDBbMS05XXwxWzAtMl0pLSgwWzEtOV18MVswLTldfDJbMC05XXwzWzAtMV0pJC9pO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUmVzcG9uc2VBUElWZXJzaW9uKHJlc3BvbnNlKSB7XG4gICAgY29uc3QgYXBpVmVyc2lvbiA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KEFQSV9WRVJTSU9OX0hFQURFUl9OQU1FKTtcbiAgICBpZiAoIWFwaVZlcnNpb24pIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmICghYXBpVmVyc2lvbi5tYXRjaChBUElfVkVSU0lPTl9SRUdFWCkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShgJHthcGlWZXJzaW9ufVQwMDowMDowMC4wWmApO1xuICAgICAgICByZXR1cm4gZGF0ZTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlRXhwKGV4cCkge1xuICAgIGlmICghZXhwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBleHAgY2xhaW0nKTtcbiAgICB9XG4gICAgY29uc3QgdGltZU5vdyA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xuICAgIGlmIChleHAgPD0gdGltZU5vdykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0pXVCBoYXMgZXhwaXJlZCcpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRBbGdvcml0aG0oYWxnKSB7XG4gICAgc3dpdGNoIChhbGcpIHtcbiAgICAgICAgY2FzZSAnUlMyNTYnOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnUlNBU1NBLVBLQ1MxLXYxXzUnLFxuICAgICAgICAgICAgICAgIGhhc2g6IHsgbmFtZTogJ1NIQS0yNTYnIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlICdFUzI1Nic6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG5hbWU6ICdFQ0RTQScsXG4gICAgICAgICAgICAgICAgbmFtZWRDdXJ2ZTogJ1AtMjU2JyxcbiAgICAgICAgICAgICAgICBoYXNoOiB7IG5hbWU6ICdTSEEtMjU2JyB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBhbGcgY2xhaW0nKTtcbiAgICB9XG59XG5jb25zdCBVVUlEX1JFR0VYID0gL15bMC05YS1mXXs4fS1bMC05YS1mXXs0fS1bMC05YS1mXXs0fS1bMC05YS1mXXs0fS1bMC05YS1mXXsxMn0kLztcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVVVSUQoc3RyKSB7XG4gICAgaWYgKCFVVUlEX1JFR0VYLnRlc3Qoc3RyKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0BzdXBhYmFzZS9hdXRoLWpzOiBFeHBlY3RlZCBwYXJhbWV0ZXIgdG8gYmUgVVVJRCBidXQgaXMgbm90Jyk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGVscGVycy5qcy5tYXAiLCJ2YXIgX19yZXN0ID0gKHRoaXMgJiYgdGhpcy5fX3Jlc3QpIHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcbiAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgICAgIH1cbiAgICByZXR1cm4gdDtcbn07XG5pbXBvcnQgeyBBUElfVkVSU0lPTlMsIEFQSV9WRVJTSU9OX0hFQURFUl9OQU1FIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZXhwaXJlc0F0LCBsb29rc0xpa2VGZXRjaFJlc3BvbnNlLCBwYXJzZVJlc3BvbnNlQVBJVmVyc2lvbiB9IGZyb20gJy4vaGVscGVycyc7XG5pbXBvcnQgeyBBdXRoQXBpRXJyb3IsIEF1dGhSZXRyeWFibGVGZXRjaEVycm9yLCBBdXRoV2Vha1Bhc3N3b3JkRXJyb3IsIEF1dGhVbmtub3duRXJyb3IsIEF1dGhTZXNzaW9uTWlzc2luZ0Vycm9yLCB9IGZyb20gJy4vZXJyb3JzJztcbmNvbnN0IF9nZXRFcnJvck1lc3NhZ2UgPSAoZXJyKSA9PiBlcnIubXNnIHx8IGVyci5tZXNzYWdlIHx8IGVyci5lcnJvcl9kZXNjcmlwdGlvbiB8fCBlcnIuZXJyb3IgfHwgSlNPTi5zdHJpbmdpZnkoZXJyKTtcbmNvbnN0IE5FVFdPUktfRVJST1JfQ09ERVMgPSBbNTAyLCA1MDMsIDUwNF07XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlRXJyb3IoZXJyb3IpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKCFsb29rc0xpa2VGZXRjaFJlc3BvbnNlKGVycm9yKSkge1xuICAgICAgICB0aHJvdyBuZXcgQXV0aFJldHJ5YWJsZUZldGNoRXJyb3IoX2dldEVycm9yTWVzc2FnZShlcnJvciksIDApO1xuICAgIH1cbiAgICBpZiAoTkVUV09SS19FUlJPUl9DT0RFUy5pbmNsdWRlcyhlcnJvci5zdGF0dXMpKSB7XG4gICAgICAgIC8vIHN0YXR1cyBpbiA1MDAuLi41OTkgcmFuZ2UgLSBzZXJ2ZXIgaGFkIGFuIGVycm9yLCByZXF1ZXN0IG1pZ2h0IGJlIHJldHJ5ZWQuXG4gICAgICAgIHRocm93IG5ldyBBdXRoUmV0cnlhYmxlRmV0Y2hFcnJvcihfZ2V0RXJyb3JNZXNzYWdlKGVycm9yKSwgZXJyb3Iuc3RhdHVzKTtcbiAgICB9XG4gICAgbGV0IGRhdGE7XG4gICAgdHJ5IHtcbiAgICAgICAgZGF0YSA9IGF3YWl0IGVycm9yLmpzb24oKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEF1dGhVbmtub3duRXJyb3IoX2dldEVycm9yTWVzc2FnZShlKSwgZSk7XG4gICAgfVxuICAgIGxldCBlcnJvckNvZGUgPSB1bmRlZmluZWQ7XG4gICAgY29uc3QgcmVzcG9uc2VBUElWZXJzaW9uID0gcGFyc2VSZXNwb25zZUFQSVZlcnNpb24oZXJyb3IpO1xuICAgIGlmIChyZXNwb25zZUFQSVZlcnNpb24gJiZcbiAgICAgICAgcmVzcG9uc2VBUElWZXJzaW9uLmdldFRpbWUoKSA+PSBBUElfVkVSU0lPTlNbJzIwMjQtMDEtMDEnXS50aW1lc3RhbXAgJiZcbiAgICAgICAgdHlwZW9mIGRhdGEgPT09ICdvYmplY3QnICYmXG4gICAgICAgIGRhdGEgJiZcbiAgICAgICAgdHlwZW9mIGRhdGEuY29kZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZXJyb3JDb2RlID0gZGF0YS5jb2RlO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcgJiYgZGF0YSAmJiB0eXBlb2YgZGF0YS5lcnJvcl9jb2RlID09PSAnc3RyaW5nJykge1xuICAgICAgICBlcnJvckNvZGUgPSBkYXRhLmVycm9yX2NvZGU7XG4gICAgfVxuICAgIGlmICghZXJyb3JDb2RlKSB7XG4gICAgICAgIC8vIExlZ2FjeSBzdXBwb3J0IGZvciB3ZWFrIHBhc3N3b3JkIGVycm9ycywgd2hlbiB0aGVyZSB3ZXJlIG5vIGVycm9yIGNvZGVzXG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgIGRhdGEgJiZcbiAgICAgICAgICAgIHR5cGVvZiBkYXRhLndlYWtfcGFzc3dvcmQgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICBkYXRhLndlYWtfcGFzc3dvcmQgJiZcbiAgICAgICAgICAgIEFycmF5LmlzQXJyYXkoZGF0YS53ZWFrX3Bhc3N3b3JkLnJlYXNvbnMpICYmXG4gICAgICAgICAgICBkYXRhLndlYWtfcGFzc3dvcmQucmVhc29ucy5sZW5ndGggJiZcbiAgICAgICAgICAgIGRhdGEud2Vha19wYXNzd29yZC5yZWFzb25zLnJlZHVjZSgoYSwgaSkgPT4gYSAmJiB0eXBlb2YgaSA9PT0gJ3N0cmluZycsIHRydWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQXV0aFdlYWtQYXNzd29yZEVycm9yKF9nZXRFcnJvck1lc3NhZ2UoZGF0YSksIGVycm9yLnN0YXR1cywgZGF0YS53ZWFrX3Bhc3N3b3JkLnJlYXNvbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGVycm9yQ29kZSA9PT0gJ3dlYWtfcGFzc3dvcmQnKSB7XG4gICAgICAgIHRocm93IG5ldyBBdXRoV2Vha1Bhc3N3b3JkRXJyb3IoX2dldEVycm9yTWVzc2FnZShkYXRhKSwgZXJyb3Iuc3RhdHVzLCAoKF9hID0gZGF0YS53ZWFrX3Bhc3N3b3JkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVhc29ucykgfHwgW10pO1xuICAgIH1cbiAgICBlbHNlIGlmIChlcnJvckNvZGUgPT09ICdzZXNzaW9uX25vdF9mb3VuZCcpIHtcbiAgICAgICAgLy8gVGhlIGBzZXNzaW9uX2lkYCBpbnNpZGUgdGhlIEpXVCBkb2VzIG5vdCBjb3JyZXNwb25kIHRvIGEgcm93IGluIHRoZVxuICAgICAgICAvLyBgc2Vzc2lvbnNgIHRhYmxlLiBUaGlzIHVzdWFsbHkgbWVhbnMgdGhlIHVzZXIgaGFzIHNpZ25lZCBvdXQsIGhhcyBiZWVuXG4gICAgICAgIC8vIGRlbGV0ZWQsIG9yIHRoZWlyIHNlc3Npb24gaGFzIHNvbWVob3cgYmVlbiB0ZXJtaW5hdGVkLlxuICAgICAgICB0aHJvdyBuZXcgQXV0aFNlc3Npb25NaXNzaW5nRXJyb3IoKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEF1dGhBcGlFcnJvcihfZ2V0RXJyb3JNZXNzYWdlKGRhdGEpLCBlcnJvci5zdGF0dXMgfHwgNTAwLCBlcnJvckNvZGUpO1xufVxuY29uc3QgX2dldFJlcXVlc3RQYXJhbXMgPSAobWV0aG9kLCBvcHRpb25zLCBwYXJhbWV0ZXJzLCBib2R5KSA9PiB7XG4gICAgY29uc3QgcGFyYW1zID0geyBtZXRob2QsIGhlYWRlcnM6IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuaGVhZGVycykgfHwge30gfTtcbiAgICBpZiAobWV0aG9kID09PSAnR0VUJykge1xuICAgICAgICByZXR1cm4gcGFyYW1zO1xuICAgIH1cbiAgICBwYXJhbXMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCcgfSwgb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmhlYWRlcnMpO1xuICAgIHBhcmFtcy5ib2R5ID0gSlNPTi5zdHJpbmdpZnkoYm9keSk7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcGFyYW1zKSwgcGFyYW1ldGVycyk7XG59O1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIF9yZXF1ZXN0KGZldGNoZXIsIG1ldGhvZCwgdXJsLCBvcHRpb25zKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGhlYWRlcnMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuaGVhZGVycyk7XG4gICAgaWYgKCFoZWFkZXJzW0FQSV9WRVJTSU9OX0hFQURFUl9OQU1FXSkge1xuICAgICAgICBoZWFkZXJzW0FQSV9WRVJTSU9OX0hFQURFUl9OQU1FXSA9IEFQSV9WRVJTSU9OU1snMjAyNC0wMS0wMSddLm5hbWU7XG4gICAgfVxuICAgIGlmIChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuand0KSB7XG4gICAgICAgIGhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9IGBCZWFyZXIgJHtvcHRpb25zLmp3dH1gO1xuICAgIH1cbiAgICBjb25zdCBxcyA9IChfYSA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5xdWVyeSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDoge307XG4gICAgaWYgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5yZWRpcmVjdFRvKSB7XG4gICAgICAgIHFzWydyZWRpcmVjdF90byddID0gb3B0aW9ucy5yZWRpcmVjdFRvO1xuICAgIH1cbiAgICBjb25zdCBxdWVyeVN0cmluZyA9IE9iamVjdC5rZXlzKHFzKS5sZW5ndGggPyAnPycgKyBuZXcgVVJMU2VhcmNoUGFyYW1zKHFzKS50b1N0cmluZygpIDogJyc7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IF9oYW5kbGVSZXF1ZXN0KGZldGNoZXIsIG1ldGhvZCwgdXJsICsgcXVlcnlTdHJpbmcsIHtcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgbm9SZXNvbHZlSnNvbjogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLm5vUmVzb2x2ZUpzb24sXG4gICAgfSwge30sIG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5ib2R5KTtcbiAgICByZXR1cm4gKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy54Zm9ybSkgPyBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMueGZvcm0oZGF0YSkgOiB7IGRhdGE6IE9iamVjdC5hc3NpZ24oe30sIGRhdGEpLCBlcnJvcjogbnVsbCB9O1xufVxuYXN5bmMgZnVuY3Rpb24gX2hhbmRsZVJlcXVlc3QoZmV0Y2hlciwgbWV0aG9kLCB1cmwsIG9wdGlvbnMsIHBhcmFtZXRlcnMsIGJvZHkpIHtcbiAgICBjb25zdCByZXF1ZXN0UGFyYW1zID0gX2dldFJlcXVlc3RQYXJhbXMobWV0aG9kLCBvcHRpb25zLCBwYXJhbWV0ZXJzLCBib2R5KTtcbiAgICBsZXQgcmVzdWx0O1xuICAgIHRyeSB7XG4gICAgICAgIHJlc3VsdCA9IGF3YWl0IGZldGNoZXIodXJsLCBPYmplY3QuYXNzaWduKHt9LCByZXF1ZXN0UGFyYW1zKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgIC8vIGZldGNoIGZhaWxlZCwgbGlrZWx5IGR1ZSB0byBhIG5ldHdvcmsgb3IgQ09SUyBlcnJvclxuICAgICAgICB0aHJvdyBuZXcgQXV0aFJldHJ5YWJsZUZldGNoRXJyb3IoX2dldEVycm9yTWVzc2FnZShlKSwgMCk7XG4gICAgfVxuICAgIGlmICghcmVzdWx0Lm9rKSB7XG4gICAgICAgIGF3YWl0IGhhbmRsZUVycm9yKHJlc3VsdCk7XG4gICAgfVxuICAgIGlmIChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMubm9SZXNvbHZlSnNvbikge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gYXdhaXQgcmVzdWx0Lmpzb24oKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgYXdhaXQgaGFuZGxlRXJyb3IoZSk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIF9zZXNzaW9uUmVzcG9uc2UoZGF0YSkge1xuICAgIHZhciBfYTtcbiAgICBsZXQgc2Vzc2lvbiA9IG51bGw7XG4gICAgaWYgKGhhc1Nlc3Npb24oZGF0YSkpIHtcbiAgICAgICAgc2Vzc2lvbiA9IE9iamVjdC5hc3NpZ24oe30sIGRhdGEpO1xuICAgICAgICBpZiAoIWRhdGEuZXhwaXJlc19hdCkge1xuICAgICAgICAgICAgc2Vzc2lvbi5leHBpcmVzX2F0ID0gZXhwaXJlc0F0KGRhdGEuZXhwaXJlc19pbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgdXNlciA9IChfYSA9IGRhdGEudXNlcikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZGF0YTtcbiAgICByZXR1cm4geyBkYXRhOiB7IHNlc3Npb24sIHVzZXIgfSwgZXJyb3I6IG51bGwgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfc2Vzc2lvblJlc3BvbnNlUGFzc3dvcmQoZGF0YSkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gX3Nlc3Npb25SZXNwb25zZShkYXRhKTtcbiAgICBpZiAoIXJlc3BvbnNlLmVycm9yICYmXG4gICAgICAgIGRhdGEud2Vha19wYXNzd29yZCAmJlxuICAgICAgICB0eXBlb2YgZGF0YS53ZWFrX3Bhc3N3b3JkID09PSAnb2JqZWN0JyAmJlxuICAgICAgICBBcnJheS5pc0FycmF5KGRhdGEud2Vha19wYXNzd29yZC5yZWFzb25zKSAmJlxuICAgICAgICBkYXRhLndlYWtfcGFzc3dvcmQucmVhc29ucy5sZW5ndGggJiZcbiAgICAgICAgZGF0YS53ZWFrX3Bhc3N3b3JkLm1lc3NhZ2UgJiZcbiAgICAgICAgdHlwZW9mIGRhdGEud2Vha19wYXNzd29yZC5tZXNzYWdlID09PSAnc3RyaW5nJyAmJlxuICAgICAgICBkYXRhLndlYWtfcGFzc3dvcmQucmVhc29ucy5yZWR1Y2UoKGEsIGkpID0+IGEgJiYgdHlwZW9mIGkgPT09ICdzdHJpbmcnLCB0cnVlKSkge1xuICAgICAgICByZXNwb25zZS5kYXRhLndlYWtfcGFzc3dvcmQgPSBkYXRhLndlYWtfcGFzc3dvcmQ7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfdXNlclJlc3BvbnNlKGRhdGEpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgdXNlciA9IChfYSA9IGRhdGEudXNlcikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZGF0YTtcbiAgICByZXR1cm4geyBkYXRhOiB7IHVzZXIgfSwgZXJyb3I6IG51bGwgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfc3NvUmVzcG9uc2UoZGF0YSkge1xuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XG59XG5leHBvcnQgZnVuY3Rpb24gX2dlbmVyYXRlTGlua1Jlc3BvbnNlKGRhdGEpIHtcbiAgICBjb25zdCB7IGFjdGlvbl9saW5rLCBlbWFpbF9vdHAsIGhhc2hlZF90b2tlbiwgcmVkaXJlY3RfdG8sIHZlcmlmaWNhdGlvbl90eXBlIH0gPSBkYXRhLCByZXN0ID0gX19yZXN0KGRhdGEsIFtcImFjdGlvbl9saW5rXCIsIFwiZW1haWxfb3RwXCIsIFwiaGFzaGVkX3Rva2VuXCIsIFwicmVkaXJlY3RfdG9cIiwgXCJ2ZXJpZmljYXRpb25fdHlwZVwiXSk7XG4gICAgY29uc3QgcHJvcGVydGllcyA9IHtcbiAgICAgICAgYWN0aW9uX2xpbmssXG4gICAgICAgIGVtYWlsX290cCxcbiAgICAgICAgaGFzaGVkX3Rva2VuLFxuICAgICAgICByZWRpcmVjdF90byxcbiAgICAgICAgdmVyaWZpY2F0aW9uX3R5cGUsXG4gICAgfTtcbiAgICBjb25zdCB1c2VyID0gT2JqZWN0LmFzc2lnbih7fSwgcmVzdCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgcHJvcGVydGllcyxcbiAgICAgICAgICAgIHVzZXIsXG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gX25vUmVzb2x2ZUpzb25SZXNwb25zZShkYXRhKSB7XG4gICAgcmV0dXJuIGRhdGE7XG59XG4vKipcbiAqIGhhc1Nlc3Npb24gY2hlY2tzIGlmIHRoZSByZXNwb25zZSBvYmplY3QgY29udGFpbnMgYSB2YWxpZCBzZXNzaW9uXG4gKiBAcGFyYW0gZGF0YSBBIHJlc3BvbnNlIG9iamVjdFxuICogQHJldHVybnMgdHJ1ZSBpZiBhIHNlc3Npb24gaXMgaW4gdGhlIHJlc3BvbnNlXG4gKi9cbmZ1bmN0aW9uIGhhc1Nlc3Npb24oZGF0YSkge1xuICAgIHJldHVybiBkYXRhLmFjY2Vzc190b2tlbiAmJiBkYXRhLnJlZnJlc2hfdG9rZW4gJiYgZGF0YS5leHBpcmVzX2luO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmV0Y2guanMubWFwIiwiZXhwb3J0IGNvbnN0IFNJR05fT1VUX1NDT1BFUyA9IFsnZ2xvYmFsJywgJ2xvY2FsJywgJ290aGVycyddO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHlwZXMuanMubWFwIiwidmFyIF9fcmVzdCA9ICh0aGlzICYmIHRoaXMuX19yZXN0KSB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXG4gICAgICAgIHRbcF0gPSBzW3BdO1xuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgICAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuaW1wb3J0IHsgX2dlbmVyYXRlTGlua1Jlc3BvbnNlLCBfbm9SZXNvbHZlSnNvblJlc3BvbnNlLCBfcmVxdWVzdCwgX3VzZXJSZXNwb25zZSwgfSBmcm9tICcuL2xpYi9mZXRjaCc7XG5pbXBvcnQgeyByZXNvbHZlRmV0Y2gsIHZhbGlkYXRlVVVJRCB9IGZyb20gJy4vbGliL2hlbHBlcnMnO1xuaW1wb3J0IHsgU0lHTl9PVVRfU0NPUEVTLCB9IGZyb20gJy4vbGliL3R5cGVzJztcbmltcG9ydCB7IGlzQXV0aEVycm9yIH0gZnJvbSAnLi9saWIvZXJyb3JzJztcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdvVHJ1ZUFkbWluQXBpIHtcbiAgICBjb25zdHJ1Y3Rvcih7IHVybCA9ICcnLCBoZWFkZXJzID0ge30sIGZldGNoLCB9KSB7XG4gICAgICAgIHRoaXMudXJsID0gdXJsO1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSBoZWFkZXJzO1xuICAgICAgICB0aGlzLmZldGNoID0gcmVzb2x2ZUZldGNoKGZldGNoKTtcbiAgICAgICAgdGhpcy5tZmEgPSB7XG4gICAgICAgICAgICBsaXN0RmFjdG9yczogdGhpcy5fbGlzdEZhY3RvcnMuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIGRlbGV0ZUZhY3RvcjogdGhpcy5fZGVsZXRlRmFjdG9yLmJpbmQodGhpcyksXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBsb2dnZWQtaW4gc2Vzc2lvbi5cbiAgICAgKiBAcGFyYW0gand0IEEgdmFsaWQsIGxvZ2dlZC1pbiBKV1QuXG4gICAgICogQHBhcmFtIHNjb3BlIFRoZSBsb2dvdXQgc29wZS5cbiAgICAgKi9cbiAgICBhc3luYyBzaWduT3V0KGp3dCwgc2NvcGUgPSBTSUdOX09VVF9TQ09QRVNbMF0pIHtcbiAgICAgICAgaWYgKFNJR05fT1VUX1NDT1BFUy5pbmRleE9mKHNjb3BlKSA8IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQHN1cGFiYXNlL2F1dGgtanM6IFBhcmFtZXRlciBzY29wZSBtdXN0IGJlIG9uZSBvZiAke1NJR05fT1VUX1NDT1BFUy5qb2luKCcsICcpfWApO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBfcmVxdWVzdCh0aGlzLmZldGNoLCAnUE9TVCcsIGAke3RoaXMudXJsfS9sb2dvdXQ/c2NvcGU9JHtzY29wZX1gLCB7XG4gICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgIGp3dCxcbiAgICAgICAgICAgICAgICBub1Jlc29sdmVKc29uOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogbnVsbCB9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGlzQXV0aEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhbiBpbnZpdGUgbGluayB0byBhbiBlbWFpbCBhZGRyZXNzLlxuICAgICAqIEBwYXJhbSBlbWFpbCBUaGUgZW1haWwgYWRkcmVzcyBvZiB0aGUgdXNlci5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBBZGRpdGlvbmFsIG9wdGlvbnMgdG8gYmUgaW5jbHVkZWQgd2hlbiBpbnZpdGluZy5cbiAgICAgKi9cbiAgICBhc3luYyBpbnZpdGVVc2VyQnlFbWFpbChlbWFpbCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgX3JlcXVlc3QodGhpcy5mZXRjaCwgJ1BPU1QnLCBgJHt0aGlzLnVybH0vaW52aXRlYCwge1xuICAgICAgICAgICAgICAgIGJvZHk6IHsgZW1haWwsIGRhdGE6IG9wdGlvbnMuZGF0YSB9LFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgICAgICByZWRpcmVjdFRvOiBvcHRpb25zLnJlZGlyZWN0VG8sXG4gICAgICAgICAgICAgICAgeGZvcm06IF91c2VyUmVzcG9uc2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChpc0F1dGhFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiB7IHVzZXI6IG51bGwgfSwgZXJyb3IgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBlbWFpbCBsaW5rcyBhbmQgT1RQcyB0byBiZSBzZW50IHZpYSBhIGN1c3RvbSBlbWFpbCBwcm92aWRlci5cbiAgICAgKiBAcGFyYW0gZW1haWwgVGhlIHVzZXIncyBlbWFpbC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5wYXNzd29yZCBVc2VyIHBhc3N3b3JkLiBGb3Igc2lnbnVwIG9ubHkuXG4gICAgICogQHBhcmFtIG9wdGlvbnMuZGF0YSBPcHRpb25hbCB1c2VyIG1ldGFkYXRhLiBGb3Igc2lnbnVwIG9ubHkuXG4gICAgICogQHBhcmFtIG9wdGlvbnMucmVkaXJlY3RUbyBUaGUgcmVkaXJlY3QgdXJsIHdoaWNoIHNob3VsZCBiZSBhcHBlbmRlZCB0byB0aGUgZ2VuZXJhdGVkIGxpbmtcbiAgICAgKi9cbiAgICBhc3luYyBnZW5lcmF0ZUxpbmsocGFyYW1zKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IG9wdGlvbnMgfSA9IHBhcmFtcywgcmVzdCA9IF9fcmVzdChwYXJhbXMsIFtcIm9wdGlvbnNcIl0pO1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzdCksIG9wdGlvbnMpO1xuICAgICAgICAgICAgaWYgKCduZXdFbWFpbCcgaW4gcmVzdCkge1xuICAgICAgICAgICAgICAgIC8vIHJlcGxhY2UgbmV3RW1haWwgd2l0aCBuZXdfZW1haWwgaW4gcmVxdWVzdCBib2R5XG4gICAgICAgICAgICAgICAgYm9keS5uZXdfZW1haWwgPSByZXN0ID09PSBudWxsIHx8IHJlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3QubmV3RW1haWw7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGJvZHlbJ25ld0VtYWlsJ107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgX3JlcXVlc3QodGhpcy5mZXRjaCwgJ1BPU1QnLCBgJHt0aGlzLnVybH0vYWRtaW4vZ2VuZXJhdGVfbGlua2AsIHtcbiAgICAgICAgICAgICAgICBib2R5OiBib2R5LFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgICAgICB4Zm9ybTogX2dlbmVyYXRlTGlua1Jlc3BvbnNlLFxuICAgICAgICAgICAgICAgIHJlZGlyZWN0VG86IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5yZWRpcmVjdFRvLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoaXNBdXRoRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBVc2VyIEFkbWluIEFQSVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgdXNlci5cbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbiBhIHNlcnZlci4gTmV2ZXIgZXhwb3NlIHlvdXIgYHNlcnZpY2Vfcm9sZWAga2V5IGluIHRoZSBicm93c2VyLlxuICAgICAqL1xuICAgIGFzeW5jIGNyZWF0ZVVzZXIoYXR0cmlidXRlcykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IF9yZXF1ZXN0KHRoaXMuZmV0Y2gsICdQT1NUJywgYCR7dGhpcy51cmx9L2FkbWluL3VzZXJzYCwge1xuICAgICAgICAgICAgICAgIGJvZHk6IGF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgIHhmb3JtOiBfdXNlclJlc3BvbnNlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoaXNBdXRoRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyB1c2VyOiBudWxsIH0sIGVycm9yIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYSBsaXN0IG9mIHVzZXJzLlxuICAgICAqXG4gICAgICogVGhpcyBmdW5jdGlvbiBzaG91bGQgb25seSBiZSBjYWxsZWQgb24gYSBzZXJ2ZXIuIE5ldmVyIGV4cG9zZSB5b3VyIGBzZXJ2aWNlX3JvbGVgIGtleSBpbiB0aGUgYnJvd3Nlci5cbiAgICAgKiBAcGFyYW0gcGFyYW1zIEFuIG9iamVjdCB3aGljaCBzdXBwb3J0cyBgcGFnZWAgYW5kIGBwZXJQYWdlYCBhcyBudW1iZXJzLCB0byBhbHRlciB0aGUgcGFnaW5hdGVkIHJlc3VsdHMuXG4gICAgICovXG4gICAgYXN5bmMgbGlzdFVzZXJzKHBhcmFtcykge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2c7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYWdpbmF0aW9uID0geyBuZXh0UGFnZTogbnVsbCwgbGFzdFBhZ2U6IDAsIHRvdGFsOiAwIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IF9yZXF1ZXN0KHRoaXMuZmV0Y2gsICdHRVQnLCBgJHt0aGlzLnVybH0vYWRtaW4vdXNlcnNgLCB7XG4gICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgIG5vUmVzb2x2ZUpzb246IHRydWUsXG4gICAgICAgICAgICAgICAgcXVlcnk6IHtcbiAgICAgICAgICAgICAgICAgICAgcGFnZTogKF9iID0gKF9hID0gcGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLnBhZ2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50b1N0cmluZygpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgcGVyX3BhZ2U6IChfZCA9IChfYyA9IHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5wZXJQYWdlKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudG9TdHJpbmcoKSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogJycsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB4Zm9ybTogX25vUmVzb2x2ZUpzb25SZXNwb25zZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmVycm9yKVxuICAgICAgICAgICAgICAgIHRocm93IHJlc3BvbnNlLmVycm9yO1xuICAgICAgICAgICAgY29uc3QgdXNlcnMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICBjb25zdCB0b3RhbCA9IChfZSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCd4LXRvdGFsLWNvdW50JykpICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6IDA7XG4gICAgICAgICAgICBjb25zdCBsaW5rcyA9IChfZyA9IChfZiA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdsaW5rJykpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5zcGxpdCgnLCcpKSAhPT0gbnVsbCAmJiBfZyAhPT0gdm9pZCAwID8gX2cgOiBbXTtcbiAgICAgICAgICAgIGlmIChsaW5rcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgbGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWdlID0gcGFyc2VJbnQobGluay5zcGxpdCgnOycpWzBdLnNwbGl0KCc9JylbMV0uc3Vic3RyaW5nKDAsIDEpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVsID0gSlNPTi5wYXJzZShsaW5rLnNwbGl0KCc7JylbMV0uc3BsaXQoJz0nKVsxXSk7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2luYXRpb25bYCR7cmVsfVBhZ2VgXSA9IHBhZ2U7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcGFnaW5hdGlvbi50b3RhbCA9IHBhcnNlSW50KHRvdGFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdXNlcnMpLCBwYWdpbmF0aW9uKSwgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChpc0F1dGhFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiB7IHVzZXJzOiBbXSB9LCBlcnJvciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHVzZXIgYnkgaWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdWlkIFRoZSB1c2VyJ3MgdW5pcXVlIGlkZW50aWZpZXJcbiAgICAgKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uIGEgc2VydmVyLiBOZXZlciBleHBvc2UgeW91ciBgc2VydmljZV9yb2xlYCBrZXkgaW4gdGhlIGJyb3dzZXIuXG4gICAgICovXG4gICAgYXN5bmMgZ2V0VXNlckJ5SWQodWlkKSB7XG4gICAgICAgIHZhbGlkYXRlVVVJRCh1aWQpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IF9yZXF1ZXN0KHRoaXMuZmV0Y2gsICdHRVQnLCBgJHt0aGlzLnVybH0vYWRtaW4vdXNlcnMvJHt1aWR9YCwge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgICAgICB4Zm9ybTogX3VzZXJSZXNwb25zZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGlzQXV0aEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgdXNlcjogbnVsbCB9LCBlcnJvciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdXNlciBkYXRhLlxuICAgICAqXG4gICAgICogQHBhcmFtIGF0dHJpYnV0ZXMgVGhlIGRhdGEgeW91IHdhbnQgdG8gdXBkYXRlLlxuICAgICAqXG4gICAgICogVGhpcyBmdW5jdGlvbiBzaG91bGQgb25seSBiZSBjYWxsZWQgb24gYSBzZXJ2ZXIuIE5ldmVyIGV4cG9zZSB5b3VyIGBzZXJ2aWNlX3JvbGVgIGtleSBpbiB0aGUgYnJvd3Nlci5cbiAgICAgKi9cbiAgICBhc3luYyB1cGRhdGVVc2VyQnlJZCh1aWQsIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgdmFsaWRhdGVVVUlEKHVpZCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgX3JlcXVlc3QodGhpcy5mZXRjaCwgJ1BVVCcsIGAke3RoaXMudXJsfS9hZG1pbi91c2Vycy8ke3VpZH1gLCB7XG4gICAgICAgICAgICAgICAgYm9keTogYXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgeGZvcm06IF91c2VyUmVzcG9uc2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChpc0F1dGhFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiB7IHVzZXI6IG51bGwgfSwgZXJyb3IgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlbGV0ZSBhIHVzZXIuIFJlcXVpcmVzIGEgYHNlcnZpY2Vfcm9sZWAga2V5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGlkIFRoZSB1c2VyIGlkIHlvdSB3YW50IHRvIHJlbW92ZS5cbiAgICAgKiBAcGFyYW0gc2hvdWxkU29mdERlbGV0ZSBJZiB0cnVlLCB0aGVuIHRoZSB1c2VyIHdpbGwgYmUgc29mdC1kZWxldGVkIGZyb20gdGhlIGF1dGggc2NoZW1hLiBTb2Z0IGRlbGV0aW9uIGFsbG93cyB1c2VyIGlkZW50aWZpY2F0aW9uIGZyb20gdGhlIGhhc2hlZCB1c2VyIElEIGJ1dCBpcyBub3QgcmV2ZXJzaWJsZS5cbiAgICAgKiBEZWZhdWx0cyB0byBmYWxzZSBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eS5cbiAgICAgKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uIGEgc2VydmVyLiBOZXZlciBleHBvc2UgeW91ciBgc2VydmljZV9yb2xlYCBrZXkgaW4gdGhlIGJyb3dzZXIuXG4gICAgICovXG4gICAgYXN5bmMgZGVsZXRlVXNlcihpZCwgc2hvdWxkU29mdERlbGV0ZSA9IGZhbHNlKSB7XG4gICAgICAgIHZhbGlkYXRlVVVJRChpZCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgX3JlcXVlc3QodGhpcy5mZXRjaCwgJ0RFTEVURScsIGAke3RoaXMudXJsfS9hZG1pbi91c2Vycy8ke2lkfWAsIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgYm9keToge1xuICAgICAgICAgICAgICAgICAgICBzaG91bGRfc29mdF9kZWxldGU6IHNob3VsZFNvZnREZWxldGUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB4Zm9ybTogX3VzZXJSZXNwb25zZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGlzQXV0aEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgdXNlcjogbnVsbCB9LCBlcnJvciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgX2xpc3RGYWN0b3JzKHBhcmFtcykge1xuICAgICAgICB2YWxpZGF0ZVVVSUQocGFyYW1zLnVzZXJJZCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBfcmVxdWVzdCh0aGlzLmZldGNoLCAnR0VUJywgYCR7dGhpcy51cmx9L2FkbWluL3VzZXJzLyR7cGFyYW1zLnVzZXJJZH0vZmFjdG9yc2AsIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgeGZvcm06IChmYWN0b3JzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgZmFjdG9ycyB9LCBlcnJvcjogbnVsbCB9O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB7IGRhdGEsIGVycm9yIH07XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoaXNBdXRoRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIF9kZWxldGVGYWN0b3IocGFyYW1zKSB7XG4gICAgICAgIHZhbGlkYXRlVVVJRChwYXJhbXMudXNlcklkKTtcbiAgICAgICAgdmFsaWRhdGVVVUlEKHBhcmFtcy5pZCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgX3JlcXVlc3QodGhpcy5mZXRjaCwgJ0RFTEVURScsIGAke3RoaXMudXJsfS9hZG1pbi91c2Vycy8ke3BhcmFtcy51c2VySWR9L2ZhY3RvcnMvJHtwYXJhbXMuaWR9YCwge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHsgZGF0YSwgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChpc0F1dGhFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Hb1RydWVBZG1pbkFwaS5qcy5tYXAiLCJpbXBvcnQgeyBzdXBwb3J0c0xvY2FsU3RvcmFnZSB9IGZyb20gJy4vaGVscGVycyc7XG4vKipcbiAqIFByb3ZpZGVzIHNhZmUgYWNjZXNzIHRvIHRoZSBnbG9iYWxUaGlzLmxvY2FsU3RvcmFnZSBwcm9wZXJ0eS5cbiAqL1xuZXhwb3J0IGNvbnN0IGxvY2FsU3RvcmFnZUFkYXB0ZXIgPSB7XG4gICAgZ2V0SXRlbTogKGtleSkgPT4ge1xuICAgICAgICBpZiAoIXN1cHBvcnRzTG9jYWxTdG9yYWdlKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnbG9iYWxUaGlzLmxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgfSxcbiAgICBzZXRJdGVtOiAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAoIXN1cHBvcnRzTG9jYWxTdG9yYWdlKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBnbG9iYWxUaGlzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUpO1xuICAgIH0sXG4gICAgcmVtb3ZlSXRlbTogKGtleSkgPT4ge1xuICAgICAgICBpZiAoIXN1cHBvcnRzTG9jYWxTdG9yYWdlKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBnbG9iYWxUaGlzLmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgfSxcbn07XG4vKipcbiAqIFJldHVybnMgYSBsb2NhbFN0b3JhZ2UtbGlrZSBvYmplY3QgdGhhdCBzdG9yZXMgdGhlIGtleS12YWx1ZSBwYWlycyBpblxuICogbWVtb3J5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVtb3J5TG9jYWxTdG9yYWdlQWRhcHRlcihzdG9yZSA9IHt9KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0SXRlbTogKGtleSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHN0b3JlW2tleV0gfHwgbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0SXRlbTogKGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgICAgIHN0b3JlW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlSXRlbTogKGtleSkgPT4ge1xuICAgICAgICAgICAgZGVsZXRlIHN0b3JlW2tleV07XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvY2FsLXN0b3JhZ2UuanMubWFwIiwiaW1wb3J0IHsgc3VwcG9ydHNMb2NhbFN0b3JhZ2UgfSBmcm9tICcuL2hlbHBlcnMnO1xuLyoqXG4gKiBAZXhwZXJpbWVudGFsXG4gKi9cbmV4cG9ydCBjb25zdCBpbnRlcm5hbHMgPSB7XG4gICAgLyoqXG4gICAgICogQGV4cGVyaW1lbnRhbFxuICAgICAqL1xuICAgIGRlYnVnOiAhIShnbG9iYWxUaGlzICYmXG4gICAgICAgIHN1cHBvcnRzTG9jYWxTdG9yYWdlKCkgJiZcbiAgICAgICAgZ2xvYmFsVGhpcy5sb2NhbFN0b3JhZ2UgJiZcbiAgICAgICAgZ2xvYmFsVGhpcy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc3VwYWJhc2UuZ290cnVlLWpzLmxvY2tzLmRlYnVnJykgPT09ICd0cnVlJyksXG59O1xuLyoqXG4gKiBBbiBlcnJvciB0aHJvd24gd2hlbiBhIGxvY2sgY2Fubm90IGJlIGFjcXVpcmVkIGFmdGVyIHNvbWUgYW1vdW50IG9mIHRpbWUuXG4gKlxuICogVXNlIHRoZSB7QGxpbmsgI2lzQWNxdWlyZVRpbWVvdXR9IHByb3BlcnR5IGluc3RlYWQgb2YgY2hlY2tpbmcgd2l0aCBgaW5zdGFuY2VvZmAuXG4gKi9cbmV4cG9ydCBjbGFzcyBMb2NrQWNxdWlyZVRpbWVvdXRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLmlzQWNxdWlyZVRpbWVvdXQgPSB0cnVlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBOYXZpZ2F0b3JMb2NrQWNxdWlyZVRpbWVvdXRFcnJvciBleHRlbmRzIExvY2tBY3F1aXJlVGltZW91dEVycm9yIHtcbn1cbmV4cG9ydCBjbGFzcyBQcm9jZXNzTG9ja0FjcXVpcmVUaW1lb3V0RXJyb3IgZXh0ZW5kcyBMb2NrQWNxdWlyZVRpbWVvdXRFcnJvciB7XG59XG4vKipcbiAqIEltcGxlbWVudHMgYSBnbG9iYWwgZXhjbHVzaXZlIGxvY2sgdXNpbmcgdGhlIE5hdmlnYXRvciBMb2NrTWFuYWdlciBBUEkuIEl0XG4gKiBpcyBhdmFpbGFibGUgb24gYWxsIGJyb3dzZXJzIHJlbGVhc2VkIGFmdGVyIDIwMjItMDMtMTUgd2l0aCBTYWZhcmkgYmVpbmcgdGhlXG4gKiBsYXN0IG9uZSB0byByZWxlYXNlIHN1cHBvcnQuIElmIHRoZSBBUEkgaXMgbm90IGF2YWlsYWJsZSwgdGhpcyBmdW5jdGlvbiB3aWxsXG4gKiB0aHJvdy4gTWFrZSBzdXJlIHlvdSBjaGVjayBhdmFpbGFibGlsaXR5IGJlZm9yZSBjb25maWd1cmluZyB7QGxpbmtcbiAqIEdvVHJ1ZUNsaWVudH0uXG4gKlxuICogWW91IGNhbiB0dXJuIG9uIGRlYnVnZ2luZyBieSBzZXR0aW5nIHRoZSBgc3VwYWJhc2UuZ290cnVlLWpzLmxvY2tzLmRlYnVnYFxuICogbG9jYWwgc3RvcmFnZSBpdGVtIHRvIGB0cnVlYC5cbiAqXG4gKiBJbnRlcm5hbHM6XG4gKlxuICogU2luY2UgdGhlIExvY2tNYW5hZ2VyIEFQSSBkb2VzIG5vdCBwcmVzZXJ2ZSBzdGFjayB0cmFjZXMgZm9yIHRoZSBhc3luY1xuICogZnVuY3Rpb24gcGFzc2VkIGluIHRoZSBgcmVxdWVzdGAgbWV0aG9kLCBhIHRyaWNrIGlzIHVzZWQgd2hlcmUgYWNxdWlyaW5nIHRoZVxuICogbG9jayByZWxlYXNlcyBhIHByZXZpb3VzbHkgc3RhcnRlZCBwcm9taXNlIHRvIHJ1biB0aGUgb3BlcmF0aW9uIGluIHRoZSBgZm5gXG4gKiBmdW5jdGlvbi4gVGhlIGxvY2sgd2FpdHMgZm9yIHRoYXQgcHJvbWlzZSB0byBmaW5pc2ggKHdpdGggb3Igd2l0aG91dCBlcnJvciksXG4gKiB3aGlsZSB0aGUgZnVuY3Rpb24gd2lsbCBmaW5hbGx5IHdhaXQgZm9yIHRoZSByZXN1bHQgYW55d2F5LlxuICpcbiAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIGxvY2sgdG8gYmUgYWNxdWlyZWQuXG4gKiBAcGFyYW0gYWNxdWlyZVRpbWVvdXQgSWYgbmVnYXRpdmUsIG5vIHRpbWVvdXQuIElmIDAgYW4gZXJyb3IgaXMgdGhyb3duIGlmXG4gKiAgICAgICAgICAgICAgICAgICAgICAgdGhlIGxvY2sgY2FuJ3QgYmUgYWNxdWlyZWQgd2l0aG91dCB3YWl0aW5nLiBJZiBwb3NpdGl2ZSwgdGhlIGxvY2sgYWNxdWlyZVxuICogICAgICAgICAgICAgICAgICAgICAgIHdpbGwgdGltZSBvdXQgYWZ0ZXIgc28gbWFueSBtaWxsaXNlY29uZHMuIEFuIGVycm9yIGlzXG4gKiAgICAgICAgICAgICAgICAgICAgICAgYSB0aW1lb3V0IGlmIGl0IGhhcyBgaXNBY3F1aXJlVGltZW91dGAgc2V0IHRvIHRydWUuXG4gKiBAcGFyYW0gZm4gVGhlIG9wZXJhdGlvbiB0byBydW4gb25jZSB0aGUgbG9jayBpcyBhY3F1aXJlZC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG5hdmlnYXRvckxvY2sobmFtZSwgYWNxdWlyZVRpbWVvdXQsIGZuKSB7XG4gICAgaWYgKGludGVybmFscy5kZWJ1Zykge1xuICAgICAgICBjb25zb2xlLmxvZygnQHN1cGFiYXNlL2dvdHJ1ZS1qczogbmF2aWdhdG9yTG9jazogYWNxdWlyZSBsb2NrJywgbmFtZSwgYWNxdWlyZVRpbWVvdXQpO1xuICAgIH1cbiAgICBjb25zdCBhYm9ydENvbnRyb2xsZXIgPSBuZXcgZ2xvYmFsVGhpcy5BYm9ydENvbnRyb2xsZXIoKTtcbiAgICBpZiAoYWNxdWlyZVRpbWVvdXQgPiAwKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgYWJvcnRDb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgICAgICBpZiAoaW50ZXJuYWxzLmRlYnVnKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0BzdXBhYmFzZS9nb3RydWUtanM6IG5hdmlnYXRvckxvY2sgYWNxdWlyZSB0aW1lZCBvdXQnLCBuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgYWNxdWlyZVRpbWVvdXQpO1xuICAgIH1cbiAgICAvLyBNRE4gYXJ0aWNsZTogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0xvY2tNYW5hZ2VyL3JlcXVlc3RcbiAgICAvLyBXcmFwcGluZyBuYXZpZ2F0b3IubG9ja3MucmVxdWVzdCgpIHdpdGggYSBwbGFpbiBQcm9taXNlIGlzIGRvbmUgYXMgc29tZVxuICAgIC8vIGxpYnJhcmllcyBsaWtlIHpvbmUuanMgcGF0Y2ggdGhlIFByb21pc2Ugb2JqZWN0IHRvIHRyYWNrIHRoZSBleGVjdXRpb25cbiAgICAvLyBjb250ZXh0LiBIb3dldmVyLCBpdCBhcHBlYXJzIHRoYXQgbW9zdCBicm93c2VycyB1c2UgYW4gaW50ZXJuYWwgcHJvbWlzZVxuICAgIC8vIGltcGxlbWVudGF0aW9uIHdoZW4gdXNpbmcgdGhlIG5hdmlnYXRvci5sb2Nrcy5yZXF1ZXN0KCkgQVBJIGNhdXNpbmcgdGhlbVxuICAgIC8vIHRvIGxvc2UgY29udGV4dCBhbmQgZW1pdCBjb25mdXNpbmcgbG9nIG1lc3NhZ2VzIG9yIGJyZWFrIGNlcnRhaW4gZmVhdHVyZXMuXG4gICAgLy8gVGhpcyB3cmFwcGluZyBpcyBiZWxpZXZlZCB0byBoZWxwIHpvbmUuanMgdHJhY2sgdGhlIGV4ZWN1dGlvbiBjb250ZXh0XG4gICAgLy8gYmV0dGVyLlxuICAgIHJldHVybiBhd2FpdCBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IGdsb2JhbFRoaXMubmF2aWdhdG9yLmxvY2tzLnJlcXVlc3QobmFtZSwgYWNxdWlyZVRpbWVvdXQgPT09IDBcbiAgICAgICAgPyB7XG4gICAgICAgICAgICBtb2RlOiAnZXhjbHVzaXZlJyxcbiAgICAgICAgICAgIGlmQXZhaWxhYmxlOiB0cnVlLFxuICAgICAgICB9XG4gICAgICAgIDoge1xuICAgICAgICAgICAgbW9kZTogJ2V4Y2x1c2l2ZScsXG4gICAgICAgICAgICBzaWduYWw6IGFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgICAgIH0sIGFzeW5jIChsb2NrKSA9PiB7XG4gICAgICAgIGlmIChsb2NrKSB7XG4gICAgICAgICAgICBpZiAoaW50ZXJuYWxzLmRlYnVnKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0BzdXBhYmFzZS9nb3RydWUtanM6IG5hdmlnYXRvckxvY2s6IGFjcXVpcmVkJywgbmFtZSwgbG9jay5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGZuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJuYWxzLmRlYnVnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdAc3VwYWJhc2UvZ290cnVlLWpzOiBuYXZpZ2F0b3JMb2NrOiByZWxlYXNlZCcsIG5hbWUsIGxvY2submFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGFjcXVpcmVUaW1lb3V0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGludGVybmFscy5kZWJ1Zykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQHN1cGFiYXNlL2dvdHJ1ZS1qczogbmF2aWdhdG9yTG9jazogbm90IGltbWVkaWF0ZWx5IGF2YWlsYWJsZScsIG5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTmF2aWdhdG9yTG9ja0FjcXVpcmVUaW1lb3V0RXJyb3IoYEFjcXVpcmluZyBhbiBleGNsdXNpdmUgTmF2aWdhdG9yIExvY2tNYW5hZ2VyIGxvY2sgXCIke25hbWV9XCIgaW1tZWRpYXRlbHkgZmFpbGVkYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJuYWxzLmRlYnVnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBnbG9iYWxUaGlzLm5hdmlnYXRvci5sb2Nrcy5xdWVyeSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0BzdXBhYmFzZS9nb3RydWUtanM6IE5hdmlnYXRvciBMb2NrTWFuYWdlciBzdGF0ZScsIEpTT04uc3RyaW5naWZ5KHJlc3VsdCwgbnVsbCwgJyAgJykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0BzdXBhYmFzZS9nb3RydWUtanM6IEVycm9yIHdoZW4gcXVlcnlpbmcgTmF2aWdhdG9yIExvY2tNYW5hZ2VyIHN0YXRlJywgZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQnJvd3NlciBpcyBub3QgZm9sbG93aW5nIHRoZSBOYXZpZ2F0b3IgTG9ja01hbmFnZXIgc3BlYywgaXRcbiAgICAgICAgICAgICAgICAvLyByZXR1cm5lZCBhIG51bGwgbG9jayB3aGVuIHdlIGRpZG4ndCB1c2UgaWZBdmFpbGFibGUuIFNvIHdlIGNhblxuICAgICAgICAgICAgICAgIC8vIHByZXRlbmQgdGhlIGxvY2sgaXMgYWNxdWlyZWQgaW4gdGhlIG5hbWUgb2YgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICAgICAgICAgICAgICAgIC8vIGFuZCB1c2VyIGV4cGVyaWVuY2UgYW5kIGp1c3QgcnVuIHRoZSBmdW5jdGlvbi5cbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0BzdXBhYmFzZS9nb3RydWUtanM6IE5hdmlnYXRvciBMb2NrTWFuYWdlciByZXR1cm5lZCBhIG51bGwgbG9jayB3aGVuIHVzaW5nICNyZXF1ZXN0IHdpdGhvdXQgaWZBdmFpbGFibGUgc2V0IHRvIHRydWUsIGl0IGFwcGVhcnMgdGhpcyBicm93c2VyIGlzIG5vdCBmb2xsb3dpbmcgdGhlIExvY2tNYW5hZ2VyIHNwZWMgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0xvY2tNYW5hZ2VyL3JlcXVlc3QnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgZm4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pKTtcbn1cbmNvbnN0IFBST0NFU1NfTE9DS1MgPSB7fTtcbi8qKlxuICogSW1wbGVtZW50cyBhIGdsb2JhbCBleGNsdXNpdmUgbG9jayB0aGF0IHdvcmtzIG9ubHkgaW4gdGhlIGN1cnJlbnQgcHJvY2Vzcy5cbiAqIFVzZWZ1bCBmb3IgZW52aXJvbm1lbnRzIGxpa2UgUmVhY3QgTmF0aXZlIG9yIG90aGVyIG5vbi1icm93c2VyXG4gKiBzaW5nbGUtcHJvY2VzcyAoaS5lLiBubyBjb25jZXB0IG9mIFwidGFic1wiKSBlbnZpcm9ubWVudHMuXG4gKlxuICogVXNlIHtAbGluayAjbmF2aWdhdG9yTG9ja30gaW4gYnJvd3NlciBlbnZpcm9ubWVudHMuXG4gKlxuICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgbG9jayB0byBiZSBhY3F1aXJlZC5cbiAqIEBwYXJhbSBhY3F1aXJlVGltZW91dCBJZiBuZWdhdGl2ZSwgbm8gdGltZW91dC4gSWYgMCBhbiBlcnJvciBpcyB0aHJvd24gaWZcbiAqICAgICAgICAgICAgICAgICAgICAgICB0aGUgbG9jayBjYW4ndCBiZSBhY3F1aXJlZCB3aXRob3V0IHdhaXRpbmcuIElmIHBvc2l0aXZlLCB0aGUgbG9jayBhY3F1aXJlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgd2lsbCB0aW1lIG91dCBhZnRlciBzbyBtYW55IG1pbGxpc2Vjb25kcy4gQW4gZXJyb3IgaXNcbiAqICAgICAgICAgICAgICAgICAgICAgICBhIHRpbWVvdXQgaWYgaXQgaGFzIGBpc0FjcXVpcmVUaW1lb3V0YCBzZXQgdG8gdHJ1ZS5cbiAqIEBwYXJhbSBmbiBUaGUgb3BlcmF0aW9uIHRvIHJ1biBvbmNlIHRoZSBsb2NrIGlzIGFjcXVpcmVkLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc0xvY2sobmFtZSwgYWNxdWlyZVRpbWVvdXQsIGZuKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHByZXZpb3VzT3BlcmF0aW9uID0gKF9hID0gUFJPQ0VTU19MT0NLU1tuYW1lXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgY29uc3QgY3VycmVudE9wZXJhdGlvbiA9IFByb21pc2UucmFjZShbXG4gICAgICAgIHByZXZpb3VzT3BlcmF0aW9uLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgIC8vIGlnbm9yZSBlcnJvciBvZiBwcmV2aW91cyBvcGVyYXRpb24gdGhhdCB3ZSdyZSB3YWl0aW5nIHRvIGZpbmlzaFxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0pLFxuICAgICAgICBhY3F1aXJlVGltZW91dCA+PSAwXG4gICAgICAgICAgICA/IG5ldyBQcm9taXNlKChfLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBQcm9jZXNzTG9ja0FjcXVpcmVUaW1lb3V0RXJyb3IoYEFjcXVyaW5nIHByb2Nlc3MgbG9jayB3aXRoIG5hbWUgXCIke25hbWV9XCIgdGltZWQgb3V0YCkpO1xuICAgICAgICAgICAgICAgIH0sIGFjcXVpcmVUaW1lb3V0KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICA6IG51bGwsXG4gICAgXS5maWx0ZXIoKHgpID0+IHgpKVxuICAgICAgICAuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgaWYgKGUgJiYgZS5pc0FjcXVpcmVUaW1lb3V0KSB7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0pXG4gICAgICAgIC50aGVuKGFzeW5jICgpID0+IHtcbiAgICAgICAgLy8gcHJldmlvdXMgb3BlcmF0aW9ucyBmaW5pc2hlZCBhbmQgd2UgZGlkbid0IGdldCBhIHJhY2Ugb24gdGhlIGFjcXVpcmVcbiAgICAgICAgLy8gdGltZW91dCwgc28gdGhlIGN1cnJlbnQgb3BlcmF0aW9uIGNhbiBmaW5hbGx5IHN0YXJ0XG4gICAgICAgIHJldHVybiBhd2FpdCBmbigpO1xuICAgIH0pO1xuICAgIFBST0NFU1NfTE9DS1NbbmFtZV0gPSBjdXJyZW50T3BlcmF0aW9uLmNhdGNoKGFzeW5jIChlKSA9PiB7XG4gICAgICAgIGlmIChlICYmIGUuaXNBY3F1aXJlVGltZW91dCkge1xuICAgICAgICAgICAgLy8gaWYgdGhlIGN1cnJlbnQgb3BlcmF0aW9uIHRpbWVkIG91dCwgaXQgZG9lc24ndCBtZWFuIHRoYXQgdGhlIHByZXZpb3VzXG4gICAgICAgICAgICAvLyBvcGVyYXRpb24gZmluaXNoZWQsIHNvIHdlIG5lZWQgY29udG51ZSB3YWl0aW5nIGZvciBpdCB0byBmaW5pc2hcbiAgICAgICAgICAgIGF3YWl0IHByZXZpb3VzT3BlcmF0aW9uO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZTtcbiAgICB9KTtcbiAgICAvLyBmaW5hbGx5IHdhaXQgZm9yIHRoZSBjdXJyZW50IG9wZXJhdGlvbiB0byBmaW5pc2ggc3VjY2Vzc2Z1bGx5LCB3aXRoIGFuXG4gICAgLy8gZXJyb3Igb3Igd2l0aCBhbiBhY3F1aXJlIHRpbWVvdXQgZXJyb3JcbiAgICByZXR1cm4gYXdhaXQgY3VycmVudE9wZXJhdGlvbjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvY2tzLmpzLm1hcCIsIi8qKlxuICogaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2dsb2JhbHRoaXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBvbHlmaWxsR2xvYmFsVGhpcygpIHtcbiAgICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKVxuICAgICAgICByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE9iamVjdC5wcm90b3R5cGUsICdfX21hZ2ljX18nLCB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yICdBbGxvdyBhY2Nlc3MgdG8gbWFnaWMnXG4gICAgICAgIF9fbWFnaWNfXy5nbG9iYWxUaGlzID0gX19tYWdpY19fO1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yICdBbGxvdyBhY2Nlc3MgdG8gbWFnaWMnXG4gICAgICAgIGRlbGV0ZSBPYmplY3QucHJvdG90eXBlLl9fbWFnaWNfXztcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAnQWxsb3cgYWNjZXNzIHRvIGdsb2JhbHMnXG4gICAgICAgICAgICBzZWxmLmdsb2JhbFRoaXMgPSBzZWxmO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cG9seWZpbGxzLmpzLm1hcCIsImltcG9ydCBHb1RydWVBZG1pbkFwaSBmcm9tICcuL0dvVHJ1ZUFkbWluQXBpJztcbmltcG9ydCB7IERFRkFVTFRfSEVBREVSUywgRVhQSVJZX01BUkdJTl9NUywgQVVUT19SRUZSRVNIX1RJQ0tfRFVSQVRJT05fTVMsIEFVVE9fUkVGUkVTSF9USUNLX1RIUkVTSE9MRCwgR09UUlVFX1VSTCwgU1RPUkFHRV9LRVksIEpXS1NfVFRMLCB9IGZyb20gJy4vbGliL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBBdXRoSW1wbGljaXRHcmFudFJlZGlyZWN0RXJyb3IsIEF1dGhQS0NFR3JhbnRDb2RlRXhjaGFuZ2VFcnJvciwgQXV0aEludmFsaWRDcmVkZW50aWFsc0Vycm9yLCBBdXRoU2Vzc2lvbk1pc3NpbmdFcnJvciwgQXV0aEludmFsaWRUb2tlblJlc3BvbnNlRXJyb3IsIEF1dGhVbmtub3duRXJyb3IsIGlzQXV0aEFwaUVycm9yLCBpc0F1dGhFcnJvciwgaXNBdXRoUmV0cnlhYmxlRmV0Y2hFcnJvciwgaXNBdXRoU2Vzc2lvbk1pc3NpbmdFcnJvciwgaXNBdXRoSW1wbGljaXRHcmFudFJlZGlyZWN0RXJyb3IsIEF1dGhJbnZhbGlkSnd0RXJyb3IsIH0gZnJvbSAnLi9saWIvZXJyb3JzJztcbmltcG9ydCB7IF9yZXF1ZXN0LCBfc2Vzc2lvblJlc3BvbnNlLCBfc2Vzc2lvblJlc3BvbnNlUGFzc3dvcmQsIF91c2VyUmVzcG9uc2UsIF9zc29SZXNwb25zZSwgfSBmcm9tICcuL2xpYi9mZXRjaCc7XG5pbXBvcnQgeyBEZWZlcnJlZCwgZ2V0SXRlbUFzeW5jLCBpc0Jyb3dzZXIsIHJlbW92ZUl0ZW1Bc3luYywgcmVzb2x2ZUZldGNoLCBzZXRJdGVtQXN5bmMsIHV1aWQsIHJldHJ5YWJsZSwgc2xlZXAsIHN1cHBvcnRzTG9jYWxTdG9yYWdlLCBwYXJzZVBhcmFtZXRlcnNGcm9tVVJMLCBnZXRDb2RlQ2hhbGxlbmdlQW5kTWV0aG9kLCBnZXRBbGdvcml0aG0sIHZhbGlkYXRlRXhwLCBkZWNvZGVKV1QsIH0gZnJvbSAnLi9saWIvaGVscGVycyc7XG5pbXBvcnQgeyBsb2NhbFN0b3JhZ2VBZGFwdGVyLCBtZW1vcnlMb2NhbFN0b3JhZ2VBZGFwdGVyIH0gZnJvbSAnLi9saWIvbG9jYWwtc3RvcmFnZSc7XG5pbXBvcnQgeyBwb2x5ZmlsbEdsb2JhbFRoaXMgfSBmcm9tICcuL2xpYi9wb2x5ZmlsbHMnO1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gJy4vbGliL3ZlcnNpb24nO1xuaW1wb3J0IHsgTG9ja0FjcXVpcmVUaW1lb3V0RXJyb3IsIG5hdmlnYXRvckxvY2sgfSBmcm9tICcuL2xpYi9sb2Nrcyc7XG5pbXBvcnQgeyBzdHJpbmdUb1VpbnQ4QXJyYXksIGJ5dGVzVG9CYXNlNjRVUkwgfSBmcm9tICcuL2xpYi9iYXNlNjR1cmwnO1xucG9seWZpbGxHbG9iYWxUaGlzKCk7IC8vIE1ha2UgXCJnbG9iYWxUaGlzXCIgYXZhaWxhYmxlXG5jb25zdCBERUZBVUxUX09QVElPTlMgPSB7XG4gICAgdXJsOiBHT1RSVUVfVVJMLFxuICAgIHN0b3JhZ2VLZXk6IFNUT1JBR0VfS0VZLFxuICAgIGF1dG9SZWZyZXNoVG9rZW46IHRydWUsXG4gICAgcGVyc2lzdFNlc3Npb246IHRydWUsXG4gICAgZGV0ZWN0U2Vzc2lvbkluVXJsOiB0cnVlLFxuICAgIGhlYWRlcnM6IERFRkFVTFRfSEVBREVSUyxcbiAgICBmbG93VHlwZTogJ2ltcGxpY2l0JyxcbiAgICBkZWJ1ZzogZmFsc2UsXG4gICAgaGFzQ3VzdG9tQXV0aG9yaXphdGlvbkhlYWRlcjogZmFsc2UsXG59O1xuYXN5bmMgZnVuY3Rpb24gbG9ja05vT3AobmFtZSwgYWNxdWlyZVRpbWVvdXQsIGZuKSB7XG4gICAgcmV0dXJuIGF3YWl0IGZuKCk7XG59XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHb1RydWVDbGllbnQge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBjbGllbnQgZm9yIHVzZSBpbiB0aGUgYnJvd3Nlci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHRoaXMubWVtb3J5U3RvcmFnZSA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGVDaGFuZ2VFbWl0dGVycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5hdXRvUmVmcmVzaFRpY2tlciA9IG51bGw7XG4gICAgICAgIHRoaXMudmlzaWJpbGl0eUNoYW5nZWRDYWxsYmFjayA9IG51bGw7XG4gICAgICAgIHRoaXMucmVmcmVzaGluZ0RlZmVycmVkID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEtlZXBzIHRyYWNrIG9mIHRoZSBhc3luYyBjbGllbnQgaW5pdGlhbGl6YXRpb24uXG4gICAgICAgICAqIFdoZW4gbnVsbCBvciBub3QgeWV0IHJlc29sdmVkIHRoZSBhdXRoIHN0YXRlIGlzIGB1bmtub3duYFxuICAgICAgICAgKiBPbmNlIHJlc29sdmVkIHRoZSB0aGUgYXV0aCBzdGF0ZSBpcyBrbm93biBhbmQgaXQncyBzYXZlIHRvIGNhbGwgYW55IGZ1cnRoZXIgY2xpZW50IG1ldGhvZHMuXG4gICAgICAgICAqIEtlZXAgZXh0cmEgY2FyZSB0byBuZXZlciByZWplY3Qgb3IgdGhyb3cgdW5jYXVnaHQgZXJyb3JzXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmluaXRpYWxpemVQcm9taXNlID0gbnVsbDtcbiAgICAgICAgdGhpcy5kZXRlY3RTZXNzaW9uSW5VcmwgPSB0cnVlO1xuICAgICAgICB0aGlzLmhhc0N1c3RvbUF1dGhvcml6YXRpb25IZWFkZXIgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdXBwcmVzc0dldFNlc3Npb25XYXJuaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMubG9ja0FjcXVpcmVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucGVuZGluZ0luTG9jayA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCB0byBicm9hZGNhc3Qgc3RhdGUgY2hhbmdlIGV2ZW50cyB0byBvdGhlciB0YWJzIGxpc3RlbmluZy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYnJvYWRjYXN0Q2hhbm5lbCA9IG51bGw7XG4gICAgICAgIHRoaXMubG9nZ2VyID0gY29uc29sZS5sb2c7XG4gICAgICAgIHRoaXMuaW5zdGFuY2VJRCA9IEdvVHJ1ZUNsaWVudC5uZXh0SW5zdGFuY2VJRDtcbiAgICAgICAgR29UcnVlQ2xpZW50Lm5leHRJbnN0YW5jZUlEICs9IDE7XG4gICAgICAgIGlmICh0aGlzLmluc3RhbmNlSUQgPiAwICYmIGlzQnJvd3NlcigpKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ011bHRpcGxlIEdvVHJ1ZUNsaWVudCBpbnN0YW5jZXMgZGV0ZWN0ZWQgaW4gdGhlIHNhbWUgYnJvd3NlciBjb250ZXh0LiBJdCBpcyBub3QgYW4gZXJyb3IsIGJ1dCB0aGlzIHNob3VsZCBiZSBhdm9pZGVkIGFzIGl0IG1heSBwcm9kdWNlIHVuZGVmaW5lZCBiZWhhdmlvciB3aGVuIHVzZWQgY29uY3VycmVudGx5IHVuZGVyIHRoZSBzYW1lIHN0b3JhZ2Uga2V5LicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX09QVElPTlMpLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5sb2dEZWJ1Z01lc3NhZ2VzID0gISFzZXR0aW5ncy5kZWJ1ZztcbiAgICAgICAgaWYgKHR5cGVvZiBzZXR0aW5ncy5kZWJ1ZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIgPSBzZXR0aW5ncy5kZWJ1ZztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBlcnNpc3RTZXNzaW9uID0gc2V0dGluZ3MucGVyc2lzdFNlc3Npb247XG4gICAgICAgIHRoaXMuc3RvcmFnZUtleSA9IHNldHRpbmdzLnN0b3JhZ2VLZXk7XG4gICAgICAgIHRoaXMuYXV0b1JlZnJlc2hUb2tlbiA9IHNldHRpbmdzLmF1dG9SZWZyZXNoVG9rZW47XG4gICAgICAgIHRoaXMuYWRtaW4gPSBuZXcgR29UcnVlQWRtaW5BcGkoe1xuICAgICAgICAgICAgdXJsOiBzZXR0aW5ncy51cmwsXG4gICAgICAgICAgICBoZWFkZXJzOiBzZXR0aW5ncy5oZWFkZXJzLFxuICAgICAgICAgICAgZmV0Y2g6IHNldHRpbmdzLmZldGNoLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cmwgPSBzZXR0aW5ncy51cmw7XG4gICAgICAgIHRoaXMuaGVhZGVycyA9IHNldHRpbmdzLmhlYWRlcnM7XG4gICAgICAgIHRoaXMuZmV0Y2ggPSByZXNvbHZlRmV0Y2goc2V0dGluZ3MuZmV0Y2gpO1xuICAgICAgICB0aGlzLmxvY2sgPSBzZXR0aW5ncy5sb2NrIHx8IGxvY2tOb09wO1xuICAgICAgICB0aGlzLmRldGVjdFNlc3Npb25JblVybCA9IHNldHRpbmdzLmRldGVjdFNlc3Npb25JblVybDtcbiAgICAgICAgdGhpcy5mbG93VHlwZSA9IHNldHRpbmdzLmZsb3dUeXBlO1xuICAgICAgICB0aGlzLmhhc0N1c3RvbUF1dGhvcml6YXRpb25IZWFkZXIgPSBzZXR0aW5ncy5oYXNDdXN0b21BdXRob3JpemF0aW9uSGVhZGVyO1xuICAgICAgICBpZiAoc2V0dGluZ3MubG9jaykge1xuICAgICAgICAgICAgdGhpcy5sb2NrID0gc2V0dGluZ3MubG9jaztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0Jyb3dzZXIoKSAmJiAoKF9hID0gZ2xvYmFsVGhpcyA9PT0gbnVsbCB8fCBnbG9iYWxUaGlzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBnbG9iYWxUaGlzLm5hdmlnYXRvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxvY2tzKSkge1xuICAgICAgICAgICAgdGhpcy5sb2NrID0gbmF2aWdhdG9yTG9jaztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9jayA9IGxvY2tOb09wO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuandrcyA9IHsga2V5czogW10gfTtcbiAgICAgICAgdGhpcy5qd2tzX2NhY2hlZF9hdCA9IE51bWJlci5NSU5fU0FGRV9JTlRFR0VSO1xuICAgICAgICB0aGlzLm1mYSA9IHtcbiAgICAgICAgICAgIHZlcmlmeTogdGhpcy5fdmVyaWZ5LmJpbmQodGhpcyksXG4gICAgICAgICAgICBlbnJvbGw6IHRoaXMuX2Vucm9sbC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgdW5lbnJvbGw6IHRoaXMuX3VuZW5yb2xsLmJpbmQodGhpcyksXG4gICAgICAgICAgICBjaGFsbGVuZ2U6IHRoaXMuX2NoYWxsZW5nZS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgbGlzdEZhY3RvcnM6IHRoaXMuX2xpc3RGYWN0b3JzLmJpbmQodGhpcyksXG4gICAgICAgICAgICBjaGFsbGVuZ2VBbmRWZXJpZnk6IHRoaXMuX2NoYWxsZW5nZUFuZFZlcmlmeS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgZ2V0QXV0aGVudGljYXRvckFzc3VyYW5jZUxldmVsOiB0aGlzLl9nZXRBdXRoZW50aWNhdG9yQXNzdXJhbmNlTGV2ZWwuYmluZCh0aGlzKSxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRoaXMucGVyc2lzdFNlc3Npb24pIHtcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5zdG9yYWdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yYWdlID0gc2V0dGluZ3Muc3RvcmFnZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChzdXBwb3J0c0xvY2FsU3RvcmFnZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcmFnZSA9IGxvY2FsU3RvcmFnZUFkYXB0ZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lbW9yeVN0b3JhZ2UgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9yYWdlID0gbWVtb3J5TG9jYWxTdG9yYWdlQWRhcHRlcih0aGlzLm1lbW9yeVN0b3JhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubWVtb3J5U3RvcmFnZSA9IHt9O1xuICAgICAgICAgICAgdGhpcy5zdG9yYWdlID0gbWVtb3J5TG9jYWxTdG9yYWdlQWRhcHRlcih0aGlzLm1lbW9yeVN0b3JhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0Jyb3dzZXIoKSAmJiBnbG9iYWxUaGlzLkJyb2FkY2FzdENoYW5uZWwgJiYgdGhpcy5wZXJzaXN0U2Vzc2lvbiAmJiB0aGlzLnN0b3JhZ2VLZXkpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5icm9hZGNhc3RDaGFubmVsID0gbmV3IGdsb2JhbFRoaXMuQnJvYWRjYXN0Q2hhbm5lbCh0aGlzLnN0b3JhZ2VLZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIGEgbmV3IEJyb2FkY2FzdENoYW5uZWwsIG11bHRpLXRhYiBzdGF0ZSBjaGFuZ2VzIHdpbGwgbm90IGJlIGF2YWlsYWJsZScsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgKF9iID0gdGhpcy5icm9hZGNhc3RDaGFubmVsKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlYnVnKCdyZWNlaXZlZCBicm9hZGNhc3Qgbm90aWZpY2F0aW9uIGZyb20gb3RoZXIgdGFiIG9yIGNsaWVudCcsIGV2ZW50KTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9ub3RpZnlBbGxTdWJzY3JpYmVycyhldmVudC5kYXRhLmV2ZW50LCBldmVudC5kYXRhLnNlc3Npb24sIGZhbHNlKTsgLy8gYnJvYWRjYXN0ID0gZmFsc2Ugc28gd2UgZG9uJ3QgZ2V0IGFuIGVuZGxlc3MgbG9vcCBvZiBtZXNzYWdlc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgfVxuICAgIF9kZWJ1ZyguLi5hcmdzKSB7XG4gICAgICAgIGlmICh0aGlzLmxvZ0RlYnVnTWVzc2FnZXMpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyKGBHb1RydWVDbGllbnRAJHt0aGlzLmluc3RhbmNlSUR9ICgke3ZlcnNpb259KSAke25ldyBEYXRlKCkudG9JU09TdHJpbmcoKX1gLCAuLi5hcmdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIGNsaWVudCBzZXNzaW9uIGVpdGhlciBmcm9tIHRoZSB1cmwgb3IgZnJvbSBzdG9yYWdlLlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGF1dG9tYXRpY2FsbHkgY2FsbGVkIHdoZW4gaW5zdGFudGlhdGluZyB0aGUgY2xpZW50LCBidXQgc2hvdWxkIGFsc28gYmUgY2FsbGVkXG4gICAgICogbWFudWFsbHkgd2hlbiBjaGVja2luZyBmb3IgYW4gZXJyb3IgZnJvbSBhbiBhdXRoIHJlZGlyZWN0IChvYXV0aCwgbWFnaWNsaW5rLCBwYXNzd29yZCByZWNvdmVyeSwgZXRjKS5cbiAgICAgKi9cbiAgICBhc3luYyBpbml0aWFsaXplKCkge1xuICAgICAgICBpZiAodGhpcy5pbml0aWFsaXplUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZVByb21pc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbml0aWFsaXplUHJvbWlzZSA9IChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fYWNxdWlyZUxvY2soLTEsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5faW5pdGlhbGl6ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pKCk7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmluaXRpYWxpemVQcm9taXNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJTVBPUlRBTlQ6XG4gICAgICogMS4gTmV2ZXIgdGhyb3cgaW4gdGhpcyBtZXRob2QsIGFzIGl0IGlzIGNhbGxlZCBmcm9tIHRoZSBjb25zdHJ1Y3RvclxuICAgICAqIDIuIE5ldmVyIHJldHVybiBhIHNlc3Npb24gZnJvbSB0aGlzIG1ldGhvZCBhcyBpdCB3b3VsZCBiZSBjYWNoZWQgb3ZlclxuICAgICAqICAgIHRoZSB3aG9sZSBsaWZldGltZSBvZiB0aGUgY2xpZW50XG4gICAgICovXG4gICAgYXN5bmMgX2luaXRpYWxpemUoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHBhcnNlUGFyYW1ldGVyc0Zyb21VUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuICAgICAgICAgICAgbGV0IGNhbGxiYWNrVXJsVHlwZSA9ICdub25lJztcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc0ltcGxpY2l0R3JhbnRDYWxsYmFjayhwYXJhbXMpKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tVcmxUeXBlID0gJ2ltcGxpY2l0JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGF3YWl0IHRoaXMuX2lzUEtDRUNhbGxiYWNrKHBhcmFtcykpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFja1VybFR5cGUgPSAncGtjZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEF0dGVtcHQgdG8gZ2V0IHRoZSBzZXNzaW9uIGZyb20gdGhlIFVSTCBvbmx5IGlmIHRoZXNlIGNvbmRpdGlvbnMgYXJlIGZ1bGZpbGxlZFxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIE5vdGU6IElmIHRoZSBVUkwgaXNuJ3Qgb25lIG9mIHRoZSBjYWxsYmFjayB1cmwgdHlwZXMgKGltcGxpY2l0IG9yIHBrY2UpLFxuICAgICAgICAgICAgICogdGhlbiB0aGVyZSBjb3VsZCBiZSBhbiBleGlzdGluZyBzZXNzaW9uIHNvIHdlIGRvbid0IHdhbnQgdG8gcHJlbWF0dXJlbHkgcmVtb3ZlIGl0XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmIChpc0Jyb3dzZXIoKSAmJiB0aGlzLmRldGVjdFNlc3Npb25JblVybCAmJiBjYWxsYmFja1VybFR5cGUgIT09ICdub25lJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHRoaXMuX2dldFNlc3Npb25Gcm9tVVJMKHBhcmFtcywgY2FsbGJhY2tVcmxUeXBlKTtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGVidWcoJyNfaW5pdGlhbGl6ZSgpJywgJ2Vycm9yIGRldGVjdGluZyBzZXNzaW9uIGZyb20gVVJMJywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNBdXRoSW1wbGljaXRHcmFudFJlZGlyZWN0RXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvckNvZGUgPSAoX2EgPSBlcnJvci5kZXRhaWxzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY29kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvckNvZGUgPT09ICdpZGVudGl0eV9hbHJlYWR5X2V4aXN0cycgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvckNvZGUgPT09ICdpZGVudGl0eV9ub3RfZm91bmQnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JDb2RlID09PSAnc2luZ2xlX2lkZW50aXR5X25vdF9kZWxldGFibGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3IgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBmYWlsZWQgbG9naW4gYXR0ZW1wdCB2aWEgdXJsLFxuICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgb2xkIHNlc3Npb24gYXMgaW4gdmVyaWZ5T3RwLCBzaWduVXAgYW5kIHNpZ25JbldpdGgqXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX3JlbW92ZVNlc3Npb24oKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3IgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyBzZXNzaW9uLCByZWRpcmVjdFR5cGUgfSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGVidWcoJyNfaW5pdGlhbGl6ZSgpJywgJ2RldGVjdGVkIHNlc3Npb24gaW4gVVJMJywgc2Vzc2lvbiwgJ3JlZGlyZWN0IHR5cGUnLCByZWRpcmVjdFR5cGUpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX3NhdmVTZXNzaW9uKHNlc3Npb24pO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVkaXJlY3RUeXBlID09PSAncmVjb3ZlcnknKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9ub3RpZnlBbGxTdWJzY3JpYmVycygnUEFTU1dPUkRfUkVDT1ZFUlknLCBzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX25vdGlmeUFsbFN1YnNjcmliZXJzKCdTSUdORURfSU4nLCBzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGVycm9yOiBudWxsIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBubyBsb2dpbiBhdHRlbXB0IHZpYSBjYWxsYmFjayB1cmwgdHJ5IHRvIHJlY292ZXIgc2Vzc2lvbiBmcm9tIHN0b3JhZ2VcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX3JlY292ZXJBbmRSZWZyZXNoKCk7XG4gICAgICAgICAgICByZXR1cm4geyBlcnJvcjogbnVsbCB9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGlzQXV0aEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGVycm9yIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGVycm9yOiBuZXcgQXV0aFVua25vd25FcnJvcignVW5leHBlY3RlZCBlcnJvciBkdXJpbmcgaW5pdGlhbGl6YXRpb24nLCBlcnJvciksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5faGFuZGxlVmlzaWJpbGl0eUNoYW5nZSgpO1xuICAgICAgICAgICAgdGhpcy5fZGVidWcoJyNfaW5pdGlhbGl6ZSgpJywgJ2VuZCcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgYW5vbnltb3VzIHVzZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIHNlc3Npb24gd2hlcmUgdGhlIGlzX2Fub255bW91cyBjbGFpbSBpbiB0aGUgYWNjZXNzIHRva2VuIEpXVCBzZXQgdG8gdHJ1ZVxuICAgICAqL1xuICAgIGFzeW5jIHNpZ25JbkFub255bW91c2x5KGNyZWRlbnRpYWxzKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgX3JlcXVlc3QodGhpcy5mZXRjaCwgJ1BPU1QnLCBgJHt0aGlzLnVybH0vc2lnbnVwYCwge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IChfYiA9IChfYSA9IGNyZWRlbnRpYWxzID09PSBudWxsIHx8IGNyZWRlbnRpYWxzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjcmVkZW50aWFscy5vcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGF0YSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDoge30sXG4gICAgICAgICAgICAgICAgICAgIGdvdHJ1ZV9tZXRhX3NlY3VyaXR5OiB7IGNhcHRjaGFfdG9rZW46IChfYyA9IGNyZWRlbnRpYWxzID09PSBudWxsIHx8IGNyZWRlbnRpYWxzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjcmVkZW50aWFscy5vcHRpb25zKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2FwdGNoYVRva2VuIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB4Zm9ybTogX3Nlc3Npb25SZXNwb25zZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gcmVzO1xuICAgICAgICAgICAgaWYgKGVycm9yIHx8ICFkYXRhKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyB1c2VyOiBudWxsLCBzZXNzaW9uOiBudWxsIH0sIGVycm9yOiBlcnJvciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IGRhdGEuc2Vzc2lvbjtcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBkYXRhLnVzZXI7XG4gICAgICAgICAgICBpZiAoZGF0YS5zZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fc2F2ZVNlc3Npb24oZGF0YS5zZXNzaW9uKTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9ub3RpZnlBbGxTdWJzY3JpYmVycygnU0lHTkVEX0lOJywgc2Vzc2lvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBkYXRhOiB7IHVzZXIsIHNlc3Npb24gfSwgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChpc0F1dGhFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiB7IHVzZXI6IG51bGwsIHNlc3Npb246IG51bGwgfSwgZXJyb3IgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgdXNlci5cbiAgICAgKlxuICAgICAqIEJlIGF3YXJlIHRoYXQgaWYgYSB1c2VyIGFjY291bnQgZXhpc3RzIGluIHRoZSBzeXN0ZW0geW91IG1heSBnZXQgYmFjayBhblxuICAgICAqIGVycm9yIG1lc3NhZ2UgdGhhdCBhdHRlbXB0cyB0byBoaWRlIHRoaXMgaW5mb3JtYXRpb24gZnJvbSB0aGUgdXNlci5cbiAgICAgKiBUaGlzIG1ldGhvZCBoYXMgc3VwcG9ydCBmb3IgUEtDRSB2aWEgZW1haWwgc2lnbnVwcy4gVGhlIFBLQ0UgZmxvdyBjYW5ub3QgYmUgdXNlZCB3aGVuIGF1dG9jb25maXJtIGlzIGVuYWJsZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIGxvZ2dlZC1pbiBzZXNzaW9uIGlmIHRoZSBzZXJ2ZXIgaGFzIFwiYXV0b2NvbmZpcm1cIiBPTlxuICAgICAqIEByZXR1cm5zIEEgdXNlciBpZiB0aGUgc2VydmVyIGhhcyBcImF1dG9jb25maXJtXCIgT0ZGXG4gICAgICovXG4gICAgYXN5bmMgc2lnblVwKGNyZWRlbnRpYWxzKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IHJlcztcbiAgICAgICAgICAgIGlmICgnZW1haWwnIGluIGNyZWRlbnRpYWxzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQsIG9wdGlvbnMgfSA9IGNyZWRlbnRpYWxzO1xuICAgICAgICAgICAgICAgIGxldCBjb2RlQ2hhbGxlbmdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBsZXQgY29kZUNoYWxsZW5nZU1ldGhvZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZmxvd1R5cGUgPT09ICdwa2NlJykge1xuICAgICAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgICAgIFtjb2RlQ2hhbGxlbmdlLCBjb2RlQ2hhbGxlbmdlTWV0aG9kXSA9IGF3YWl0IGdldENvZGVDaGFsbGVuZ2VBbmRNZXRob2QodGhpcy5zdG9yYWdlLCB0aGlzLnN0b3JhZ2VLZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXMgPSBhd2FpdCBfcmVxdWVzdCh0aGlzLmZldGNoLCAnUE9TVCcsIGAke3RoaXMudXJsfS9zaWdudXBgLCB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3RUbzogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmVtYWlsUmVkaXJlY3RUbyxcbiAgICAgICAgICAgICAgICAgICAgYm9keToge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IChfYSA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5kYXRhKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdvdHJ1ZV9tZXRhX3NlY3VyaXR5OiB7IGNhcHRjaGFfdG9rZW46IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5jYXB0Y2hhVG9rZW4gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVfY2hhbGxlbmdlOiBjb2RlQ2hhbGxlbmdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZV9jaGFsbGVuZ2VfbWV0aG9kOiBjb2RlQ2hhbGxlbmdlTWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB4Zm9ybTogX3Nlc3Npb25SZXNwb25zZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCdwaG9uZScgaW4gY3JlZGVudGlhbHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHBob25lLCBwYXNzd29yZCwgb3B0aW9ucyB9ID0gY3JlZGVudGlhbHM7XG4gICAgICAgICAgICAgICAgcmVzID0gYXdhaXQgX3JlcXVlc3QodGhpcy5mZXRjaCwgJ1BPU1QnLCBgJHt0aGlzLnVybH0vc2lnbnVwYCwge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBob25lLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiAoX2IgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZGF0YSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDoge30sXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsOiAoX2MgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuY2hhbm5lbCkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogJ3NtcycsXG4gICAgICAgICAgICAgICAgICAgICAgICBnb3RydWVfbWV0YV9zZWN1cml0eTogeyBjYXB0Y2hhX3Rva2VuOiBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuY2FwdGNoYVRva2VuIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHhmb3JtOiBfc2Vzc2lvblJlc3BvbnNlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEF1dGhJbnZhbGlkQ3JlZGVudGlhbHNFcnJvcignWW91IG11c3QgcHJvdmlkZSBlaXRoZXIgYW4gZW1haWwgb3IgcGhvbmUgbnVtYmVyIGFuZCBhIHBhc3N3b3JkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSByZXM7XG4gICAgICAgICAgICBpZiAoZXJyb3IgfHwgIWRhdGEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiB7IHVzZXI6IG51bGwsIHNlc3Npb246IG51bGwgfSwgZXJyb3I6IGVycm9yIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uID0gZGF0YS5zZXNzaW9uO1xuICAgICAgICAgICAgY29uc3QgdXNlciA9IGRhdGEudXNlcjtcbiAgICAgICAgICAgIGlmIChkYXRhLnNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9zYXZlU2Vzc2lvbihkYXRhLnNlc3Npb24pO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX25vdGlmeUFsbFN1YnNjcmliZXJzKCdTSUdORURfSU4nLCBzZXNzaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgdXNlciwgc2Vzc2lvbiB9LCBlcnJvcjogbnVsbCB9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGlzQXV0aEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgdXNlcjogbnVsbCwgc2Vzc2lvbjogbnVsbCB9LCBlcnJvciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9nIGluIGFuIGV4aXN0aW5nIHVzZXIgd2l0aCBhbiBlbWFpbCBhbmQgcGFzc3dvcmQgb3IgcGhvbmUgYW5kIHBhc3N3b3JkLlxuICAgICAqXG4gICAgICogQmUgYXdhcmUgdGhhdCB5b3UgbWF5IGdldCBiYWNrIGFuIGVycm9yIG1lc3NhZ2UgdGhhdCB3aWxsIG5vdCBkaXN0aW5ndWlzaFxuICAgICAqIGJldHdlZW4gdGhlIGNhc2VzIHdoZXJlIHRoZSBhY2NvdW50IGRvZXMgbm90IGV4aXN0IG9yIHRoYXQgdGhlXG4gICAgICogZW1haWwvcGhvbmUgYW5kIHBhc3N3b3JkIGNvbWJpbmF0aW9uIGlzIHdyb25nIG9yIHRoYXQgdGhlIGFjY291bnQgY2FuIG9ubHlcbiAgICAgKiBiZSBhY2Nlc3NlZCB2aWEgc29jaWFsIGxvZ2luLlxuICAgICAqL1xuICAgIGFzeW5jIHNpZ25JbldpdGhQYXNzd29yZChjcmVkZW50aWFscykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IHJlcztcbiAgICAgICAgICAgIGlmICgnZW1haWwnIGluIGNyZWRlbnRpYWxzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQsIG9wdGlvbnMgfSA9IGNyZWRlbnRpYWxzO1xuICAgICAgICAgICAgICAgIHJlcyA9IGF3YWl0IF9yZXF1ZXN0KHRoaXMuZmV0Y2gsICdQT1NUJywgYCR7dGhpcy51cmx9L3Rva2VuP2dyYW50X3R5cGU9cGFzc3dvcmRgLCB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgICAgICAgICAgYm9keToge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdvdHJ1ZV9tZXRhX3NlY3VyaXR5OiB7IGNhcHRjaGFfdG9rZW46IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5jYXB0Y2hhVG9rZW4gfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgeGZvcm06IF9zZXNzaW9uUmVzcG9uc2VQYXNzd29yZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCdwaG9uZScgaW4gY3JlZGVudGlhbHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHBob25lLCBwYXNzd29yZCwgb3B0aW9ucyB9ID0gY3JlZGVudGlhbHM7XG4gICAgICAgICAgICAgICAgcmVzID0gYXdhaXQgX3JlcXVlc3QodGhpcy5mZXRjaCwgJ1BPU1QnLCBgJHt0aGlzLnVybH0vdG9rZW4/Z3JhbnRfdHlwZT1wYXNzd29yZGAsIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwaG9uZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ290cnVlX21ldGFfc2VjdXJpdHk6IHsgY2FwdGNoYV90b2tlbjogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmNhcHRjaGFUb2tlbiB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB4Zm9ybTogX3Nlc3Npb25SZXNwb25zZVBhc3N3b3JkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEF1dGhJbnZhbGlkQ3JlZGVudGlhbHNFcnJvcignWW91IG11c3QgcHJvdmlkZSBlaXRoZXIgYW4gZW1haWwgb3IgcGhvbmUgbnVtYmVyIGFuZCBhIHBhc3N3b3JkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSByZXM7XG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiB7IHVzZXI6IG51bGwsIHNlc3Npb246IG51bGwgfSwgZXJyb3IgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFkYXRhIHx8ICFkYXRhLnNlc3Npb24gfHwgIWRhdGEudXNlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgdXNlcjogbnVsbCwgc2Vzc2lvbjogbnVsbCB9LCBlcnJvcjogbmV3IEF1dGhJbnZhbGlkVG9rZW5SZXNwb25zZUVycm9yKCkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhLnNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9zYXZlU2Vzc2lvbihkYXRhLnNlc3Npb24pO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX25vdGlmeUFsbFN1YnNjcmliZXJzKCdTSUdORURfSU4nLCBkYXRhLnNlc3Npb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBkYXRhOiBPYmplY3QuYXNzaWduKHsgdXNlcjogZGF0YS51c2VyLCBzZXNzaW9uOiBkYXRhLnNlc3Npb24gfSwgKGRhdGEud2Vha19wYXNzd29yZCA/IHsgd2Vha1Bhc3N3b3JkOiBkYXRhLndlYWtfcGFzc3dvcmQgfSA6IG51bGwpKSxcbiAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoaXNBdXRoRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyB1c2VyOiBudWxsLCBzZXNzaW9uOiBudWxsIH0sIGVycm9yIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2cgaW4gYW4gZXhpc3RpbmcgdXNlciB2aWEgYSB0aGlyZC1wYXJ0eSBwcm92aWRlci5cbiAgICAgKiBUaGlzIG1ldGhvZCBzdXBwb3J0cyB0aGUgUEtDRSBmbG93LlxuICAgICAqL1xuICAgIGFzeW5jIHNpZ25JbldpdGhPQXV0aChjcmVkZW50aWFscykge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9oYW5kbGVQcm92aWRlclNpZ25JbihjcmVkZW50aWFscy5wcm92aWRlciwge1xuICAgICAgICAgICAgcmVkaXJlY3RUbzogKF9hID0gY3JlZGVudGlhbHMub3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlZGlyZWN0VG8sXG4gICAgICAgICAgICBzY29wZXM6IChfYiA9IGNyZWRlbnRpYWxzLm9wdGlvbnMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zY29wZXMsXG4gICAgICAgICAgICBxdWVyeVBhcmFtczogKF9jID0gY3JlZGVudGlhbHMub3B0aW9ucykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnF1ZXJ5UGFyYW1zLFxuICAgICAgICAgICAgc2tpcEJyb3dzZXJSZWRpcmVjdDogKF9kID0gY3JlZGVudGlhbHMub3B0aW9ucykgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLnNraXBCcm93c2VyUmVkaXJlY3QsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2cgaW4gYW4gZXhpc3RpbmcgdXNlciBieSBleGNoYW5naW5nIGFuIEF1dGggQ29kZSBpc3N1ZWQgZHVyaW5nIHRoZSBQS0NFIGZsb3cuXG4gICAgICovXG4gICAgYXN5bmMgZXhjaGFuZ2VDb2RlRm9yU2Vzc2lvbihhdXRoQ29kZSkge1xuICAgICAgICBhd2FpdCB0aGlzLmluaXRpYWxpemVQcm9taXNlO1xuICAgICAgICByZXR1cm4gdGhpcy5fYWNxdWlyZUxvY2soLTEsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9leGNoYW5nZUNvZGVGb3JTZXNzaW9uKGF1dGhDb2RlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNpZ25zIGluIGEgdXNlciBieSB2ZXJpZnlpbmcgYSBtZXNzYWdlIHNpZ25lZCBieSB0aGUgdXNlcidzIHByaXZhdGUga2V5LlxuICAgICAqIE9ubHkgU29sYW5hIHN1cHBvcnRlZCBhdCB0aGlzIHRpbWUsIHVzaW5nIHRoZSBTaWduIGluIHdpdGggU29sYW5hIHN0YW5kYXJkLlxuICAgICAqL1xuICAgIGFzeW5jIHNpZ25JbldpdGhXZWIzKGNyZWRlbnRpYWxzKSB7XG4gICAgICAgIGNvbnN0IHsgY2hhaW4gfSA9IGNyZWRlbnRpYWxzO1xuICAgICAgICBpZiAoY2hhaW4gPT09ICdzb2xhbmEnKSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5zaWduSW5XaXRoU29sYW5hKGNyZWRlbnRpYWxzKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEBzdXBhYmFzZS9hdXRoLWpzOiBVbnN1cHBvcnRlZCBjaGFpbiBcIiR7Y2hhaW59XCJgKTtcbiAgICB9XG4gICAgYXN5bmMgc2lnbkluV2l0aFNvbGFuYShjcmVkZW50aWFscykge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaiwgX2ssIF9sLCBfbTtcbiAgICAgICAgbGV0IG1lc3NhZ2U7XG4gICAgICAgIGxldCBzaWduYXR1cmU7XG4gICAgICAgIGlmICgnbWVzc2FnZScgaW4gY3JlZGVudGlhbHMpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBjcmVkZW50aWFscy5tZXNzYWdlO1xuICAgICAgICAgICAgc2lnbmF0dXJlID0gY3JlZGVudGlhbHMuc2lnbmF0dXJlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgeyBjaGFpbiwgd2FsbGV0LCBzdGF0ZW1lbnQsIG9wdGlvbnMgfSA9IGNyZWRlbnRpYWxzO1xuICAgICAgICAgICAgbGV0IHJlc29sdmVkV2FsbGV0O1xuICAgICAgICAgICAgaWYgKCFpc0Jyb3dzZXIoKSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygd2FsbGV0ICE9PSAnb2JqZWN0JyB8fCAhKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy51cmwpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQHN1cGFiYXNlL2F1dGgtanM6IEJvdGggd2FsbGV0IGFuZCB1cmwgbXVzdCBiZSBzcGVjaWZpZWQgaW4gbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRzLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXNvbHZlZFdhbGxldCA9IHdhbGxldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB3YWxsZXQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZWRXYWxsZXQgPSB3YWxsZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB3aW5kb3dBbnkgPSB3aW5kb3c7XG4gICAgICAgICAgICAgICAgaWYgKCdzb2xhbmEnIGluIHdpbmRvd0FueSAmJlxuICAgICAgICAgICAgICAgICAgICB0eXBlb2Ygd2luZG93QW55LnNvbGFuYSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgICAgICAgICAgKCgnc2lnbkluJyBpbiB3aW5kb3dBbnkuc29sYW5hICYmIHR5cGVvZiB3aW5kb3dBbnkuc29sYW5hLnNpZ25JbiA9PT0gJ2Z1bmN0aW9uJykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICgnc2lnbk1lc3NhZ2UnIGluIHdpbmRvd0FueS5zb2xhbmEgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2Ygd2luZG93QW55LnNvbGFuYS5zaWduTWVzc2FnZSA9PT0gJ2Z1bmN0aW9uJykpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVkV2FsbGV0ID0gd2luZG93QW55LnNvbGFuYTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQHN1cGFiYXNlL2F1dGgtanM6IE5vIGNvbXBhdGlibGUgU29sYW5hIHdhbGxldCBpbnRlcmZhY2Ugb24gdGhlIHdpbmRvdyBvYmplY3QgKHdpbmRvdy5zb2xhbmEpIGRldGVjdGVkLiBNYWtlIHN1cmUgdGhlIHVzZXIgYWxyZWFkeSBoYXMgYSB3YWxsZXQgaW5zdGFsbGVkIGFuZCBjb25uZWN0ZWQgZm9yIHRoaXMgYXBwLiBQcmVmZXIgcGFzc2luZyB0aGUgd2FsbGV0IGludGVyZmFjZSBvYmplY3QgZGlyZWN0bHkgdG8gc2lnbkluV2l0aFdlYjMoeyBjaGFpbjogJ3NvbGFuYScsIHdhbGxldDogcmVzb2x2ZWRVc2VyV2FsbGV0IH0pIGluc3RlYWQuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCgoX2EgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMudXJsKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gICAgICAgICAgICBpZiAoJ3NpZ25JbicgaW4gcmVzb2x2ZWRXYWxsZXQgJiYgcmVzb2x2ZWRXYWxsZXQuc2lnbkluKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0cHV0ID0gYXdhaXQgcmVzb2x2ZWRXYWxsZXQuc2lnbkluKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgaXNzdWVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSB9LCBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuc2lnbkluV2l0aFNvbGFuYSksIHsgXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vbi1vdmVycmlkYWJsZSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgICAgIHZlcnNpb246ICcxJywgZG9tYWluOiB1cmwuaG9zdCwgdXJpOiB1cmwuaHJlZiB9KSwgKHN0YXRlbWVudCA/IHsgc3RhdGVtZW50IH0gOiBudWxsKSkpO1xuICAgICAgICAgICAgICAgIGxldCBvdXRwdXRUb1Byb2Nlc3M7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3V0cHV0KSAmJiBvdXRwdXRbMF0gJiYgdHlwZW9mIG91dHB1dFswXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0VG9Qcm9jZXNzID0gb3V0cHV0WzBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChvdXRwdXQgJiZcbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIG91dHB1dCA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgICAgICAgICAgJ3NpZ25lZE1lc3NhZ2UnIGluIG91dHB1dCAmJlxuICAgICAgICAgICAgICAgICAgICAnc2lnbmF0dXJlJyBpbiBvdXRwdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0VG9Qcm9jZXNzID0gb3V0cHV0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdAc3VwYWJhc2UvYXV0aC1qczogV2FsbGV0IG1ldGhvZCBzaWduSW4oKSByZXR1cm5lZCB1bnJlY29nbml6ZWQgdmFsdWUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCdzaWduZWRNZXNzYWdlJyBpbiBvdXRwdXRUb1Byb2Nlc3MgJiZcbiAgICAgICAgICAgICAgICAgICAgJ3NpZ25hdHVyZScgaW4gb3V0cHV0VG9Qcm9jZXNzICYmXG4gICAgICAgICAgICAgICAgICAgICh0eXBlb2Ygb3V0cHV0VG9Qcm9jZXNzLnNpZ25lZE1lc3NhZ2UgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRUb1Byb2Nlc3Muc2lnbmVkTWVzc2FnZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpICYmXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dFRvUHJvY2Vzcy5zaWduYXR1cmUgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPVxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIG91dHB1dFRvUHJvY2Vzcy5zaWduZWRNZXNzYWdlID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gb3V0cHV0VG9Qcm9jZXNzLnNpZ25lZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShvdXRwdXRUb1Byb2Nlc3Muc2lnbmVkTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZSA9IG91dHB1dFRvUHJvY2Vzcy5zaWduYXR1cmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0BzdXBhYmFzZS9hdXRoLWpzOiBXYWxsZXQgbWV0aG9kIHNpZ25JbigpIEFQSSByZXR1cm5lZCBvYmplY3Qgd2l0aG91dCBzaWduZWRNZXNzYWdlIGFuZCBzaWduYXR1cmUgZmllbGRzJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCEoJ3NpZ25NZXNzYWdlJyBpbiByZXNvbHZlZFdhbGxldCkgfHxcbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHJlc29sdmVkV2FsbGV0LnNpZ25NZXNzYWdlICE9PSAnZnVuY3Rpb24nIHx8XG4gICAgICAgICAgICAgICAgICAgICEoJ3B1YmxpY0tleScgaW4gcmVzb2x2ZWRXYWxsZXQpIHx8XG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiByZXNvbHZlZFdhbGxldCAhPT0gJ29iamVjdCcgfHxcbiAgICAgICAgICAgICAgICAgICAgIXJlc29sdmVkV2FsbGV0LnB1YmxpY0tleSB8fFxuICAgICAgICAgICAgICAgICAgICAhKCd0b0Jhc2U1OCcgaW4gcmVzb2x2ZWRXYWxsZXQucHVibGljS2V5KSB8fFxuICAgICAgICAgICAgICAgICAgICB0eXBlb2YgcmVzb2x2ZWRXYWxsZXQucHVibGljS2V5LnRvQmFzZTU4ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQHN1cGFiYXNlL2F1dGgtanM6IFdhbGxldCBkb2VzIG5vdCBoYXZlIGEgY29tcGF0aWJsZSBzaWduTWVzc2FnZSgpIGFuZCBwdWJsaWNLZXkudG9CYXNlNTgoKSBBUEknKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IFtcbiAgICAgICAgICAgICAgICAgICAgYCR7dXJsLmhvc3R9IHdhbnRzIHlvdSB0byBzaWduIGluIHdpdGggeW91ciBTb2xhbmEgYWNjb3VudDpgLFxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlZFdhbGxldC5wdWJsaWNLZXkudG9CYXNlNTgoKSxcbiAgICAgICAgICAgICAgICAgICAgLi4uKHN0YXRlbWVudCA/IFsnJywgc3RhdGVtZW50LCAnJ10gOiBbJyddKSxcbiAgICAgICAgICAgICAgICAgICAgJ1ZlcnNpb246IDEnLFxuICAgICAgICAgICAgICAgICAgICBgVVJJOiAke3VybC5ocmVmfWAsXG4gICAgICAgICAgICAgICAgICAgIGBJc3N1ZWQgQXQ6ICR7KF9jID0gKF9iID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnNpZ25JbldpdGhTb2xhbmEpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5pc3N1ZWRBdCkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpfWAsXG4gICAgICAgICAgICAgICAgICAgIC4uLigoKF9kID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnNpZ25JbldpdGhTb2xhbmEpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5ub3RCZWZvcmUpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFtgTm90IEJlZm9yZTogJHtvcHRpb25zLnNpZ25JbldpdGhTb2xhbmEubm90QmVmb3JlfWBdXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFtdKSxcbiAgICAgICAgICAgICAgICAgICAgLi4uKCgoX2UgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuc2lnbkluV2l0aFNvbGFuYSkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLmV4cGlyYXRpb25UaW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBbYEV4cGlyYXRpb24gVGltZTogJHtvcHRpb25zLnNpZ25JbldpdGhTb2xhbmEuZXhwaXJhdGlvblRpbWV9YF1cbiAgICAgICAgICAgICAgICAgICAgICAgIDogW10pLFxuICAgICAgICAgICAgICAgICAgICAuLi4oKChfZiA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5zaWduSW5XaXRoU29sYW5hKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YuY2hhaW5JZClcbiAgICAgICAgICAgICAgICAgICAgICAgID8gW2BDaGFpbiBJRDogJHtvcHRpb25zLnNpZ25JbldpdGhTb2xhbmEuY2hhaW5JZH1gXVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBbXSksXG4gICAgICAgICAgICAgICAgICAgIC4uLigoKF9nID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnNpZ25JbldpdGhTb2xhbmEpID09PSBudWxsIHx8IF9nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZy5ub25jZSkgPyBbYE5vbmNlOiAke29wdGlvbnMuc2lnbkluV2l0aFNvbGFuYS5ub25jZX1gXSA6IFtdKSxcbiAgICAgICAgICAgICAgICAgICAgLi4uKCgoX2ggPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuc2lnbkluV2l0aFNvbGFuYSkgPT09IG51bGwgfHwgX2ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9oLnJlcXVlc3RJZClcbiAgICAgICAgICAgICAgICAgICAgICAgID8gW2BSZXF1ZXN0IElEOiAke29wdGlvbnMuc2lnbkluV2l0aFNvbGFuYS5yZXF1ZXN0SWR9YF1cbiAgICAgICAgICAgICAgICAgICAgICAgIDogW10pLFxuICAgICAgICAgICAgICAgICAgICAuLi4oKChfayA9IChfaiA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5zaWduSW5XaXRoU29sYW5hKSA9PT0gbnVsbCB8fCBfaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2oucmVzb3VyY2VzKSA9PT0gbnVsbCB8fCBfayA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2subGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1Jlc291cmNlcycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ub3B0aW9ucy5zaWduSW5XaXRoU29sYW5hLnJlc291cmNlcy5tYXAoKHJlc291cmNlKSA9PiBgLSAke3Jlc291cmNlfWApLFxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBbXSksXG4gICAgICAgICAgICAgICAgXS5qb2luKCdcXG4nKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXliZVNpZ25hdHVyZSA9IGF3YWl0IHJlc29sdmVkV2FsbGV0LnNpZ25NZXNzYWdlKG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShtZXNzYWdlKSwgJ3V0ZjgnKTtcbiAgICAgICAgICAgICAgICBpZiAoIW1heWJlU2lnbmF0dXJlIHx8ICEobWF5YmVTaWduYXR1cmUgaW5zdGFuY2VvZiBVaW50OEFycmF5KSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0BzdXBhYmFzZS9hdXRoLWpzOiBXYWxsZXQgc2lnbk1lc3NhZ2UoKSBBUEkgcmV0dXJuZWQgYW4gcmVjb2duaXplZCB2YWx1ZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzaWduYXR1cmUgPSBtYXliZVNpZ25hdHVyZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgX3JlcXVlc3QodGhpcy5mZXRjaCwgJ1BPU1QnLCBgJHt0aGlzLnVybH0vdG9rZW4/Z3JhbnRfdHlwZT13ZWIzYCwge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgICAgICBib2R5OiBPYmplY3QuYXNzaWduKHsgY2hhaW46ICdzb2xhbmEnLCBtZXNzYWdlLCBzaWduYXR1cmU6IGJ5dGVzVG9CYXNlNjRVUkwoc2lnbmF0dXJlKSB9LCAoKChfbCA9IGNyZWRlbnRpYWxzLm9wdGlvbnMpID09PSBudWxsIHx8IF9sID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbC5jYXB0Y2hhVG9rZW4pXG4gICAgICAgICAgICAgICAgICAgID8geyBnb3RydWVfbWV0YV9zZWN1cml0eTogeyBjYXB0Y2hhX3Rva2VuOiAoX20gPSBjcmVkZW50aWFscy5vcHRpb25zKSA9PT0gbnVsbCB8fCBfbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX20uY2FwdGNoYVRva2VuIH0gfVxuICAgICAgICAgICAgICAgICAgICA6IG51bGwpKSxcbiAgICAgICAgICAgICAgICB4Zm9ybTogX3Nlc3Npb25SZXNwb25zZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWRhdGEgfHwgIWRhdGEuc2Vzc2lvbiB8fCAhZGF0YS51c2VyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogeyB1c2VyOiBudWxsLCBzZXNzaW9uOiBudWxsIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBuZXcgQXV0aEludmFsaWRUb2tlblJlc3BvbnNlRXJyb3IoKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEuc2Vzc2lvbikge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX3NhdmVTZXNzaW9uKGRhdGEuc2Vzc2lvbik7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fbm90aWZ5QWxsU3Vic2NyaWJlcnMoJ1NJR05FRF9JTicsIGRhdGEuc2Vzc2lvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBkYXRhOiBPYmplY3QuYXNzaWduKHt9LCBkYXRhKSwgZXJyb3IgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChpc0F1dGhFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiB7IHVzZXI6IG51bGwsIHNlc3Npb246IG51bGwgfSwgZXJyb3IgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIF9leGNoYW5nZUNvZGVGb3JTZXNzaW9uKGF1dGhDb2RlKSB7XG4gICAgICAgIGNvbnN0IHN0b3JhZ2VJdGVtID0gYXdhaXQgZ2V0SXRlbUFzeW5jKHRoaXMuc3RvcmFnZSwgYCR7dGhpcy5zdG9yYWdlS2V5fS1jb2RlLXZlcmlmaWVyYCk7XG4gICAgICAgIGNvbnN0IFtjb2RlVmVyaWZpZXIsIHJlZGlyZWN0VHlwZV0gPSAoc3RvcmFnZUl0ZW0gIT09IG51bGwgJiYgc3RvcmFnZUl0ZW0gIT09IHZvaWQgMCA/IHN0b3JhZ2VJdGVtIDogJycpLnNwbGl0KCcvJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBfcmVxdWVzdCh0aGlzLmZldGNoLCAnUE9TVCcsIGAke3RoaXMudXJsfS90b2tlbj9ncmFudF90eXBlPXBrY2VgLCB7XG4gICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgIGJvZHk6IHtcbiAgICAgICAgICAgICAgICAgICAgYXV0aF9jb2RlOiBhdXRoQ29kZSxcbiAgICAgICAgICAgICAgICAgICAgY29kZV92ZXJpZmllcjogY29kZVZlcmlmaWVyLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeGZvcm06IF9zZXNzaW9uUmVzcG9uc2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGF3YWl0IHJlbW92ZUl0ZW1Bc3luYyh0aGlzLnN0b3JhZ2UsIGAke3RoaXMuc3RvcmFnZUtleX0tY29kZS12ZXJpZmllcmApO1xuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWRhdGEgfHwgIWRhdGEuc2Vzc2lvbiB8fCAhZGF0YS51c2VyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogeyB1c2VyOiBudWxsLCBzZXNzaW9uOiBudWxsLCByZWRpcmVjdFR5cGU6IG51bGwgfSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IG5ldyBBdXRoSW52YWxpZFRva2VuUmVzcG9uc2VFcnJvcigpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YS5zZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fc2F2ZVNlc3Npb24oZGF0YS5zZXNzaW9uKTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9ub3RpZnlBbGxTdWJzY3JpYmVycygnU0lHTkVEX0lOJywgZGF0YS5zZXNzaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGF0YSksIHsgcmVkaXJlY3RUeXBlOiByZWRpcmVjdFR5cGUgIT09IG51bGwgJiYgcmVkaXJlY3RUeXBlICE9PSB2b2lkIDAgPyByZWRpcmVjdFR5cGUgOiBudWxsIH0pLCBlcnJvciB9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGlzQXV0aEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgdXNlcjogbnVsbCwgc2Vzc2lvbjogbnVsbCwgcmVkaXJlY3RUeXBlOiBudWxsIH0sIGVycm9yIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGxvd3Mgc2lnbmluZyBpbiB3aXRoIGFuIE9JREMgSUQgdG9rZW4uIFRoZSBhdXRoZW50aWNhdGlvbiBwcm92aWRlciB1c2VkXG4gICAgICogc2hvdWxkIGJlIGVuYWJsZWQgYW5kIGNvbmZpZ3VyZWQuXG4gICAgICovXG4gICAgYXN5bmMgc2lnbkluV2l0aElkVG9rZW4oY3JlZGVudGlhbHMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHsgb3B0aW9ucywgcHJvdmlkZXIsIHRva2VuLCBhY2Nlc3NfdG9rZW4sIG5vbmNlIH0gPSBjcmVkZW50aWFscztcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IF9yZXF1ZXN0KHRoaXMuZmV0Y2gsICdQT1NUJywgYCR7dGhpcy51cmx9L3Rva2VuP2dyYW50X3R5cGU9aWRfdG9rZW5gLCB7XG4gICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgIGJvZHk6IHtcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgICAgIGlkX3Rva2VuOiB0b2tlbixcbiAgICAgICAgICAgICAgICAgICAgYWNjZXNzX3Rva2VuLFxuICAgICAgICAgICAgICAgICAgICBub25jZSxcbiAgICAgICAgICAgICAgICAgICAgZ290cnVlX21ldGFfc2VjdXJpdHk6IHsgY2FwdGNoYV90b2tlbjogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmNhcHRjaGFUb2tlbiB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeGZvcm06IF9zZXNzaW9uUmVzcG9uc2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IHJlcztcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgdXNlcjogbnVsbCwgc2Vzc2lvbjogbnVsbCB9LCBlcnJvciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIWRhdGEgfHwgIWRhdGEuc2Vzc2lvbiB8fCAhZGF0YS51c2VyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogeyB1c2VyOiBudWxsLCBzZXNzaW9uOiBudWxsIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBuZXcgQXV0aEludmFsaWRUb2tlblJlc3BvbnNlRXJyb3IoKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEuc2Vzc2lvbikge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX3NhdmVTZXNzaW9uKGRhdGEuc2Vzc2lvbik7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fbm90aWZ5QWxsU3Vic2NyaWJlcnMoJ1NJR05FRF9JTicsIGRhdGEuc2Vzc2lvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBkYXRhLCBlcnJvciB9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGlzQXV0aEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgdXNlcjogbnVsbCwgc2Vzc2lvbjogbnVsbCB9LCBlcnJvciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9nIGluIGEgdXNlciB1c2luZyBtYWdpY2xpbmsgb3IgYSBvbmUtdGltZSBwYXNzd29yZCAoT1RQKS5cbiAgICAgKlxuICAgICAqIElmIHRoZSBge3sgLkNvbmZpcm1hdGlvblVSTCB9fWAgdmFyaWFibGUgaXMgc3BlY2lmaWVkIGluIHRoZSBlbWFpbCB0ZW1wbGF0ZSwgYSBtYWdpY2xpbmsgd2lsbCBiZSBzZW50LlxuICAgICAqIElmIHRoZSBge3sgLlRva2VuIH19YCB2YXJpYWJsZSBpcyBzcGVjaWZpZWQgaW4gdGhlIGVtYWlsIHRlbXBsYXRlLCBhbiBPVFAgd2lsbCBiZSBzZW50LlxuICAgICAqIElmIHlvdSdyZSB1c2luZyBwaG9uZSBzaWduLWlucywgb25seSBhbiBPVFAgd2lsbCBiZSBzZW50LiBZb3Ugd29uJ3QgYmUgYWJsZSB0byBzZW5kIGEgbWFnaWNsaW5rIGZvciBwaG9uZSBzaWduLWlucy5cbiAgICAgKlxuICAgICAqIEJlIGF3YXJlIHRoYXQgeW91IG1heSBnZXQgYmFjayBhbiBlcnJvciBtZXNzYWdlIHRoYXQgd2lsbCBub3QgZGlzdGluZ3Vpc2hcbiAgICAgKiBiZXR3ZWVuIHRoZSBjYXNlcyB3aGVyZSB0aGUgYWNjb3VudCBkb2VzIG5vdCBleGlzdCBvciwgdGhhdCB0aGUgYWNjb3VudFxuICAgICAqIGNhbiBvbmx5IGJlIGFjY2Vzc2VkIHZpYSBzb2NpYWwgbG9naW4uXG4gICAgICpcbiAgICAgKiBEbyBub3RlIHRoYXQgeW91IHdpbGwgbmVlZCB0byBjb25maWd1cmUgYSBXaGF0c2FwcCBzZW5kZXIgb24gVHdpbGlvXG4gICAgICogaWYgeW91IGFyZSB1c2luZyBwaG9uZSBzaWduIGluIHdpdGggdGhlICd3aGF0c2FwcCcgY2hhbm5lbC4gVGhlIHdoYXRzYXBwXG4gICAgICogY2hhbm5lbCBpcyBub3Qgc3VwcG9ydGVkIG9uIG90aGVyIHByb3ZpZGVyc1xuICAgICAqIGF0IHRoaXMgdGltZS5cbiAgICAgKiBUaGlzIG1ldGhvZCBzdXBwb3J0cyBQS0NFIHdoZW4gYW4gZW1haWwgaXMgcGFzc2VkLlxuICAgICAqL1xuICAgIGFzeW5jIHNpZ25JbldpdGhPdHAoY3JlZGVudGlhbHMpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICgnZW1haWwnIGluIGNyZWRlbnRpYWxzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBlbWFpbCwgb3B0aW9ucyB9ID0gY3JlZGVudGlhbHM7XG4gICAgICAgICAgICAgICAgbGV0IGNvZGVDaGFsbGVuZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIGxldCBjb2RlQ2hhbGxlbmdlTWV0aG9kID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mbG93VHlwZSA9PT0gJ3BrY2UnKSB7XG4gICAgICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICAgICAgW2NvZGVDaGFsbGVuZ2UsIGNvZGVDaGFsbGVuZ2VNZXRob2RdID0gYXdhaXQgZ2V0Q29kZUNoYWxsZW5nZUFuZE1ldGhvZCh0aGlzLnN0b3JhZ2UsIHRoaXMuc3RvcmFnZUtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IF9yZXF1ZXN0KHRoaXMuZmV0Y2gsICdQT1NUJywgYCR7dGhpcy51cmx9L290cGAsIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IChfYSA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5kYXRhKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZV91c2VyOiAoX2IgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuc2hvdWxkQ3JlYXRlVXNlcikgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdvdHJ1ZV9tZXRhX3NlY3VyaXR5OiB7IGNhcHRjaGFfdG9rZW46IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5jYXB0Y2hhVG9rZW4gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVfY2hhbGxlbmdlOiBjb2RlQ2hhbGxlbmdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZV9jaGFsbGVuZ2VfbWV0aG9kOiBjb2RlQ2hhbGxlbmdlTWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZWRpcmVjdFRvOiBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZW1haWxSZWRpcmVjdFRvLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgdXNlcjogbnVsbCwgc2Vzc2lvbjogbnVsbCB9LCBlcnJvciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCdwaG9uZScgaW4gY3JlZGVudGlhbHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHBob25lLCBvcHRpb25zIH0gPSBjcmVkZW50aWFscztcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBfcmVxdWVzdCh0aGlzLmZldGNoLCAnUE9TVCcsIGAke3RoaXMudXJsfS9vdHBgLCB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgICAgICAgICAgYm9keToge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGhvbmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiAoX2MgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZGF0YSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDoge30sXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVfdXNlcjogKF9kID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnNob3VsZENyZWF0ZVVzZXIpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBnb3RydWVfbWV0YV9zZWN1cml0eTogeyBjYXB0Y2hhX3Rva2VuOiBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuY2FwdGNoYVRva2VuIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsOiAoX2UgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuY2hhbm5lbCkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogJ3NtcycsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyB1c2VyOiBudWxsLCBzZXNzaW9uOiBudWxsLCBtZXNzYWdlSWQ6IGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5tZXNzYWdlX2lkIH0sIGVycm9yIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgQXV0aEludmFsaWRDcmVkZW50aWFsc0Vycm9yKCdZb3UgbXVzdCBwcm92aWRlIGVpdGhlciBhbiBlbWFpbCBvciBwaG9uZSBudW1iZXIuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoaXNBdXRoRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyB1c2VyOiBudWxsLCBzZXNzaW9uOiBudWxsIH0sIGVycm9yIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2cgaW4gYSB1c2VyIGdpdmVuIGEgVXNlciBzdXBwbGllZCBPVFAgb3IgVG9rZW5IYXNoIHJlY2VpdmVkIHRocm91Z2ggbW9iaWxlIG9yIGVtYWlsLlxuICAgICAqL1xuICAgIGFzeW5jIHZlcmlmeU90cChwYXJhbXMpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCByZWRpcmVjdFRvID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgbGV0IGNhcHRjaGFUb2tlbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmICgnb3B0aW9ucycgaW4gcGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgcmVkaXJlY3RUbyA9IChfYSA9IHBhcmFtcy5vcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVkaXJlY3RUbztcbiAgICAgICAgICAgICAgICBjYXB0Y2hhVG9rZW4gPSAoX2IgPSBwYXJhbXMub3B0aW9ucykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhcHRjaGFUb2tlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IF9yZXF1ZXN0KHRoaXMuZmV0Y2gsICdQT1NUJywgYCR7dGhpcy51cmx9L3ZlcmlmeWAsIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgYm9keTogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBwYXJhbXMpLCB7IGdvdHJ1ZV9tZXRhX3NlY3VyaXR5OiB7IGNhcHRjaGFfdG9rZW46IGNhcHRjaGFUb2tlbiB9IH0pLFxuICAgICAgICAgICAgICAgIHJlZGlyZWN0VG8sXG4gICAgICAgICAgICAgICAgeGZvcm06IF9zZXNzaW9uUmVzcG9uc2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBbiBlcnJvciBvY2N1cnJlZCBvbiB0b2tlbiB2ZXJpZmljYXRpb24uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uID0gZGF0YS5zZXNzaW9uO1xuICAgICAgICAgICAgY29uc3QgdXNlciA9IGRhdGEudXNlcjtcbiAgICAgICAgICAgIGlmIChzZXNzaW9uID09PSBudWxsIHx8IHNlc3Npb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlc3Npb24uYWNjZXNzX3Rva2VuKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fc2F2ZVNlc3Npb24oc2Vzc2lvbik7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fbm90aWZ5QWxsU3Vic2NyaWJlcnMocGFyYW1zLnR5cGUgPT0gJ3JlY292ZXJ5JyA/ICdQQVNTV09SRF9SRUNPVkVSWScgOiAnU0lHTkVEX0lOJywgc2Vzc2lvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBkYXRhOiB7IHVzZXIsIHNlc3Npb24gfSwgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChpc0F1dGhFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiB7IHVzZXI6IG51bGwsIHNlc3Npb246IG51bGwgfSwgZXJyb3IgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF0dGVtcHRzIGEgc2luZ2xlLXNpZ24gb24gdXNpbmcgYW4gZW50ZXJwcmlzZSBJZGVudGl0eSBQcm92aWRlci4gQVxuICAgICAqIHN1Y2Nlc3NmdWwgU1NPIGF0dGVtcHQgd2lsbCByZWRpcmVjdCB0aGUgY3VycmVudCBwYWdlIHRvIHRoZSBpZGVudGl0eVxuICAgICAqIHByb3ZpZGVyIGF1dGhvcml6YXRpb24gcGFnZS4gVGhlIHJlZGlyZWN0IFVSTCBpcyBpbXBsZW1lbnRhdGlvbiBhbmQgU1NPXG4gICAgICogcHJvdG9jb2wgc3BlY2lmaWMuXG4gICAgICpcbiAgICAgKiBZb3UgY2FuIHVzZSBpdCBieSBwcm92aWRpbmcgYSBTU08gZG9tYWluLiBUeXBpY2FsbHkgeW91IGNhbiBleHRyYWN0IHRoaXNcbiAgICAgKiBkb21haW4gYnkgYXNraW5nIHVzZXJzIGZvciB0aGVpciBlbWFpbCBhZGRyZXNzLiBJZiB0aGlzIGRvbWFpbiBpc1xuICAgICAqIHJlZ2lzdGVyZWQgb24gdGhlIEF1dGggaW5zdGFuY2UgdGhlIHJlZGlyZWN0IHdpbGwgdXNlIHRoYXQgb3JnYW5pemF0aW9uJ3NcbiAgICAgKiBjdXJyZW50bHkgYWN0aXZlIFNTTyBJZGVudGl0eSBQcm92aWRlciBmb3IgdGhlIGxvZ2luLlxuICAgICAqXG4gICAgICogSWYgeW91IGhhdmUgYnVpbHQgYW4gb3JnYW5pemF0aW9uLXNwZWNpZmljIGxvZ2luIHBhZ2UsIHlvdSBjYW4gdXNlIHRoZVxuICAgICAqIG9yZ2FuaXphdGlvbidzIFNTTyBJZGVudGl0eSBQcm92aWRlciBVVUlEIGRpcmVjdGx5IGluc3RlYWQuXG4gICAgICovXG4gICAgYXN5bmMgc2lnbkluV2l0aFNTTyhwYXJhbXMpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgY29kZUNoYWxsZW5nZSA9IG51bGw7XG4gICAgICAgICAgICBsZXQgY29kZUNoYWxsZW5nZU1ldGhvZCA9IG51bGw7XG4gICAgICAgICAgICBpZiAodGhpcy5mbG93VHlwZSA9PT0gJ3BrY2UnKSB7XG4gICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgIFtjb2RlQ2hhbGxlbmdlLCBjb2RlQ2hhbGxlbmdlTWV0aG9kXSA9IGF3YWl0IGdldENvZGVDaGFsbGVuZ2VBbmRNZXRob2QodGhpcy5zdG9yYWdlLCB0aGlzLnN0b3JhZ2VLZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IF9yZXF1ZXN0KHRoaXMuZmV0Y2gsICdQT1NUJywgYCR7dGhpcy51cmx9L3Nzb2AsIHtcbiAgICAgICAgICAgICAgICBib2R5OiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sICgncHJvdmlkZXJJZCcgaW4gcGFyYW1zID8geyBwcm92aWRlcl9pZDogcGFyYW1zLnByb3ZpZGVySWQgfSA6IG51bGwpKSwgKCdkb21haW4nIGluIHBhcmFtcyA/IHsgZG9tYWluOiBwYXJhbXMuZG9tYWluIH0gOiBudWxsKSksIHsgcmVkaXJlY3RfdG86IChfYiA9IChfYSA9IHBhcmFtcy5vcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVkaXJlY3RUbykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdW5kZWZpbmVkIH0pLCAoKChfYyA9IHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5vcHRpb25zKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2FwdGNoYVRva2VuKVxuICAgICAgICAgICAgICAgICAgICA/IHsgZ290cnVlX21ldGFfc2VjdXJpdHk6IHsgY2FwdGNoYV90b2tlbjogcGFyYW1zLm9wdGlvbnMuY2FwdGNoYVRva2VuIH0gfVxuICAgICAgICAgICAgICAgICAgICA6IG51bGwpKSwgeyBza2lwX2h0dHBfcmVkaXJlY3Q6IHRydWUsIGNvZGVfY2hhbGxlbmdlOiBjb2RlQ2hhbGxlbmdlLCBjb2RlX2NoYWxsZW5nZV9tZXRob2Q6IGNvZGVDaGFsbGVuZ2VNZXRob2QgfSksXG4gICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgIHhmb3JtOiBfc3NvUmVzcG9uc2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChpc0F1dGhFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgYSByZWF1dGhlbnRpY2F0aW9uIE9UUCB0byB0aGUgdXNlcidzIGVtYWlsIG9yIHBob25lIG51bWJlci5cbiAgICAgKiBSZXF1aXJlcyB0aGUgdXNlciB0byBiZSBzaWduZWQtaW4uXG4gICAgICovXG4gICAgYXN5bmMgcmVhdXRoZW50aWNhdGUoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZVByb21pc2U7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9hY3F1aXJlTG9jaygtMSwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3JlYXV0aGVudGljYXRlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBfcmVhdXRoZW50aWNhdGUoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fdXNlU2Vzc2lvbihhc3luYyAocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhOiB7IHNlc3Npb24gfSwgZXJyb3I6IHNlc3Npb25FcnJvciwgfSA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICBpZiAoc2Vzc2lvbkVycm9yKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBzZXNzaW9uRXJyb3I7XG4gICAgICAgICAgICAgICAgaWYgKCFzZXNzaW9uKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQXV0aFNlc3Npb25NaXNzaW5nRXJyb3IoKTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBfcmVxdWVzdCh0aGlzLmZldGNoLCAnR0VUJywgYCR7dGhpcy51cmx9L3JlYXV0aGVudGljYXRlYCwge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgIGp3dDogc2Vzc2lvbi5hY2Nlc3NfdG9rZW4sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyB1c2VyOiBudWxsLCBzZXNzaW9uOiBudWxsIH0sIGVycm9yIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChpc0F1dGhFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiB7IHVzZXI6IG51bGwsIHNlc3Npb246IG51bGwgfSwgZXJyb3IgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2VuZHMgYW4gZXhpc3Rpbmcgc2lnbnVwIGNvbmZpcm1hdGlvbiBlbWFpbCwgZW1haWwgY2hhbmdlIGVtYWlsLCBTTVMgT1RQIG9yIHBob25lIGNoYW5nZSBPVFAuXG4gICAgICovXG4gICAgYXN5bmMgcmVzZW5kKGNyZWRlbnRpYWxzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBlbmRwb2ludCA9IGAke3RoaXMudXJsfS9yZXNlbmRgO1xuICAgICAgICAgICAgaWYgKCdlbWFpbCcgaW4gY3JlZGVudGlhbHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGVtYWlsLCB0eXBlLCBvcHRpb25zIH0gPSBjcmVkZW50aWFscztcbiAgICAgICAgICAgICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBfcmVxdWVzdCh0aGlzLmZldGNoLCAnUE9TVCcsIGVuZHBvaW50LCB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgICAgICAgICAgYm9keToge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ290cnVlX21ldGFfc2VjdXJpdHk6IHsgY2FwdGNoYV90b2tlbjogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmNhcHRjaGFUb2tlbiB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZWRpcmVjdFRvOiBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZW1haWxSZWRpcmVjdFRvLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgdXNlcjogbnVsbCwgc2Vzc2lvbjogbnVsbCB9LCBlcnJvciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoJ3Bob25lJyBpbiBjcmVkZW50aWFscykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgcGhvbmUsIHR5cGUsIG9wdGlvbnMgfSA9IGNyZWRlbnRpYWxzO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IF9yZXF1ZXN0KHRoaXMuZmV0Y2gsICdQT1NUJywgZW5kcG9pbnQsIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwaG9uZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBnb3RydWVfbWV0YV9zZWN1cml0eTogeyBjYXB0Y2hhX3Rva2VuOiBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuY2FwdGNoYVRva2VuIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyB1c2VyOiBudWxsLCBzZXNzaW9uOiBudWxsLCBtZXNzYWdlSWQ6IGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5tZXNzYWdlX2lkIH0sIGVycm9yIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgQXV0aEludmFsaWRDcmVkZW50aWFsc0Vycm9yKCdZb3UgbXVzdCBwcm92aWRlIGVpdGhlciBhbiBlbWFpbCBvciBwaG9uZSBudW1iZXIgYW5kIGEgdHlwZScpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGlzQXV0aEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgdXNlcjogbnVsbCwgc2Vzc2lvbjogbnVsbCB9LCBlcnJvciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc2Vzc2lvbiwgcmVmcmVzaGluZyBpdCBpZiBuZWNlc3NhcnkuXG4gICAgICpcbiAgICAgKiBUaGUgc2Vzc2lvbiByZXR1cm5lZCBjYW4gYmUgbnVsbCBpZiB0aGUgc2Vzc2lvbiBpcyBub3QgZGV0ZWN0ZWQgd2hpY2ggY2FuIGhhcHBlbiBpbiB0aGUgZXZlbnQgYSB1c2VyIGlzIG5vdCBzaWduZWQtaW4gb3IgaGFzIGxvZ2dlZCBvdXQuXG4gICAgICpcbiAgICAgKiAqKklNUE9SVEFOVDoqKiBUaGlzIG1ldGhvZCBsb2FkcyB2YWx1ZXMgZGlyZWN0bHkgZnJvbSB0aGUgc3RvcmFnZSBhdHRhY2hlZFxuICAgICAqIHRvIHRoZSBjbGllbnQuIElmIHRoYXQgc3RvcmFnZSBpcyBiYXNlZCBvbiByZXF1ZXN0IGNvb2tpZXMgZm9yIGV4YW1wbGUsXG4gICAgICogdGhlIHZhbHVlcyBpbiBpdCBtYXkgbm90IGJlIGF1dGhlbnRpYyBhbmQgdGhlcmVmb3JlIGl0J3Mgc3Ryb25nbHkgYWR2aXNlZFxuICAgICAqIGFnYWluc3QgdXNpbmcgdGhpcyBtZXRob2QgYW5kIGl0cyByZXN1bHRzIGluIHN1Y2ggY2lyY3Vtc3RhbmNlcy4gQSB3YXJuaW5nXG4gICAgICogd2lsbCBiZSBlbWl0dGVkIGlmIHRoaXMgaXMgZGV0ZWN0ZWQuIFVzZSB7QGxpbmsgI2dldFVzZXIoKX0gaW5zdGVhZC5cbiAgICAgKi9cbiAgICBhc3luYyBnZXRTZXNzaW9uKCkge1xuICAgICAgICBhd2FpdCB0aGlzLmluaXRpYWxpemVQcm9taXNlO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLl9hY3F1aXJlTG9jaygtMSwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VzZVNlc3Npb24oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFjcXVpcmVzIGEgZ2xvYmFsIGxvY2sgYmFzZWQgb24gdGhlIHN0b3JhZ2Uga2V5LlxuICAgICAqL1xuICAgIGFzeW5jIF9hY3F1aXJlTG9jayhhY3F1aXJlVGltZW91dCwgZm4pIHtcbiAgICAgICAgdGhpcy5fZGVidWcoJyNfYWNxdWlyZUxvY2snLCAnYmVnaW4nLCBhY3F1aXJlVGltZW91dCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAodGhpcy5sb2NrQWNxdWlyZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0ID0gdGhpcy5wZW5kaW5nSW5Mb2NrLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMucGVuZGluZ0luTG9ja1t0aGlzLnBlbmRpbmdJbkxvY2subGVuZ3RoIC0gMV1cbiAgICAgICAgICAgICAgICAgICAgOiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSAoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBsYXN0O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgZm4oKTtcbiAgICAgICAgICAgICAgICB9KSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ0luTG9jay5wdXNoKChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGp1c3QgY2FyZSBpZiBpdCBmaW5pc2hlZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkoKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmxvY2soYGxvY2s6JHt0aGlzLnN0b3JhZ2VLZXl9YCwgYWNxdWlyZVRpbWVvdXQsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWJ1ZygnI19hY3F1aXJlTG9jaycsICdsb2NrIGFjcXVpcmVkIGZvciBzdG9yYWdlIGtleScsIHRoaXMuc3RvcmFnZUtleSk7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2NrQWNxdWlyZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBmbigpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdJbkxvY2sucHVzaCgoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGp1c3QgY2FyZSBpZiBpdCBmaW5pc2hlZFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KSgpKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAvLyBrZWVwIGRyYWluaW5nIHRoZSBxdWV1ZSB1bnRpbCB0aGVyZSdzIG5vdGhpbmcgdG8gd2FpdCBvblxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAodGhpcy5wZW5kaW5nSW5Mb2NrLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2FpdE9uID0gWy4uLnRoaXMucGVuZGluZ0luTG9ja107XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh3YWl0T24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nSW5Mb2NrLnNwbGljZSgwLCB3YWl0T24ubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGVidWcoJyNfYWNxdWlyZUxvY2snLCAnbG9jayByZWxlYXNlZCBmb3Igc3RvcmFnZSBrZXknLCB0aGlzLnN0b3JhZ2VLZXkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvY2tBY3F1aXJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5fZGVidWcoJyNfYWNxdWlyZUxvY2snLCAnZW5kJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVXNlIGluc3RlYWQgb2Yge0BsaW5rICNnZXRTZXNzaW9ufSBpbnNpZGUgdGhlIGxpYnJhcnkuIEl0IGlzXG4gICAgICogc2VtYW50aWNhbGx5IHVzdWFsbHkgd2hhdCB5b3Ugd2FudCwgYXMgZ2V0dGluZyBhIHNlc3Npb24gaW52b2x2ZXMgc29tZVxuICAgICAqIHByb2Nlc3NpbmcgYWZ0ZXJ3YXJkcyB0aGF0IHJlcXVpcmVzIG9ubHkgb25lIGNsaWVudCBvcGVyYXRpbmcgb24gdGhlXG4gICAgICogc2Vzc2lvbiBhdCBvbmNlIGFjcm9zcyBtdWx0aXBsZSB0YWJzIG9yIHByb2Nlc3Nlcy5cbiAgICAgKi9cbiAgICBhc3luYyBfdXNlU2Vzc2lvbihmbikge1xuICAgICAgICB0aGlzLl9kZWJ1ZygnI191c2VTZXNzaW9uJywgJ2JlZ2luJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyB0aGUgdXNlIG9mIF9fbG9hZFNlc3Npb24gaGVyZSBpcyB0aGUgb25seSBjb3JyZWN0IHVzZSBvZiB0aGUgZnVuY3Rpb24hXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLl9fbG9hZFNlc3Npb24oKTtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBmbihyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5fZGVidWcoJyNfdXNlU2Vzc2lvbicsICdlbmQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBORVZFUiBVU0UgRElSRUNUTFkhXG4gICAgICpcbiAgICAgKiBBbHdheXMgdXNlIHtAbGluayAjX3VzZVNlc3Npb259LlxuICAgICAqL1xuICAgIGFzeW5jIF9fbG9hZFNlc3Npb24oKSB7XG4gICAgICAgIHRoaXMuX2RlYnVnKCcjX19sb2FkU2Vzc2lvbigpJywgJ2JlZ2luJyk7XG4gICAgICAgIGlmICghdGhpcy5sb2NrQWNxdWlyZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2RlYnVnKCcjX19sb2FkU2Vzc2lvbigpJywgJ3VzZWQgb3V0c2lkZSBvZiBhbiBhY3F1aXJlZCBsb2NrIScsIG5ldyBFcnJvcigpLnN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IGN1cnJlbnRTZXNzaW9uID0gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IG1heWJlU2Vzc2lvbiA9IGF3YWl0IGdldEl0ZW1Bc3luYyh0aGlzLnN0b3JhZ2UsIHRoaXMuc3RvcmFnZUtleSk7XG4gICAgICAgICAgICB0aGlzLl9kZWJ1ZygnI2dldFNlc3Npb24oKScsICdzZXNzaW9uIGZyb20gc3RvcmFnZScsIG1heWJlU2Vzc2lvbik7XG4gICAgICAgICAgICBpZiAobWF5YmVTZXNzaW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzVmFsaWRTZXNzaW9uKG1heWJlU2Vzc2lvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFNlc3Npb24gPSBtYXliZVNlc3Npb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kZWJ1ZygnI2dldFNlc3Npb24oKScsICdzZXNzaW9uIGZyb20gc3RvcmFnZSBpcyBub3QgdmFsaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fcmVtb3ZlU2Vzc2lvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghY3VycmVudFNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiB7IHNlc3Npb246IG51bGwgfSwgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEEgc2Vzc2lvbiBpcyBjb25zaWRlcmVkIGV4cGlyZWQgYmVmb3JlIHRoZSBhY2Nlc3MgdG9rZW4gX2FjdHVhbGx5X1xuICAgICAgICAgICAgLy8gZXhwaXJlcy4gV2hlbiB0aGUgYXV0b1JlZnJlc2hUb2tlbiBvcHRpb24gaXMgb2ZmIChvciB3aGVuIHRoZSB0YWIgaXNcbiAgICAgICAgICAgIC8vIGluIHRoZSBiYWNrZ3JvdW5kKSwgdmVyeSBlYWdlciB1c2VycyBvZiBnZXRTZXNzaW9uKCkgLS0gbGlrZVxuICAgICAgICAgICAgLy8gcmVhbHRpbWUtanMgLS0gbWlnaHQgc2VuZCBhIHZhbGlkIEpXVCB3aGljaCB3aWxsIGV4cGlyZSBieSB0aGUgdGltZSBpdFxuICAgICAgICAgICAgLy8gcmVhY2hlcyB0aGUgc2VydmVyLlxuICAgICAgICAgICAgY29uc3QgaGFzRXhwaXJlZCA9IGN1cnJlbnRTZXNzaW9uLmV4cGlyZXNfYXRcbiAgICAgICAgICAgICAgICA/IGN1cnJlbnRTZXNzaW9uLmV4cGlyZXNfYXQgKiAxMDAwIC0gRGF0ZS5ub3coKSA8IEVYUElSWV9NQVJHSU5fTVNcbiAgICAgICAgICAgICAgICA6IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fZGVidWcoJyNfX2xvYWRTZXNzaW9uKCknLCBgc2Vzc2lvbiBoYXMke2hhc0V4cGlyZWQgPyAnJyA6ICcgbm90J30gZXhwaXJlZGAsICdleHBpcmVzX2F0JywgY3VycmVudFNlc3Npb24uZXhwaXJlc19hdCk7XG4gICAgICAgICAgICBpZiAoIWhhc0V4cGlyZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdG9yYWdlLmlzU2VydmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzdXBwcmVzc1dhcm5pbmcgPSB0aGlzLnN1cHByZXNzR2V0U2Vzc2lvbldhcm5pbmc7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3h5U2Vzc2lvbiA9IG5ldyBQcm94eShjdXJyZW50U2Vzc2lvbiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiAodGFyZ2V0LCBwcm9wLCByZWNlaXZlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3VwcHJlc3NXYXJuaW5nICYmIHByb3AgPT09ICd1c2VyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvbmx5IHNob3cgd2FybmluZyB3aGVuIHRoZSB1c2VyIG9iamVjdCBpcyBiZWluZyBhY2Nlc3NlZCBmcm9tIHRoZSBzZXJ2ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdVc2luZyB0aGUgdXNlciBvYmplY3QgYXMgcmV0dXJuZWQgZnJvbSBzdXBhYmFzZS5hdXRoLmdldFNlc3Npb24oKSBvciBmcm9tIHNvbWUgc3VwYWJhc2UuYXV0aC5vbkF1dGhTdGF0ZUNoYW5nZSgpIGV2ZW50cyBjb3VsZCBiZSBpbnNlY3VyZSEgVGhpcyB2YWx1ZSBjb21lcyBkaXJlY3RseSBmcm9tIHRoZSBzdG9yYWdlIG1lZGl1bSAodXN1YWxseSBjb29raWVzIG9uIHRoZSBzZXJ2ZXIpIGFuZCBtYXkgbm90IGJlIGF1dGhlbnRpYy4gVXNlIHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpIGluc3RlYWQgd2hpY2ggYXV0aGVudGljYXRlcyB0aGUgZGF0YSBieSBjb250YWN0aW5nIHRoZSBTdXBhYmFzZSBBdXRoIHNlcnZlci4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VwcHJlc3NXYXJuaW5nID0gdHJ1ZTsgLy8ga2VlcHMgdGhpcyBwcm94eSBpbnN0YW5jZSBmcm9tIGxvZ2dpbmcgYWRkaXRpb25hbCB3YXJuaW5nc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN1cHByZXNzR2V0U2Vzc2lvbldhcm5pbmcgPSB0cnVlOyAvLyBrZWVwcyB0aGlzIGNsaWVudCdzIGZ1dHVyZSBwcm94eSBpbnN0YW5jZXMgZnJvbSB3YXJuaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2Vzc2lvbiA9IHByb3h5U2Vzc2lvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyBzZXNzaW9uOiBjdXJyZW50U2Vzc2lvbiB9LCBlcnJvcjogbnVsbCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyBzZXNzaW9uLCBlcnJvciB9ID0gYXdhaXQgdGhpcy5fY2FsbFJlZnJlc2hUb2tlbihjdXJyZW50U2Vzc2lvbi5yZWZyZXNoX3Rva2VuKTtcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgc2Vzc2lvbjogbnVsbCB9LCBlcnJvciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyBzZXNzaW9uIH0sIGVycm9yOiBudWxsIH07XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLl9kZWJ1ZygnI19fbG9hZFNlc3Npb24oKScsICdlbmQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBjdXJyZW50IHVzZXIgZGV0YWlscyBpZiB0aGVyZSBpcyBhbiBleGlzdGluZyBzZXNzaW9uLiBUaGlzIG1ldGhvZFxuICAgICAqIHBlcmZvcm1zIGEgbmV0d29yayByZXF1ZXN0IHRvIHRoZSBTdXBhYmFzZSBBdXRoIHNlcnZlciwgc28gdGhlIHJldHVybmVkXG4gICAgICogdmFsdWUgaXMgYXV0aGVudGljIGFuZCBjYW4gYmUgdXNlZCB0byBiYXNlIGF1dGhvcml6YXRpb24gcnVsZXMgb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gand0IFRha2VzIGluIGFuIG9wdGlvbmFsIGFjY2VzcyB0b2tlbiBKV1QuIElmIG5vIEpXVCBpcyBwcm92aWRlZCwgdGhlIEpXVCBmcm9tIHRoZSBjdXJyZW50IHNlc3Npb24gaXMgdXNlZC5cbiAgICAgKi9cbiAgICBhc3luYyBnZXRVc2VyKGp3dCkge1xuICAgICAgICBpZiAoand0KSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fZ2V0VXNlcihqd3QpO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZVByb21pc2U7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuX2FjcXVpcmVMb2NrKC0xLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fZ2V0VXNlcigpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgYXN5bmMgX2dldFVzZXIoand0KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoand0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IF9yZXF1ZXN0KHRoaXMuZmV0Y2gsICdHRVQnLCBgJHt0aGlzLnVybH0vdXNlcmAsIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICBqd3Q6IGp3dCxcbiAgICAgICAgICAgICAgICAgICAgeGZvcm06IF91c2VyUmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fdXNlU2Vzc2lvbihhc3luYyAocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gcmVzdWx0O1xuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gcmV0dXJucyBhbiBlcnJvciBpZiB0aGVyZSBpcyBubyBhY2Nlc3NfdG9rZW4gb3IgY3VzdG9tIGF1dGhvcml6YXRpb24gaGVhZGVyXG4gICAgICAgICAgICAgICAgaWYgKCEoKF9hID0gZGF0YS5zZXNzaW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYWNjZXNzX3Rva2VuKSAmJiAhdGhpcy5oYXNDdXN0b21BdXRob3JpemF0aW9uSGVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgdXNlcjogbnVsbCB9LCBlcnJvcjogbmV3IEF1dGhTZXNzaW9uTWlzc2luZ0Vycm9yKCkgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IF9yZXF1ZXN0KHRoaXMuZmV0Y2gsICdHRVQnLCBgJHt0aGlzLnVybH0vdXNlcmAsIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICBqd3Q6IChfYyA9IChfYiA9IGRhdGEuc2Vzc2lvbikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmFjY2Vzc190b2tlbikgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICB4Zm9ybTogX3VzZXJSZXNwb25zZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGlzQXV0aEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIGlmIChpc0F1dGhTZXNzaW9uTWlzc2luZ0Vycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBKV1QgY29udGFpbnMgYSBgc2Vzc2lvbl9pZGAgd2hpY2ggZG9lcyBub3QgY29ycmVzcG9uZCB0byBhbiBhY3RpdmVcbiAgICAgICAgICAgICAgICAgICAgLy8gc2Vzc2lvbiBpbiB0aGUgZGF0YWJhc2UsIGluZGljYXRpbmcgdGhlIHVzZXIgaXMgc2lnbmVkIG91dC5cbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fcmVtb3ZlU2Vzc2lvbigpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCByZW1vdmVJdGVtQXN5bmModGhpcy5zdG9yYWdlLCBgJHt0aGlzLnN0b3JhZ2VLZXl9LWNvZGUtdmVyaWZpZXJgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyB1c2VyOiBudWxsIH0sIGVycm9yIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHVzZXIgZGF0YSBmb3IgYSBsb2dnZWQgaW4gdXNlci5cbiAgICAgKi9cbiAgICBhc3luYyB1cGRhdGVVc2VyKGF0dHJpYnV0ZXMsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBhd2FpdCB0aGlzLmluaXRpYWxpemVQcm9taXNlO1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fYWNxdWlyZUxvY2soLTEsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl91cGRhdGVVc2VyKGF0dHJpYnV0ZXMsIG9wdGlvbnMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgX3VwZGF0ZVVzZXIoYXR0cmlidXRlcywgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fdXNlU2Vzc2lvbihhc3luYyAocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhOiBzZXNzaW9uRGF0YSwgZXJyb3I6IHNlc3Npb25FcnJvciB9ID0gcmVzdWx0O1xuICAgICAgICAgICAgICAgIGlmIChzZXNzaW9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgc2Vzc2lvbkVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXNlc3Npb25EYXRhLnNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEF1dGhTZXNzaW9uTWlzc2luZ0Vycm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHNlc3Npb24gPSBzZXNzaW9uRGF0YS5zZXNzaW9uO1xuICAgICAgICAgICAgICAgIGxldCBjb2RlQ2hhbGxlbmdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBsZXQgY29kZUNoYWxsZW5nZU1ldGhvZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZmxvd1R5cGUgPT09ICdwa2NlJyAmJiBhdHRyaWJ1dGVzLmVtYWlsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgICAgICBbY29kZUNoYWxsZW5nZSwgY29kZUNoYWxsZW5nZU1ldGhvZF0gPSBhd2FpdCBnZXRDb2RlQ2hhbGxlbmdlQW5kTWV0aG9kKHRoaXMuc3RvcmFnZSwgdGhpcy5zdG9yYWdlS2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvcjogdXNlckVycm9yIH0gPSBhd2FpdCBfcmVxdWVzdCh0aGlzLmZldGNoLCAnUFVUJywgYCR7dGhpcy51cmx9L3VzZXJgLCB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3RUbzogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmVtYWlsUmVkaXJlY3RUbyxcbiAgICAgICAgICAgICAgICAgICAgYm9keTogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBhdHRyaWJ1dGVzKSwgeyBjb2RlX2NoYWxsZW5nZTogY29kZUNoYWxsZW5nZSwgY29kZV9jaGFsbGVuZ2VfbWV0aG9kOiBjb2RlQ2hhbGxlbmdlTWV0aG9kIH0pLFxuICAgICAgICAgICAgICAgICAgICBqd3Q6IHNlc3Npb24uYWNjZXNzX3Rva2VuLFxuICAgICAgICAgICAgICAgICAgICB4Zm9ybTogX3VzZXJSZXNwb25zZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAodXNlckVycm9yKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyB1c2VyRXJyb3I7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbi51c2VyID0gZGF0YS51c2VyO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX3NhdmVTZXNzaW9uKHNlc3Npb24pO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX25vdGlmeUFsbFN1YnNjcmliZXJzKCdVU0VSX1VQREFURUQnLCBzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiB7IHVzZXI6IHNlc3Npb24udXNlciB9LCBlcnJvcjogbnVsbCB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoaXNBdXRoRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyB1c2VyOiBudWxsIH0sIGVycm9yIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzZXNzaW9uIGRhdGEgZnJvbSB0aGUgY3VycmVudCBzZXNzaW9uLiBJZiB0aGUgY3VycmVudCBzZXNzaW9uIGlzIGV4cGlyZWQsIHNldFNlc3Npb24gd2lsbCB0YWtlIGNhcmUgb2YgcmVmcmVzaGluZyBpdCB0byBvYnRhaW4gYSBuZXcgc2Vzc2lvbi5cbiAgICAgKiBJZiB0aGUgcmVmcmVzaCB0b2tlbiBvciBhY2Nlc3MgdG9rZW4gaW4gdGhlIGN1cnJlbnQgc2Vzc2lvbiBpcyBpbnZhbGlkLCBhbiBlcnJvciB3aWxsIGJlIHRocm93bi5cbiAgICAgKiBAcGFyYW0gY3VycmVudFNlc3Npb24gVGhlIGN1cnJlbnQgc2Vzc2lvbiB0aGF0IG1pbmltYWxseSBjb250YWlucyBhbiBhY2Nlc3MgdG9rZW4gYW5kIHJlZnJlc2ggdG9rZW4uXG4gICAgICovXG4gICAgYXN5bmMgc2V0U2Vzc2lvbihjdXJyZW50U2Vzc2lvbikge1xuICAgICAgICBhd2FpdCB0aGlzLmluaXRpYWxpemVQcm9taXNlO1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fYWNxdWlyZUxvY2soLTEsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9zZXRTZXNzaW9uKGN1cnJlbnRTZXNzaW9uKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIF9zZXRTZXNzaW9uKGN1cnJlbnRTZXNzaW9uKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIWN1cnJlbnRTZXNzaW9uLmFjY2Vzc190b2tlbiB8fCAhY3VycmVudFNlc3Npb24ucmVmcmVzaF90b2tlbikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBdXRoU2Vzc2lvbk1pc3NpbmdFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdGltZU5vdyA9IERhdGUubm93KCkgLyAxMDAwO1xuICAgICAgICAgICAgbGV0IGV4cGlyZXNBdCA9IHRpbWVOb3c7XG4gICAgICAgICAgICBsZXQgaGFzRXhwaXJlZCA9IHRydWU7XG4gICAgICAgICAgICBsZXQgc2Vzc2lvbiA9IG51bGw7XG4gICAgICAgICAgICBjb25zdCB7IHBheWxvYWQgfSA9IGRlY29kZUpXVChjdXJyZW50U2Vzc2lvbi5hY2Nlc3NfdG9rZW4pO1xuICAgICAgICAgICAgaWYgKHBheWxvYWQuZXhwKSB7XG4gICAgICAgICAgICAgICAgZXhwaXJlc0F0ID0gcGF5bG9hZC5leHA7XG4gICAgICAgICAgICAgICAgaGFzRXhwaXJlZCA9IGV4cGlyZXNBdCA8PSB0aW1lTm93O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGhhc0V4cGlyZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHNlc3Npb246IHJlZnJlc2hlZFNlc3Npb24sIGVycm9yIH0gPSBhd2FpdCB0aGlzLl9jYWxsUmVmcmVzaFRva2VuKGN1cnJlbnRTZXNzaW9uLnJlZnJlc2hfdG9rZW4pO1xuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiB7IHVzZXI6IG51bGwsIHNlc3Npb246IG51bGwgfSwgZXJyb3I6IGVycm9yIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghcmVmcmVzaGVkU2Vzc2lvbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiB7IHVzZXI6IG51bGwsIHNlc3Npb246IG51bGwgfSwgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2Vzc2lvbiA9IHJlZnJlc2hlZFNlc3Npb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCB0aGlzLl9nZXRVc2VyKGN1cnJlbnRTZXNzaW9uLmFjY2Vzc190b2tlbik7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZXNzaW9uID0ge1xuICAgICAgICAgICAgICAgICAgICBhY2Nlc3NfdG9rZW46IGN1cnJlbnRTZXNzaW9uLmFjY2Vzc190b2tlbixcbiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaF90b2tlbjogY3VycmVudFNlc3Npb24ucmVmcmVzaF90b2tlbixcbiAgICAgICAgICAgICAgICAgICAgdXNlcjogZGF0YS51c2VyLFxuICAgICAgICAgICAgICAgICAgICB0b2tlbl90eXBlOiAnYmVhcmVyJyxcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJlc19pbjogZXhwaXJlc0F0IC0gdGltZU5vdyxcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJlc19hdDogZXhwaXJlc0F0LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fc2F2ZVNlc3Npb24oc2Vzc2lvbik7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fbm90aWZ5QWxsU3Vic2NyaWJlcnMoJ1NJR05FRF9JTicsIHNlc3Npb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyB1c2VyOiBzZXNzaW9uLnVzZXIsIHNlc3Npb24gfSwgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChpc0F1dGhFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiB7IHNlc3Npb246IG51bGwsIHVzZXI6IG51bGwgfSwgZXJyb3IgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgc2Vzc2lvbiwgcmVnYXJkbGVzcyBvZiBleHBpcnkgc3RhdHVzLlxuICAgICAqIFRha2VzIGluIGFuIG9wdGlvbmFsIGN1cnJlbnQgc2Vzc2lvbi4gSWYgbm90IHBhc3NlZCBpbiwgdGhlbiByZWZyZXNoU2Vzc2lvbigpIHdpbGwgYXR0ZW1wdCB0byByZXRyaWV2ZSBpdCBmcm9tIGdldFNlc3Npb24oKS5cbiAgICAgKiBJZiB0aGUgY3VycmVudCBzZXNzaW9uJ3MgcmVmcmVzaCB0b2tlbiBpcyBpbnZhbGlkLCBhbiBlcnJvciB3aWxsIGJlIHRocm93bi5cbiAgICAgKiBAcGFyYW0gY3VycmVudFNlc3Npb24gVGhlIGN1cnJlbnQgc2Vzc2lvbi4gSWYgcGFzc2VkIGluLCBpdCBtdXN0IGNvbnRhaW4gYSByZWZyZXNoIHRva2VuLlxuICAgICAqL1xuICAgIGFzeW5jIHJlZnJlc2hTZXNzaW9uKGN1cnJlbnRTZXNzaW9uKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZVByb21pc2U7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9hY3F1aXJlTG9jaygtMSwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3JlZnJlc2hTZXNzaW9uKGN1cnJlbnRTZXNzaW9uKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIF9yZWZyZXNoU2Vzc2lvbihjdXJyZW50U2Vzc2lvbikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3VzZVNlc3Npb24oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2Vzc2lvbiA9IChfYSA9IGRhdGEuc2Vzc2lvbikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIShjdXJyZW50U2Vzc2lvbiA9PT0gbnVsbCB8fCBjdXJyZW50U2Vzc2lvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogY3VycmVudFNlc3Npb24ucmVmcmVzaF90b2tlbikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEF1dGhTZXNzaW9uTWlzc2luZ0Vycm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHsgc2Vzc2lvbiwgZXJyb3IgfSA9IGF3YWl0IHRoaXMuX2NhbGxSZWZyZXNoVG9rZW4oY3VycmVudFNlc3Npb24ucmVmcmVzaF90b2tlbik7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgdXNlcjogbnVsbCwgc2Vzc2lvbjogbnVsbCB9LCBlcnJvcjogZXJyb3IgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFzZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgdXNlcjogbnVsbCwgc2Vzc2lvbjogbnVsbCB9LCBlcnJvcjogbnVsbCB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiB7IHVzZXI6IHNlc3Npb24udXNlciwgc2Vzc2lvbiB9LCBlcnJvcjogbnVsbCB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoaXNBdXRoRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyB1c2VyOiBudWxsLCBzZXNzaW9uOiBudWxsIH0sIGVycm9yIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzZXNzaW9uIGRhdGEgZnJvbSBhIFVSTCBzdHJpbmdcbiAgICAgKi9cbiAgICBhc3luYyBfZ2V0U2Vzc2lvbkZyb21VUkwocGFyYW1zLCBjYWxsYmFja1VybFR5cGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICghaXNCcm93c2VyKCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEF1dGhJbXBsaWNpdEdyYW50UmVkaXJlY3RFcnJvcignTm8gYnJvd3NlciBkZXRlY3RlZC4nKTtcbiAgICAgICAgICAgIC8vIElmIHRoZXJlJ3MgYW4gZXJyb3IgaW4gdGhlIFVSTCwgaXQgZG9lc24ndCBtYXR0ZXIgd2hhdCBmbG93IGl0IGlzLCB3ZSBqdXN0IHJldHVybiB0aGUgZXJyb3IuXG4gICAgICAgICAgICBpZiAocGFyYW1zLmVycm9yIHx8IHBhcmFtcy5lcnJvcl9kZXNjcmlwdGlvbiB8fCBwYXJhbXMuZXJyb3JfY29kZSkge1xuICAgICAgICAgICAgICAgIC8vIFRoZSBlcnJvciBjbGFzcyByZXR1cm5lZCBpbXBsaWVzIHRoYXQgdGhlIHJlZGlyZWN0IGlzIGZyb20gYW4gaW1wbGljaXQgZ3JhbnQgZmxvd1xuICAgICAgICAgICAgICAgIC8vIGJ1dCBpdCBjb3VsZCBhbHNvIGJlIGZyb20gYSByZWRpcmVjdCBlcnJvciBmcm9tIGEgUEtDRSBmbG93LlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBdXRoSW1wbGljaXRHcmFudFJlZGlyZWN0RXJyb3IocGFyYW1zLmVycm9yX2Rlc2NyaXB0aW9uIHx8ICdFcnJvciBpbiBVUkwgd2l0aCB1bnNwZWNpZmllZCBlcnJvcl9kZXNjcmlwdGlvbicsIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IHBhcmFtcy5lcnJvciB8fCAndW5zcGVjaWZpZWRfZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICBjb2RlOiBwYXJhbXMuZXJyb3JfY29kZSB8fCAndW5zcGVjaWZpZWRfY29kZScsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDaGVja3MgZm9yIG1pc21hdGNoZXMgYmV0d2VlbiB0aGUgZmxvd1R5cGUgaW5pdGlhbGlzZWQgaW4gdGhlIGNsaWVudCBhbmQgdGhlIFVSTCBwYXJhbWV0ZXJzXG4gICAgICAgICAgICBzd2l0Y2ggKGNhbGxiYWNrVXJsVHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ltcGxpY2l0JzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZmxvd1R5cGUgPT09ICdwa2NlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEF1dGhQS0NFR3JhbnRDb2RlRXhjaGFuZ2VFcnJvcignTm90IGEgdmFsaWQgUEtDRSBmbG93IHVybC4nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdwa2NlJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZmxvd1R5cGUgPT09ICdpbXBsaWNpdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBBdXRoSW1wbGljaXRHcmFudFJlZGlyZWN0RXJyb3IoJ05vdCBhIHZhbGlkIGltcGxpY2l0IGdyYW50IGZsb3cgdXJsLicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgLy8gdGhlcmUncyBubyBtaXNtYXRjaCBzbyB3ZSBjb250aW51ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2luY2UgdGhpcyBpcyBhIHJlZGlyZWN0IGZvciBQS0NFLCB3ZSBhdHRlbXB0IHRvIHJldHJpZXZlIHRoZSBjb2RlIGZyb20gdGhlIFVSTCBmb3IgdGhlIGNvZGUgZXhjaGFuZ2VcbiAgICAgICAgICAgIGlmIChjYWxsYmFja1VybFR5cGUgPT09ICdwa2NlJykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlYnVnKCcjX2luaXRpYWxpemUoKScsICdiZWdpbicsICdpcyBQS0NFIGZsb3cnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcmFtcy5jb2RlKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQXV0aFBLQ0VHcmFudENvZGVFeGNoYW5nZUVycm9yKCdObyBjb2RlIGRldGVjdGVkLicpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHRoaXMuX2V4Y2hhbmdlQ29kZUZvclNlc3Npb24ocGFyYW1zLmNvZGUpO1xuICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gICAgICAgICAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5kZWxldGUoJ2NvZGUnKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUod2luZG93Lmhpc3Rvcnkuc3RhdGUsICcnLCB1cmwudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyBzZXNzaW9uOiBkYXRhLnNlc3Npb24sIHJlZGlyZWN0VHlwZTogbnVsbCB9LCBlcnJvcjogbnVsbCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyBwcm92aWRlcl90b2tlbiwgcHJvdmlkZXJfcmVmcmVzaF90b2tlbiwgYWNjZXNzX3Rva2VuLCByZWZyZXNoX3Rva2VuLCBleHBpcmVzX2luLCBleHBpcmVzX2F0LCB0b2tlbl90eXBlLCB9ID0gcGFyYW1zO1xuICAgICAgICAgICAgaWYgKCFhY2Nlc3NfdG9rZW4gfHwgIWV4cGlyZXNfaW4gfHwgIXJlZnJlc2hfdG9rZW4gfHwgIXRva2VuX3R5cGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQXV0aEltcGxpY2l0R3JhbnRSZWRpcmVjdEVycm9yKCdObyBzZXNzaW9uIGRlZmluZWQgaW4gVVJMJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB0aW1lTm93ID0gTWF0aC5yb3VuZChEYXRlLm5vdygpIC8gMTAwMCk7XG4gICAgICAgICAgICBjb25zdCBleHBpcmVzSW4gPSBwYXJzZUludChleHBpcmVzX2luKTtcbiAgICAgICAgICAgIGxldCBleHBpcmVzQXQgPSB0aW1lTm93ICsgZXhwaXJlc0luO1xuICAgICAgICAgICAgaWYgKGV4cGlyZXNfYXQpIHtcbiAgICAgICAgICAgICAgICBleHBpcmVzQXQgPSBwYXJzZUludChleHBpcmVzX2F0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFjdHVhbGx5RXhwaXJlc0luID0gZXhwaXJlc0F0IC0gdGltZU5vdztcbiAgICAgICAgICAgIGlmIChhY3R1YWxseUV4cGlyZXNJbiAqIDEwMDAgPD0gQVVUT19SRUZSRVNIX1RJQ0tfRFVSQVRJT05fTVMpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYEBzdXBhYmFzZS9nb3RydWUtanM6IFNlc3Npb24gYXMgcmV0cmlldmVkIGZyb20gVVJMIGV4cGlyZXMgaW4gJHthY3R1YWxseUV4cGlyZXNJbn1zLCBzaG91bGQgaGF2ZSBiZWVuIGNsb3NlciB0byAke2V4cGlyZXNJbn1zYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpc3N1ZWRBdCA9IGV4cGlyZXNBdCAtIGV4cGlyZXNJbjtcbiAgICAgICAgICAgIGlmICh0aW1lTm93IC0gaXNzdWVkQXQgPj0gMTIwKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdAc3VwYWJhc2UvZ290cnVlLWpzOiBTZXNzaW9uIGFzIHJldHJpZXZlZCBmcm9tIFVSTCB3YXMgaXNzdWVkIG92ZXIgMTIwcyBhZ28sIFVSTCBjb3VsZCBiZSBzdGFsZScsIGlzc3VlZEF0LCBleHBpcmVzQXQsIHRpbWVOb3cpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGltZU5vdyAtIGlzc3VlZEF0IDwgMCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignQHN1cGFiYXNlL2dvdHJ1ZS1qczogU2Vzc2lvbiBhcyByZXRyaWV2ZWQgZnJvbSBVUkwgd2FzIGlzc3VlZCBpbiB0aGUgZnV0dXJlPyBDaGVjayB0aGUgZGV2aWNlIGNsb2NrIGZvciBza2V3JywgaXNzdWVkQXQsIGV4cGlyZXNBdCwgdGltZU5vdyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCB0aGlzLl9nZXRVc2VyKGFjY2Vzc190b2tlbik7XG4gICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uID0ge1xuICAgICAgICAgICAgICAgIHByb3ZpZGVyX3Rva2VuLFxuICAgICAgICAgICAgICAgIHByb3ZpZGVyX3JlZnJlc2hfdG9rZW4sXG4gICAgICAgICAgICAgICAgYWNjZXNzX3Rva2VuLFxuICAgICAgICAgICAgICAgIGV4cGlyZXNfaW46IGV4cGlyZXNJbixcbiAgICAgICAgICAgICAgICBleHBpcmVzX2F0OiBleHBpcmVzQXQsXG4gICAgICAgICAgICAgICAgcmVmcmVzaF90b2tlbixcbiAgICAgICAgICAgICAgICB0b2tlbl90eXBlLFxuICAgICAgICAgICAgICAgIHVzZXI6IGRhdGEudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBSZW1vdmUgdG9rZW5zIGZyb20gVVJMXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9ICcnO1xuICAgICAgICAgICAgdGhpcy5fZGVidWcoJyNfZ2V0U2Vzc2lvbkZyb21VUkwoKScsICdjbGVhcmluZyB3aW5kb3cubG9jYXRpb24uaGFzaCcpO1xuICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyBzZXNzaW9uLCByZWRpcmVjdFR5cGU6IHBhcmFtcy50eXBlIH0sIGVycm9yOiBudWxsIH07XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoaXNBdXRoRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyBzZXNzaW9uOiBudWxsLCByZWRpcmVjdFR5cGU6IG51bGwgfSwgZXJyb3IgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgY3VycmVudCBVUkwgY29udGFpbnMgcGFyYW1ldGVycyBnaXZlbiBieSBhbiBpbXBsaWNpdCBvYXV0aCBncmFudCBmbG93IChodHRwczovL3d3dy5yZmMtZWRpdG9yLm9yZy9yZmMvcmZjNjc0OS5odG1sI3NlY3Rpb24tNC4yKVxuICAgICAqL1xuICAgIF9pc0ltcGxpY2l0R3JhbnRDYWxsYmFjayhwYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4ocGFyYW1zLmFjY2Vzc190b2tlbiB8fCBwYXJhbXMuZXJyb3JfZGVzY3JpcHRpb24pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGN1cnJlbnQgVVJMIGFuZCBiYWNraW5nIHN0b3JhZ2UgY29udGFpbiBwYXJhbWV0ZXJzIGdpdmVuIGJ5IGEgUEtDRSBmbG93XG4gICAgICovXG4gICAgYXN5bmMgX2lzUEtDRUNhbGxiYWNrKHBhcmFtcykge1xuICAgICAgICBjb25zdCBjdXJyZW50U3RvcmFnZUNvbnRlbnQgPSBhd2FpdCBnZXRJdGVtQXN5bmModGhpcy5zdG9yYWdlLCBgJHt0aGlzLnN0b3JhZ2VLZXl9LWNvZGUtdmVyaWZpZXJgKTtcbiAgICAgICAgcmV0dXJuICEhKHBhcmFtcy5jb2RlICYmIGN1cnJlbnRTdG9yYWdlQ29udGVudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc2lkZSBhIGJyb3dzZXIgY29udGV4dCwgYHNpZ25PdXQoKWAgd2lsbCByZW1vdmUgdGhlIGxvZ2dlZCBpbiB1c2VyIGZyb20gdGhlIGJyb3dzZXIgc2Vzc2lvbiBhbmQgbG9nIHRoZW0gb3V0IC0gcmVtb3ZpbmcgYWxsIGl0ZW1zIGZyb20gbG9jYWxzdG9yYWdlIGFuZCB0aGVuIHRyaWdnZXIgYSBgXCJTSUdORURfT1VUXCJgIGV2ZW50LlxuICAgICAqXG4gICAgICogRm9yIHNlcnZlci1zaWRlIG1hbmFnZW1lbnQsIHlvdSBjYW4gcmV2b2tlIGFsbCByZWZyZXNoIHRva2VucyBmb3IgYSB1c2VyIGJ5IHBhc3NpbmcgYSB1c2VyJ3MgSldUIHRocm91Z2ggdG8gYGF1dGguYXBpLnNpZ25PdXQoSldUOiBzdHJpbmcpYC5cbiAgICAgKiBUaGVyZSBpcyBubyB3YXkgdG8gcmV2b2tlIGEgdXNlcidzIGFjY2VzcyB0b2tlbiBqd3QgdW50aWwgaXQgZXhwaXJlcy4gSXQgaXMgcmVjb21tZW5kZWQgdG8gc2V0IGEgc2hvcnRlciBleHBpcnkgb24gdGhlIGp3dCBmb3IgdGhpcyByZWFzb24uXG4gICAgICpcbiAgICAgKiBJZiB1c2luZyBgb3RoZXJzYCBzY29wZSwgbm8gYFNJR05FRF9PVVRgIGV2ZW50IGlzIGZpcmVkIVxuICAgICAqL1xuICAgIGFzeW5jIHNpZ25PdXQob3B0aW9ucyA9IHsgc2NvcGU6ICdnbG9iYWwnIH0pIHtcbiAgICAgICAgYXdhaXQgdGhpcy5pbml0aWFsaXplUHJvbWlzZTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2FjcXVpcmVMb2NrKC0xLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fc2lnbk91dChvcHRpb25zKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIF9zaWduT3V0KHsgc2NvcGUgfSA9IHsgc2NvcGU6ICdnbG9iYWwnIH0pIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3VzZVNlc3Npb24oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvcjogc2Vzc2lvbkVycm9yIH0gPSByZXN1bHQ7XG4gICAgICAgICAgICBpZiAoc2Vzc2lvbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3I6IHNlc3Npb25FcnJvciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYWNjZXNzVG9rZW4gPSAoX2EgPSBkYXRhLnNlc3Npb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hY2Nlc3NfdG9rZW47XG4gICAgICAgICAgICBpZiAoYWNjZXNzVG9rZW4pIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCB0aGlzLmFkbWluLnNpZ25PdXQoYWNjZXNzVG9rZW4sIHNjb3BlKTtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWdub3JlIDQwNHMgc2luY2UgdXNlciBtaWdodCBub3QgZXhpc3QgYW55bW9yZVxuICAgICAgICAgICAgICAgICAgICAvLyBpZ25vcmUgNDAxcyBzaW5jZSBhbiBpbnZhbGlkIG9yIGV4cGlyZWQgSldUIHNob3VsZCBzaWduIG91dCB0aGUgY3VycmVudCBzZXNzaW9uXG4gICAgICAgICAgICAgICAgICAgIGlmICghKGlzQXV0aEFwaUVycm9yKGVycm9yKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKGVycm9yLnN0YXR1cyA9PT0gNDA0IHx8IGVycm9yLnN0YXR1cyA9PT0gNDAxIHx8IGVycm9yLnN0YXR1cyA9PT0gNDAzKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGVycm9yIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2NvcGUgIT09ICdvdGhlcnMnKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fcmVtb3ZlU2Vzc2lvbigpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHJlbW92ZUl0ZW1Bc3luYyh0aGlzLnN0b3JhZ2UsIGAke3RoaXMuc3RvcmFnZUtleX0tY29kZS12ZXJpZmllcmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlY2VpdmUgYSBub3RpZmljYXRpb24gZXZlcnkgdGltZSBhbiBhdXRoIGV2ZW50IGhhcHBlbnMuXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIEEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgaW52b2tlZCB3aGVuIGFuIGF1dGggZXZlbnQgaGFwcGVucy5cbiAgICAgKi9cbiAgICBvbkF1dGhTdGF0ZUNoYW5nZShjYWxsYmFjaykge1xuICAgICAgICBjb25zdCBpZCA9IHV1aWQoKTtcbiAgICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uID0ge1xuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBjYWxsYmFjayxcbiAgICAgICAgICAgIHVuc3Vic2NyaWJlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGVidWcoJyN1bnN1YnNjcmliZSgpJywgJ3N0YXRlIGNoYW5nZSBjYWxsYmFjayB3aXRoIGlkIHJlbW92ZWQnLCBpZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUNoYW5nZUVtaXR0ZXJzLmRlbGV0ZShpZCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9kZWJ1ZygnI29uQXV0aFN0YXRlQ2hhbmdlKCknLCAncmVnaXN0ZXJlZCBjYWxsYmFjayB3aXRoIGlkJywgaWQpO1xuICAgICAgICB0aGlzLnN0YXRlQ2hhbmdlRW1pdHRlcnMuc2V0KGlkLCBzdWJzY3JpcHRpb24pO1xuICAgICAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5pbml0aWFsaXplUHJvbWlzZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX2FjcXVpcmVMb2NrKC0xLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdEluaXRpYWxTZXNzaW9uKGlkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSgpO1xuICAgICAgICByZXR1cm4geyBkYXRhOiB7IHN1YnNjcmlwdGlvbiB9IH07XG4gICAgfVxuICAgIGFzeW5jIF9lbWl0SW5pdGlhbFNlc3Npb24oaWQpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3VzZVNlc3Npb24oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhOiB7IHNlc3Npb24gfSwgZXJyb3IsIH0gPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICBhd2FpdCAoKF9hID0gdGhpcy5zdGF0ZUNoYW5nZUVtaXR0ZXJzLmdldChpZCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsYmFjaygnSU5JVElBTF9TRVNTSU9OJywgc2Vzc2lvbikpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlYnVnKCdJTklUSUFMX1NFU1NJT04nLCAnY2FsbGJhY2sgaWQnLCBpZCwgJ3Nlc3Npb24nLCBzZXNzaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCAoKF9iID0gdGhpcy5zdGF0ZUNoYW5nZUVtaXR0ZXJzLmdldChpZCkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsYmFjaygnSU5JVElBTF9TRVNTSU9OJywgbnVsbCkpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlYnVnKCdJTklUSUFMX1NFU1NJT04nLCAnY2FsbGJhY2sgaWQnLCBpZCwgJ2Vycm9yJywgZXJyKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIHBhc3N3b3JkIHJlc2V0IHJlcXVlc3QgdG8gYW4gZW1haWwgYWRkcmVzcy4gVGhpcyBtZXRob2Qgc3VwcG9ydHMgdGhlIFBLQ0UgZmxvdy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBlbWFpbCBUaGUgZW1haWwgYWRkcmVzcyBvZiB0aGUgdXNlci5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5yZWRpcmVjdFRvIFRoZSBVUkwgdG8gc2VuZCB0aGUgdXNlciB0byBhZnRlciB0aGV5IGNsaWNrIHRoZSBwYXNzd29yZCByZXNldCBsaW5rLlxuICAgICAqIEBwYXJhbSBvcHRpb25zLmNhcHRjaGFUb2tlbiBWZXJpZmljYXRpb24gdG9rZW4gcmVjZWl2ZWQgd2hlbiB0aGUgdXNlciBjb21wbGV0ZXMgdGhlIGNhcHRjaGEgb24gdGhlIHNpdGUuXG4gICAgICovXG4gICAgYXN5bmMgcmVzZXRQYXNzd29yZEZvckVtYWlsKGVtYWlsLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgbGV0IGNvZGVDaGFsbGVuZ2UgPSBudWxsO1xuICAgICAgICBsZXQgY29kZUNoYWxsZW5nZU1ldGhvZCA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLmZsb3dUeXBlID09PSAncGtjZScpIHtcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIFtjb2RlQ2hhbGxlbmdlLCBjb2RlQ2hhbGxlbmdlTWV0aG9kXSA9IGF3YWl0IGdldENvZGVDaGFsbGVuZ2VBbmRNZXRob2QodGhpcy5zdG9yYWdlLCB0aGlzLnN0b3JhZ2VLZXksIHRydWUgLy8gaXNQYXNzd29yZFJlY292ZXJ5XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgX3JlcXVlc3QodGhpcy5mZXRjaCwgJ1BPU1QnLCBgJHt0aGlzLnVybH0vcmVjb3ZlcmAsIHtcbiAgICAgICAgICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICAgICAgICAgIGVtYWlsLFxuICAgICAgICAgICAgICAgICAgICBjb2RlX2NoYWxsZW5nZTogY29kZUNoYWxsZW5nZSxcbiAgICAgICAgICAgICAgICAgICAgY29kZV9jaGFsbGVuZ2VfbWV0aG9kOiBjb2RlQ2hhbGxlbmdlTWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICBnb3RydWVfbWV0YV9zZWN1cml0eTogeyBjYXB0Y2hhX3Rva2VuOiBvcHRpb25zLmNhcHRjaGFUb2tlbiB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgIHJlZGlyZWN0VG86IG9wdGlvbnMucmVkaXJlY3RUbyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGlzQXV0aEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIGFsbCB0aGUgaWRlbnRpdGllcyBsaW5rZWQgdG8gYSB1c2VyLlxuICAgICAqL1xuICAgIGFzeW5jIGdldFVzZXJJZGVudGl0aWVzKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCB0aGlzLmdldFVzZXIoKTtcbiAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgaWRlbnRpdGllczogKF9hID0gZGF0YS51c2VyLmlkZW50aXRpZXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdIH0sIGVycm9yOiBudWxsIH07XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoaXNBdXRoRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExpbmtzIGFuIG9hdXRoIGlkZW50aXR5IHRvIGFuIGV4aXN0aW5nIHVzZXIuXG4gICAgICogVGhpcyBtZXRob2Qgc3VwcG9ydHMgdGhlIFBLQ0UgZmxvdy5cbiAgICAgKi9cbiAgICBhc3luYyBsaW5rSWRlbnRpdHkoY3JlZGVudGlhbHMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgdGhpcy5fdXNlU2Vzc2lvbihhc3luYyAocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBhd2FpdCB0aGlzLl9nZXRVcmxGb3JQcm92aWRlcihgJHt0aGlzLnVybH0vdXNlci9pZGVudGl0aWVzL2F1dGhvcml6ZWAsIGNyZWRlbnRpYWxzLnByb3ZpZGVyLCB7XG4gICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0VG86IChfYSA9IGNyZWRlbnRpYWxzLm9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZWRpcmVjdFRvLFxuICAgICAgICAgICAgICAgICAgICBzY29wZXM6IChfYiA9IGNyZWRlbnRpYWxzLm9wdGlvbnMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zY29wZXMsXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1zOiAoX2MgPSBjcmVkZW50aWFscy5vcHRpb25zKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MucXVlcnlQYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgIHNraXBCcm93c2VyUmVkaXJlY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IF9yZXF1ZXN0KHRoaXMuZmV0Y2gsICdHRVQnLCB1cmwsIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICBqd3Q6IChfZSA9IChfZCA9IGRhdGEuc2Vzc2lvbikgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmFjY2Vzc190b2tlbikgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICBpZiAoaXNCcm93c2VyKCkgJiYgISgoX2EgPSBjcmVkZW50aWFscy5vcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2tpcEJyb3dzZXJSZWRpcmVjdCkpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uYXNzaWduKGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS51cmwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyBwcm92aWRlcjogY3JlZGVudGlhbHMucHJvdmlkZXIsIHVybDogZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhLnVybCB9LCBlcnJvcjogbnVsbCB9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGlzQXV0aEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgcHJvdmlkZXI6IGNyZWRlbnRpYWxzLnByb3ZpZGVyLCB1cmw6IG51bGwgfSwgZXJyb3IgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVubGlua3MgYW4gaWRlbnRpdHkgZnJvbSBhIHVzZXIgYnkgZGVsZXRpbmcgaXQuIFRoZSB1c2VyIHdpbGwgbm8gbG9uZ2VyIGJlIGFibGUgdG8gc2lnbiBpbiB3aXRoIHRoYXQgaWRlbnRpdHkgb25jZSBpdCdzIHVubGlua2VkLlxuICAgICAqL1xuICAgIGFzeW5jIHVubGlua0lkZW50aXR5KGlkZW50aXR5KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fdXNlU2Vzc2lvbihhc3luYyAocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgX3JlcXVlc3QodGhpcy5mZXRjaCwgJ0RFTEVURScsIGAke3RoaXMudXJsfS91c2VyL2lkZW50aXRpZXMvJHtpZGVudGl0eS5pZGVudGl0eV9pZH1gLCB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgICAgICAgICAgand0OiAoX2IgPSAoX2EgPSBkYXRhLnNlc3Npb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hY2Nlc3NfdG9rZW4pICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGlzQXV0aEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSBuZXcgSldULlxuICAgICAqIEBwYXJhbSByZWZyZXNoVG9rZW4gQSB2YWxpZCByZWZyZXNoIHRva2VuIHRoYXQgd2FzIHJldHVybmVkIG9uIGxvZ2luLlxuICAgICAqL1xuICAgIGFzeW5jIF9yZWZyZXNoQWNjZXNzVG9rZW4ocmVmcmVzaFRva2VuKSB7XG4gICAgICAgIGNvbnN0IGRlYnVnTmFtZSA9IGAjX3JlZnJlc2hBY2Nlc3NUb2tlbigke3JlZnJlc2hUb2tlbi5zdWJzdHJpbmcoMCwgNSl9Li4uKWA7XG4gICAgICAgIHRoaXMuX2RlYnVnKGRlYnVnTmFtZSwgJ2JlZ2luJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzdGFydGVkQXQgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgLy8gd2lsbCBhdHRlbXB0IHRvIHJlZnJlc2ggdGhlIHRva2VuIHdpdGggZXhwb25lbnRpYWwgYmFja29mZlxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJldHJ5YWJsZShhc3luYyAoYXR0ZW1wdCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChhdHRlbXB0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzbGVlcCgyMDAgKiBNYXRoLnBvdygyLCBhdHRlbXB0IC0gMSkpOyAvLyAyMDAsIDQwMCwgODAwLCAuLi5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fZGVidWcoZGVidWdOYW1lLCAncmVmcmVzaGluZyBhdHRlbXB0JywgYXR0ZW1wdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IF9yZXF1ZXN0KHRoaXMuZmV0Y2gsICdQT1NUJywgYCR7dGhpcy51cmx9L3Rva2VuP2dyYW50X3R5cGU9cmVmcmVzaF90b2tlbmAsIHtcbiAgICAgICAgICAgICAgICAgICAgYm9keTogeyByZWZyZXNoX3Rva2VuOiByZWZyZXNoVG9rZW4gfSxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICB4Zm9ybTogX3Nlc3Npb25SZXNwb25zZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIChhdHRlbXB0LCBlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRCYWNrT2ZmSW50ZXJ2YWwgPSAyMDAgKiBNYXRoLnBvdygyLCBhdHRlbXB0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGVycm9yICYmXG4gICAgICAgICAgICAgICAgICAgIGlzQXV0aFJldHJ5YWJsZUZldGNoRXJyb3IoZXJyb3IpICYmXG4gICAgICAgICAgICAgICAgICAgIC8vIHJldHJ5YWJsZSBvbmx5IGlmIHRoZSByZXF1ZXN0IGNhbiBiZSBzZW50IGJlZm9yZSB0aGUgYmFja29mZiBvdmVyZmxvd3MgdGhlIHRpY2sgZHVyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgRGF0ZS5ub3coKSArIG5leHRCYWNrT2ZmSW50ZXJ2YWwgLSBzdGFydGVkQXQgPCBBVVRPX1JFRlJFU0hfVElDS19EVVJBVElPTl9NUyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuX2RlYnVnKGRlYnVnTmFtZSwgJ2Vycm9yJywgZXJyb3IpO1xuICAgICAgICAgICAgaWYgKGlzQXV0aEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IHsgc2Vzc2lvbjogbnVsbCwgdXNlcjogbnVsbCB9LCBlcnJvciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLl9kZWJ1ZyhkZWJ1Z05hbWUsICdlbmQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfaXNWYWxpZFNlc3Npb24obWF5YmVTZXNzaW9uKSB7XG4gICAgICAgIGNvbnN0IGlzVmFsaWRTZXNzaW9uID0gdHlwZW9mIG1heWJlU2Vzc2lvbiA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgIG1heWJlU2Vzc2lvbiAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgJ2FjY2Vzc190b2tlbicgaW4gbWF5YmVTZXNzaW9uICYmXG4gICAgICAgICAgICAncmVmcmVzaF90b2tlbicgaW4gbWF5YmVTZXNzaW9uICYmXG4gICAgICAgICAgICAnZXhwaXJlc19hdCcgaW4gbWF5YmVTZXNzaW9uO1xuICAgICAgICByZXR1cm4gaXNWYWxpZFNlc3Npb247XG4gICAgfVxuICAgIGFzeW5jIF9oYW5kbGVQcm92aWRlclNpZ25Jbihwcm92aWRlciwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB1cmwgPSBhd2FpdCB0aGlzLl9nZXRVcmxGb3JQcm92aWRlcihgJHt0aGlzLnVybH0vYXV0aG9yaXplYCwgcHJvdmlkZXIsIHtcbiAgICAgICAgICAgIHJlZGlyZWN0VG86IG9wdGlvbnMucmVkaXJlY3RUbyxcbiAgICAgICAgICAgIHNjb3Blczogb3B0aW9ucy5zY29wZXMsXG4gICAgICAgICAgICBxdWVyeVBhcmFtczogb3B0aW9ucy5xdWVyeVBhcmFtcyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2RlYnVnKCcjX2hhbmRsZVByb3ZpZGVyU2lnbkluKCknLCAncHJvdmlkZXInLCBwcm92aWRlciwgJ29wdGlvbnMnLCBvcHRpb25zLCAndXJsJywgdXJsKTtcbiAgICAgICAgLy8gdHJ5IHRvIG9wZW4gb24gdGhlIGJyb3dzZXJcbiAgICAgICAgaWYgKGlzQnJvd3NlcigpICYmICFvcHRpb25zLnNraXBCcm93c2VyUmVkaXJlY3QpIHtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24odXJsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBkYXRhOiB7IHByb3ZpZGVyLCB1cmwgfSwgZXJyb3I6IG51bGwgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVjb3ZlcnMgdGhlIHNlc3Npb24gZnJvbSBMb2NhbFN0b3JhZ2UgYW5kIHJlZnJlc2hlcyB0aGUgdG9rZW5cbiAgICAgKiBOb3RlOiB0aGlzIG1ldGhvZCBpcyBhc3luYyB0byBhY2NvbW1vZGF0ZSBmb3IgQXN5bmNTdG9yYWdlIGUuZy4gaW4gUmVhY3QgbmF0aXZlLlxuICAgICAqL1xuICAgIGFzeW5jIF9yZWNvdmVyQW5kUmVmcmVzaCgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBkZWJ1Z05hbWUgPSAnI19yZWNvdmVyQW5kUmVmcmVzaCgpJztcbiAgICAgICAgdGhpcy5fZGVidWcoZGVidWdOYW1lLCAnYmVnaW4nKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZXNzaW9uID0gYXdhaXQgZ2V0SXRlbUFzeW5jKHRoaXMuc3RvcmFnZSwgdGhpcy5zdG9yYWdlS2V5KTtcbiAgICAgICAgICAgIHRoaXMuX2RlYnVnKGRlYnVnTmFtZSwgJ3Nlc3Npb24gZnJvbSBzdG9yYWdlJywgY3VycmVudFNlc3Npb24pO1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9pc1ZhbGlkU2Vzc2lvbihjdXJyZW50U2Vzc2lvbikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWJ1ZyhkZWJ1Z05hbWUsICdzZXNzaW9uIGlzIG5vdCB2YWxpZCcpO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U2Vzc2lvbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9yZW1vdmVTZXNzaW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGV4cGlyZXNXaXRoTWFyZ2luID0gKChfYSA9IGN1cnJlbnRTZXNzaW9uLmV4cGlyZXNfYXQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IEluZmluaXR5KSAqIDEwMDAgLSBEYXRlLm5vdygpIDwgRVhQSVJZX01BUkdJTl9NUztcbiAgICAgICAgICAgIHRoaXMuX2RlYnVnKGRlYnVnTmFtZSwgYHNlc3Npb24gaGFzJHtleHBpcmVzV2l0aE1hcmdpbiA/ICcnIDogJyBub3QnfSBleHBpcmVkIHdpdGggbWFyZ2luIG9mICR7RVhQSVJZX01BUkdJTl9NU31zYCk7XG4gICAgICAgICAgICBpZiAoZXhwaXJlc1dpdGhNYXJnaW4pIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hdXRvUmVmcmVzaFRva2VuICYmIGN1cnJlbnRTZXNzaW9uLnJlZnJlc2hfdG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgdGhpcy5fY2FsbFJlZnJlc2hUb2tlbihjdXJyZW50U2Vzc2lvbi5yZWZyZXNoX3Rva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNBdXRoUmV0cnlhYmxlRmV0Y2hFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kZWJ1ZyhkZWJ1Z05hbWUsICdyZWZyZXNoIGZhaWxlZCB3aXRoIGEgbm9uLXJldHJ5YWJsZSBlcnJvciwgcmVtb3ZpbmcgdGhlIHNlc3Npb24nLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fcmVtb3ZlU2Vzc2lvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gbm8gbmVlZCB0byBwZXJzaXN0IGN1cnJlbnRTZXNzaW9uIGFnYWluLCBhcyB3ZSBqdXN0IGxvYWRlZCBpdCBmcm9tXG4gICAgICAgICAgICAgICAgLy8gbG9jYWwgc3RvcmFnZTsgcGVyc2lzdGluZyBpdCBhZ2FpbiBtYXkgb3ZlcndyaXRlIGEgdmFsdWUgc2F2ZWQgYnlcbiAgICAgICAgICAgICAgICAvLyBhbm90aGVyIGNsaWVudCB3aXRoIGFjY2VzcyB0byB0aGUgc2FtZSBsb2NhbCBzdG9yYWdlXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fbm90aWZ5QWxsU3Vic2NyaWJlcnMoJ1NJR05FRF9JTicsIGN1cnJlbnRTZXNzaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLl9kZWJ1ZyhkZWJ1Z05hbWUsICdlcnJvcicsIGVycik7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLl9kZWJ1ZyhkZWJ1Z05hbWUsICdlbmQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBfY2FsbFJlZnJlc2hUb2tlbihyZWZyZXNoVG9rZW4pIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKCFyZWZyZXNoVG9rZW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBdXRoU2Vzc2lvbk1pc3NpbmdFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlZnJlc2hpbmcgaXMgYWxyZWFkeSBpbiBwcm9ncmVzc1xuICAgICAgICBpZiAodGhpcy5yZWZyZXNoaW5nRGVmZXJyZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlZnJlc2hpbmdEZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRlYnVnTmFtZSA9IGAjX2NhbGxSZWZyZXNoVG9rZW4oJHtyZWZyZXNoVG9rZW4uc3Vic3RyaW5nKDAsIDUpfS4uLilgO1xuICAgICAgICB0aGlzLl9kZWJ1ZyhkZWJ1Z05hbWUsICdiZWdpbicpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5yZWZyZXNoaW5nRGVmZXJyZWQgPSBuZXcgRGVmZXJyZWQoKTtcbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHRoaXMuX3JlZnJlc2hBY2Nlc3NUb2tlbihyZWZyZXNoVG9rZW4pO1xuICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgaWYgKCFkYXRhLnNlc3Npb24pXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEF1dGhTZXNzaW9uTWlzc2luZ0Vycm9yKCk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9zYXZlU2Vzc2lvbihkYXRhLnNlc3Npb24pO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fbm90aWZ5QWxsU3Vic2NyaWJlcnMoJ1RPS0VOX1JFRlJFU0hFRCcsIGRhdGEuc2Vzc2lvbik7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB7IHNlc3Npb246IGRhdGEuc2Vzc2lvbiwgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaGluZ0RlZmVycmVkLnJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLl9kZWJ1ZyhkZWJ1Z05hbWUsICdlcnJvcicsIGVycm9yKTtcbiAgICAgICAgICAgIGlmIChpc0F1dGhFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB7IHNlc3Npb246IG51bGwsIGVycm9yIH07XG4gICAgICAgICAgICAgICAgaWYgKCFpc0F1dGhSZXRyeWFibGVGZXRjaEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9yZW1vdmVTZXNzaW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIChfYSA9IHRoaXMucmVmcmVzaGluZ0RlZmVycmVkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAoX2IgPSB0aGlzLnJlZnJlc2hpbmdEZWZlcnJlZCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnJlamVjdChlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaGluZ0RlZmVycmVkID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2RlYnVnKGRlYnVnTmFtZSwgJ2VuZCcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIF9ub3RpZnlBbGxTdWJzY3JpYmVycyhldmVudCwgc2Vzc2lvbiwgYnJvYWRjYXN0ID0gdHJ1ZSkge1xuICAgICAgICBjb25zdCBkZWJ1Z05hbWUgPSBgI19ub3RpZnlBbGxTdWJzY3JpYmVycygke2V2ZW50fSlgO1xuICAgICAgICB0aGlzLl9kZWJ1ZyhkZWJ1Z05hbWUsICdiZWdpbicsIHNlc3Npb24sIGBicm9hZGNhc3QgPSAke2Jyb2FkY2FzdH1gKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmJyb2FkY2FzdENoYW5uZWwgJiYgYnJvYWRjYXN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5icm9hZGNhc3RDaGFubmVsLnBvc3RNZXNzYWdlKHsgZXZlbnQsIHNlc3Npb24gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBlcnJvcnMgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2VzID0gQXJyYXkuZnJvbSh0aGlzLnN0YXRlQ2hhbmdlRW1pdHRlcnMudmFsdWVzKCkpLm1hcChhc3luYyAoeCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHguY2FsbGJhY2soZXZlbnQsIHNlc3Npb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICAgICAgICAgIGlmIChlcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXJyb3JzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3JzW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3JzWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5fZGVidWcoZGVidWdOYW1lLCAnZW5kJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogc2V0IGN1cnJlbnRTZXNzaW9uIGFuZCBjdXJyZW50VXNlclxuICAgICAqIHByb2Nlc3MgdG8gX3N0YXJ0QXV0b1JlZnJlc2hUb2tlbiBpZiBwb3NzaWJsZVxuICAgICAqL1xuICAgIGFzeW5jIF9zYXZlU2Vzc2lvbihzZXNzaW9uKSB7XG4gICAgICAgIHRoaXMuX2RlYnVnKCcjX3NhdmVTZXNzaW9uKCknLCBzZXNzaW9uKTtcbiAgICAgICAgLy8gX3NhdmVTZXNzaW9uIGlzIGFsd2F5cyBjYWxsZWQgd2hlbmV2ZXIgYSBuZXcgc2Vzc2lvbiBoYXMgYmVlbiBhY3F1aXJlZFxuICAgICAgICAvLyBzbyB3ZSBjYW4gc2FmZWx5IHN1cHByZXNzIHRoZSB3YXJuaW5nIHJldHVybmVkIGJ5IGZ1dHVyZSBnZXRTZXNzaW9uIGNhbGxzXG4gICAgICAgIHRoaXMuc3VwcHJlc3NHZXRTZXNzaW9uV2FybmluZyA9IHRydWU7XG4gICAgICAgIGF3YWl0IHNldEl0ZW1Bc3luYyh0aGlzLnN0b3JhZ2UsIHRoaXMuc3RvcmFnZUtleSwgc2Vzc2lvbik7XG4gICAgfVxuICAgIGFzeW5jIF9yZW1vdmVTZXNzaW9uKCkge1xuICAgICAgICB0aGlzLl9kZWJ1ZygnI19yZW1vdmVTZXNzaW9uKCknKTtcbiAgICAgICAgYXdhaXQgcmVtb3ZlSXRlbUFzeW5jKHRoaXMuc3RvcmFnZSwgdGhpcy5zdG9yYWdlS2V5KTtcbiAgICAgICAgYXdhaXQgdGhpcy5fbm90aWZ5QWxsU3Vic2NyaWJlcnMoJ1NJR05FRF9PVVQnLCBudWxsKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbnkgcmVnaXN0ZXJlZCB2aXNpYmlsaXR5Y2hhbmdlIGNhbGxiYWNrLlxuICAgICAqXG4gICAgICoge0BzZWUgI3N0YXJ0QXV0b1JlZnJlc2h9XG4gICAgICoge0BzZWUgI3N0b3BBdXRvUmVmcmVzaH1cbiAgICAgKi9cbiAgICBfcmVtb3ZlVmlzaWJpbGl0eUNoYW5nZWRDYWxsYmFjaygpIHtcbiAgICAgICAgdGhpcy5fZGVidWcoJyNfcmVtb3ZlVmlzaWJpbGl0eUNoYW5nZWRDYWxsYmFjaygpJyk7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrID0gdGhpcy52aXNpYmlsaXR5Q2hhbmdlZENhbGxiYWNrO1xuICAgICAgICB0aGlzLnZpc2liaWxpdHlDaGFuZ2VkQ2FsbGJhY2sgPSBudWxsO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrICYmIGlzQnJvd3NlcigpICYmICh3aW5kb3cgPT09IG51bGwgfHwgd2luZG93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcikpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcigncmVtb3ZpbmcgdmlzaWJpbGl0eWNoYW5nZSBjYWxsYmFjayBmYWlsZWQnLCBlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIHRoZSBwcml2YXRlIGltcGxlbWVudGF0aW9uIG9mIHtAbGluayAjc3RhcnRBdXRvUmVmcmVzaH0uIFVzZSB0aGlzXG4gICAgICogd2l0aGluIHRoZSBsaWJyYXJ5LlxuICAgICAqL1xuICAgIGFzeW5jIF9zdGFydEF1dG9SZWZyZXNoKCkge1xuICAgICAgICBhd2FpdCB0aGlzLl9zdG9wQXV0b1JlZnJlc2goKTtcbiAgICAgICAgdGhpcy5fZGVidWcoJyNfc3RhcnRBdXRvUmVmcmVzaCgpJyk7XG4gICAgICAgIGNvbnN0IHRpY2tlciA9IHNldEludGVydmFsKCgpID0+IHRoaXMuX2F1dG9SZWZyZXNoVG9rZW5UaWNrKCksIEFVVE9fUkVGUkVTSF9USUNLX0RVUkFUSU9OX01TKTtcbiAgICAgICAgdGhpcy5hdXRvUmVmcmVzaFRpY2tlciA9IHRpY2tlcjtcbiAgICAgICAgaWYgKHRpY2tlciAmJiB0eXBlb2YgdGlja2VyID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdGlja2VyLnVucmVmID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAvLyB0aWNrZXIgaXMgYSBOb2RlSlMgVGltZW91dCBvYmplY3QgdGhhdCBoYXMgYW4gYHVucmVmYCBtZXRob2RcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvdGltZXJzLmh0bWwjdGltZW91dHVucmVmXG4gICAgICAgICAgICAvLyBXaGVuIGF1dG8gcmVmcmVzaCBpcyB1c2VkIGluIE5vZGVKUyAobGlrZSBmb3IgdGVzdGluZykgdGhlXG4gICAgICAgICAgICAvLyBgc2V0SW50ZXJ2YWxgIGlzIHByZXZlbnRpbmcgdGhlIHByb2Nlc3MgZnJvbSBiZWluZyBtYXJrZWQgYXNcbiAgICAgICAgICAgIC8vIGZpbmlzaGVkIGFuZCB0ZXN0cyBydW4gZW5kbGVzc2x5LiBUaGlzIGNhbiBiZSBwcmV2ZW50ZWQgYnkgY2FsbGluZ1xuICAgICAgICAgICAgLy8gYHVucmVmKClgIG9uIHRoZSByZXR1cm5lZCBvYmplY3QuXG4gICAgICAgICAgICB0aWNrZXIudW5yZWYoKTtcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgVFMgaGFzIG5vIGNvbnRleHQgb2YgRGVub1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBEZW5vICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgRGVuby51bnJlZlRpbWVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAvLyBzaW1pbGFyIGxpa2UgZm9yIE5vZGVKUywgYnV0IHdpdGggdGhlIERlbm8gQVBJXG4gICAgICAgICAgICAvLyBodHRwczovL2Rlbm8ubGFuZC9hcGlAbGF0ZXN0P3Vuc3RhYmxlJnM9RGVuby51bnJlZlRpbWVyXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFRTIGhhcyBubyBjb250ZXh0IG9mIERlbm9cbiAgICAgICAgICAgIERlbm8udW5yZWZUaW1lcih0aWNrZXIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJ1biB0aGUgdGljayBpbW1lZGlhdGVseSwgYnV0IGluIHRoZSBuZXh0IHBhc3Mgb2YgdGhlIGV2ZW50IGxvb3Agc28gdGhhdFxuICAgICAgICAvLyAjX2luaXRpYWxpemUgY2FuIGJlIGFsbG93ZWQgdG8gY29tcGxldGUgd2l0aG91dCByZWN1cnNpdmVseSB3YWl0aW5nIG9uXG4gICAgICAgIC8vIGl0c2VsZlxuICAgICAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZVByb21pc2U7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9hdXRvUmVmcmVzaFRva2VuVGljaygpO1xuICAgICAgICB9LCAwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBpcyB0aGUgcHJpdmF0ZSBpbXBsZW1lbnRhdGlvbiBvZiB7QGxpbmsgI3N0b3BBdXRvUmVmcmVzaH0uIFVzZSB0aGlzXG4gICAgICogd2l0aGluIHRoZSBsaWJyYXJ5LlxuICAgICAqL1xuICAgIGFzeW5jIF9zdG9wQXV0b1JlZnJlc2goKSB7XG4gICAgICAgIHRoaXMuX2RlYnVnKCcjX3N0b3BBdXRvUmVmcmVzaCgpJyk7XG4gICAgICAgIGNvbnN0IHRpY2tlciA9IHRoaXMuYXV0b1JlZnJlc2hUaWNrZXI7XG4gICAgICAgIHRoaXMuYXV0b1JlZnJlc2hUaWNrZXIgPSBudWxsO1xuICAgICAgICBpZiAodGlja2VyKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRpY2tlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhcnRzIGFuIGF1dG8tcmVmcmVzaCBwcm9jZXNzIGluIHRoZSBiYWNrZ3JvdW5kLiBUaGUgc2Vzc2lvbiBpcyBjaGVja2VkXG4gICAgICogZXZlcnkgZmV3IHNlY29uZHMuIENsb3NlIHRvIHRoZSB0aW1lIG9mIGV4cGlyYXRpb24gYSBwcm9jZXNzIGlzIHN0YXJ0ZWQgdG9cbiAgICAgKiByZWZyZXNoIHRoZSBzZXNzaW9uLiBJZiByZWZyZXNoaW5nIGZhaWxzIGl0IHdpbGwgYmUgcmV0cmllZCBmb3IgYXMgbG9uZyBhc1xuICAgICAqIG5lY2Vzc2FyeS5cbiAgICAgKlxuICAgICAqIElmIHlvdSBzZXQgdGhlIHtAbGluayBHb1RydWVDbGllbnRPcHRpb25zI2F1dG9SZWZyZXNoVG9rZW59IHlvdSBkb24ndCBuZWVkXG4gICAgICogdG8gY2FsbCB0aGlzIGZ1bmN0aW9uLCBpdCB3aWxsIGJlIGNhbGxlZCBmb3IgeW91LlxuICAgICAqXG4gICAgICogT24gYnJvd3NlcnMgdGhlIHJlZnJlc2ggcHJvY2VzcyB3b3JrcyBvbmx5IHdoZW4gdGhlIHRhYi93aW5kb3cgaXMgaW4gdGhlXG4gICAgICogZm9yZWdyb3VuZCB0byBjb25zZXJ2ZSByZXNvdXJjZXMgYXMgd2VsbCBhcyBwcmV2ZW50IHJhY2UgY29uZGl0aW9ucyBhbmRcbiAgICAgKiBmbG9vZGluZyBhdXRoIHdpdGggcmVxdWVzdHMuIElmIHlvdSBjYWxsIHRoaXMgbWV0aG9kIGFueSBtYW5hZ2VkXG4gICAgICogdmlzaWJpbGl0eSBjaGFuZ2UgY2FsbGJhY2sgd2lsbCBiZSByZW1vdmVkIGFuZCB5b3UgbXVzdCBtYW5hZ2UgdmlzaWJpbGl0eVxuICAgICAqIGNoYW5nZXMgb24geW91ciBvd24uXG4gICAgICpcbiAgICAgKiBPbiBub24tYnJvd3NlciBwbGF0Zm9ybXMgdGhlIHJlZnJlc2ggcHJvY2VzcyB3b3JrcyAqY29udGludW91c2x5KiBpbiB0aGVcbiAgICAgKiBiYWNrZ3JvdW5kLCB3aGljaCBtYXkgbm90IGJlIGRlc2lyYWJsZS4gWW91IHNob3VsZCBob29rIGludG8geW91clxuICAgICAqIHBsYXRmb3JtJ3MgZm9yZWdyb3VuZCBpbmRpY2F0aW9uIG1lY2hhbmlzbSBhbmQgY2FsbCB0aGVzZSBtZXRob2RzXG4gICAgICogYXBwcm9wcmlhdGVseSB0byBjb25zZXJ2ZSByZXNvdXJjZXMuXG4gICAgICpcbiAgICAgKiB7QHNlZSAjc3RvcEF1dG9SZWZyZXNofVxuICAgICAqL1xuICAgIGFzeW5jIHN0YXJ0QXV0b1JlZnJlc2goKSB7XG4gICAgICAgIHRoaXMuX3JlbW92ZVZpc2liaWxpdHlDaGFuZ2VkQ2FsbGJhY2soKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fc3RhcnRBdXRvUmVmcmVzaCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdG9wcyBhbiBhY3RpdmUgYXV0byByZWZyZXNoIHByb2Nlc3MgcnVubmluZyBpbiB0aGUgYmFja2dyb3VuZCAoaWYgYW55KS5cbiAgICAgKlxuICAgICAqIElmIHlvdSBjYWxsIHRoaXMgbWV0aG9kIGFueSBtYW5hZ2VkIHZpc2liaWxpdHkgY2hhbmdlIGNhbGxiYWNrIHdpbGwgYmVcbiAgICAgKiByZW1vdmVkIGFuZCB5b3UgbXVzdCBtYW5hZ2UgdmlzaWJpbGl0eSBjaGFuZ2VzIG9uIHlvdXIgb3duLlxuICAgICAqXG4gICAgICogU2VlIHtAbGluayAjc3RhcnRBdXRvUmVmcmVzaH0gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKi9cbiAgICBhc3luYyBzdG9wQXV0b1JlZnJlc2goKSB7XG4gICAgICAgIHRoaXMuX3JlbW92ZVZpc2liaWxpdHlDaGFuZ2VkQ2FsbGJhY2soKTtcbiAgICAgICAgYXdhaXQgdGhpcy5fc3RvcEF1dG9SZWZyZXNoKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJ1bnMgdGhlIGF1dG8gcmVmcmVzaCB0b2tlbiB0aWNrLlxuICAgICAqL1xuICAgIGFzeW5jIF9hdXRvUmVmcmVzaFRva2VuVGljaygpIHtcbiAgICAgICAgdGhpcy5fZGVidWcoJyNfYXV0b1JlZnJlc2hUb2tlblRpY2soKScsICdiZWdpbicpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fYWNxdWlyZUxvY2soMCwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fdXNlU2Vzc2lvbihhc3luYyAocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhOiB7IHNlc3Npb24gfSwgfSA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNlc3Npb24gfHwgIXNlc3Npb24ucmVmcmVzaF90b2tlbiB8fCAhc2Vzc2lvbi5leHBpcmVzX2F0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RlYnVnKCcjX2F1dG9SZWZyZXNoVG9rZW5UaWNrKCknLCAnbm8gc2Vzc2lvbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNlc3Npb24gd2lsbCBleHBpcmUgaW4gdGhpcyBtYW55IHRpY2tzIChvciBoYXMgYWxyZWFkeSBleHBpcmVkIGlmIDw9IDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhwaXJlc0luVGlja3MgPSBNYXRoLmZsb29yKChzZXNzaW9uLmV4cGlyZXNfYXQgKiAxMDAwIC0gbm93KSAvIEFVVE9fUkVGUkVTSF9USUNLX0RVUkFUSU9OX01TKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kZWJ1ZygnI19hdXRvUmVmcmVzaFRva2VuVGljaygpJywgYGFjY2VzcyB0b2tlbiBleHBpcmVzIGluICR7ZXhwaXJlc0luVGlja3N9IHRpY2tzLCBhIHRpY2sgbGFzdHMgJHtBVVRPX1JFRlJFU0hfVElDS19EVVJBVElPTl9NU31tcywgcmVmcmVzaCB0aHJlc2hvbGQgaXMgJHtBVVRPX1JFRlJFU0hfVElDS19USFJFU0hPTER9IHRpY2tzYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4cGlyZXNJblRpY2tzIDw9IEFVVE9fUkVGUkVTSF9USUNLX1RIUkVTSE9MRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9jYWxsUmVmcmVzaFRva2VuKHNlc3Npb24ucmVmcmVzaF90b2tlbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0F1dG8gcmVmcmVzaCB0aWNrIGZhaWxlZCB3aXRoIGVycm9yLiBUaGlzIGlzIGxpa2VseSBhIHRyYW5zaWVudCBlcnJvci4nLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGVidWcoJyNfYXV0b1JlZnJlc2hUb2tlblRpY2soKScsICdlbmQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKGUuaXNBY3F1aXJlVGltZW91dCB8fCBlIGluc3RhbmNlb2YgTG9ja0FjcXVpcmVUaW1lb3V0RXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWJ1ZygnYXV0byByZWZyZXNoIHRva2VuIHRpY2sgbG9jayBub3QgYXZhaWxhYmxlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBjYWxsYmFja3Mgb24gdGhlIGJyb3dzZXIgLyBwbGF0Zm9ybSwgd2hpY2ggaW4tdHVybiBydW5cbiAgICAgKiBhbGdvcml0aG1zIHdoZW4gdGhlIGJyb3dzZXIgd2luZG93L3RhYiBhcmUgaW4gZm9yZWdyb3VuZC4gT24gbm9uLWJyb3dzZXJcbiAgICAgKiBwbGF0Zm9ybXMgaXQgYXNzdW1lcyBhbHdheXMgZm9yZWdyb3VuZC5cbiAgICAgKi9cbiAgICBhc3luYyBfaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5fZGVidWcoJyNfaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSgpJyk7XG4gICAgICAgIGlmICghaXNCcm93c2VyKCkgfHwgISh3aW5kb3cgPT09IG51bGwgfHwgd2luZG93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcikpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmF1dG9SZWZyZXNoVG9rZW4pIHtcbiAgICAgICAgICAgICAgICAvLyBpbiBub24tYnJvd3NlciBlbnZpcm9ubWVudHMgdGhlIHJlZnJlc2ggdG9rZW4gdGlja2VyIHJ1bnMgYWx3YXlzXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydEF1dG9SZWZyZXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMudmlzaWJpbGl0eUNoYW5nZWRDYWxsYmFjayA9IGFzeW5jICgpID0+IGF3YWl0IHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZWQoZmFsc2UpO1xuICAgICAgICAgICAgd2luZG93ID09PSBudWxsIHx8IHdpbmRvdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCB0aGlzLnZpc2liaWxpdHlDaGFuZ2VkQ2FsbGJhY2spO1xuICAgICAgICAgICAgLy8gbm93IGltbWVkaWF0ZWx5IGNhbGwgdGhlIHZpc2JpbGl0eSBjaGFuZ2VkIGNhbGxiYWNrIHRvIHNldHVwIHdpdGggdGhlXG4gICAgICAgICAgICAvLyBjdXJyZW50IHZpc2JpbGl0eSBzdGF0ZVxuICAgICAgICAgICAgYXdhaXQgdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlZCh0cnVlKTsgLy8gaW5pdGlhbCBjYWxsXG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdfaGFuZGxlVmlzaWJpbGl0eUNoYW5nZScsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsYmFjayByZWdpc3RlcmVkIHdpdGggYHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJylgLlxuICAgICAqL1xuICAgIGFzeW5jIF9vblZpc2liaWxpdHlDaGFuZ2VkKGNhbGxlZEZyb21Jbml0aWFsaXplKSB7XG4gICAgICAgIGNvbnN0IG1ldGhvZE5hbWUgPSBgI19vblZpc2liaWxpdHlDaGFuZ2VkKCR7Y2FsbGVkRnJvbUluaXRpYWxpemV9KWA7XG4gICAgICAgIHRoaXMuX2RlYnVnKG1ldGhvZE5hbWUsICd2aXNpYmlsaXR5U3RhdGUnLCBkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUpO1xuICAgICAgICBpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSAndmlzaWJsZScpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmF1dG9SZWZyZXNoVG9rZW4pIHtcbiAgICAgICAgICAgICAgICAvLyBpbiBicm93c2VyIGVudmlyb25tZW50cyB0aGUgcmVmcmVzaCB0b2tlbiB0aWNrZXIgcnVucyBvbmx5IG9uIGZvY3VzZWQgdGFic1xuICAgICAgICAgICAgICAgIC8vIHdoaWNoIHByZXZlbnRzIHJhY2UgY29uZGl0aW9uc1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXJ0QXV0b1JlZnJlc2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghY2FsbGVkRnJvbUluaXRpYWxpemUpIHtcbiAgICAgICAgICAgICAgICAvLyBjYWxsZWQgd2hlbiB0aGUgdmlzaWJpbGl0eSBoYXMgY2hhbmdlZCwgaS5lLiB0aGUgYnJvd3NlclxuICAgICAgICAgICAgICAgIC8vIHRyYW5zaXRpb25lZCBmcm9tIGhpZGRlbiAtPiB2aXNpYmxlIHNvIHdlIG5lZWQgdG8gc2VlIGlmIHRoZSBzZXNzaW9uXG4gICAgICAgICAgICAgICAgLy8gc2hvdWxkIGJlIHJlY292ZXJlZCBpbW1lZGlhdGVseS4uLiBidXQgdG8gZG8gdGhhdCB3ZSBuZWVkIHRvIGFjcXVpcmVcbiAgICAgICAgICAgICAgICAvLyB0aGUgbG9jayBmaXJzdCBhc3luY2hyb25vdXNseVxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZVByb21pc2U7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5fYWNxdWlyZUxvY2soLTEsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSAhPT0gJ3Zpc2libGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kZWJ1ZyhtZXRob2ROYW1lLCAnYWNxdWlyZWQgdGhlIGxvY2sgdG8gcmVjb3ZlciB0aGUgc2Vzc2lvbiwgYnV0IHRoZSBicm93c2VyIHZpc2liaWxpdHlTdGF0ZSBpcyBubyBsb25nZXIgdmlzaWJsZSwgYWJvcnRpbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHZpc2liaWxpdHkgaGFzIGNoYW5nZWQgd2hpbGUgd2FpdGluZyBmb3IgdGhlIGxvY2ssIGFib3J0XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gcmVjb3ZlciB0aGUgc2Vzc2lvblxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl9yZWNvdmVyQW5kUmVmcmVzaCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ2hpZGRlbicpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmF1dG9SZWZyZXNoVG9rZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdG9wQXV0b1JlZnJlc2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgdGhlIHJlbGV2YW50IGxvZ2luIFVSTCBmb3IgYSB0aGlyZC1wYXJ0eSBwcm92aWRlci5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5yZWRpcmVjdFRvIEEgVVJMIG9yIG1vYmlsZSBhZGRyZXNzIHRvIHNlbmQgdGhlIHVzZXIgdG8gYWZ0ZXIgdGhleSBhcmUgY29uZmlybWVkLlxuICAgICAqIEBwYXJhbSBvcHRpb25zLnNjb3BlcyBBIHNwYWNlLXNlcGFyYXRlZCBsaXN0IG9mIHNjb3BlcyBncmFudGVkIHRvIHRoZSBPQXV0aCBhcHBsaWNhdGlvbi5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5xdWVyeVBhcmFtcyBBbiBvYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzIGNvbnRhaW5pbmcgcXVlcnkgcGFyYW1ldGVycyBncmFudGVkIHRvIHRoZSBPQXV0aCBhcHBsaWNhdGlvbi5cbiAgICAgKi9cbiAgICBhc3luYyBfZ2V0VXJsRm9yUHJvdmlkZXIodXJsLCBwcm92aWRlciwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB1cmxQYXJhbXMgPSBbYHByb3ZpZGVyPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHByb3ZpZGVyKX1gXTtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5yZWRpcmVjdFRvKSB7XG4gICAgICAgICAgICB1cmxQYXJhbXMucHVzaChgcmVkaXJlY3RfdG89JHtlbmNvZGVVUklDb21wb25lbnQob3B0aW9ucy5yZWRpcmVjdFRvKX1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnNjb3Blcykge1xuICAgICAgICAgICAgdXJsUGFyYW1zLnB1c2goYHNjb3Blcz0ke2VuY29kZVVSSUNvbXBvbmVudChvcHRpb25zLnNjb3Blcyl9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZmxvd1R5cGUgPT09ICdwa2NlJykge1xuICAgICAgICAgICAgY29uc3QgW2NvZGVDaGFsbGVuZ2UsIGNvZGVDaGFsbGVuZ2VNZXRob2RdID0gYXdhaXQgZ2V0Q29kZUNoYWxsZW5nZUFuZE1ldGhvZCh0aGlzLnN0b3JhZ2UsIHRoaXMuc3RvcmFnZUtleSk7XG4gICAgICAgICAgICBjb25zdCBmbG93UGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7XG4gICAgICAgICAgICAgICAgY29kZV9jaGFsbGVuZ2U6IGAke2VuY29kZVVSSUNvbXBvbmVudChjb2RlQ2hhbGxlbmdlKX1gLFxuICAgICAgICAgICAgICAgIGNvZGVfY2hhbGxlbmdlX21ldGhvZDogYCR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvZGVDaGFsbGVuZ2VNZXRob2QpfWAsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHVybFBhcmFtcy5wdXNoKGZsb3dQYXJhbXMudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5xdWVyeVBhcmFtcykge1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKG9wdGlvbnMucXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgdXJsUGFyYW1zLnB1c2gocXVlcnkudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5za2lwQnJvd3NlclJlZGlyZWN0KSB7XG4gICAgICAgICAgICB1cmxQYXJhbXMucHVzaChgc2tpcF9odHRwX3JlZGlyZWN0PSR7b3B0aW9ucy5za2lwQnJvd3NlclJlZGlyZWN0fWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBgJHt1cmx9PyR7dXJsUGFyYW1zLmpvaW4oJyYnKX1gO1xuICAgIH1cbiAgICBhc3luYyBfdW5lbnJvbGwocGFyYW1zKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fdXNlU2Vzc2lvbihhc3luYyAocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogc2Vzc2lvbkRhdGEsIGVycm9yOiBzZXNzaW9uRXJyb3IgfSA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICBpZiAoc2Vzc2lvbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiBzZXNzaW9uRXJyb3IgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IF9yZXF1ZXN0KHRoaXMuZmV0Y2gsICdERUxFVEUnLCBgJHt0aGlzLnVybH0vZmFjdG9ycy8ke3BhcmFtcy5mYWN0b3JJZH1gLCB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgICAgICAgICAgand0OiAoX2EgPSBzZXNzaW9uRGF0YSA9PT0gbnVsbCB8fCBzZXNzaW9uRGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2Vzc2lvbkRhdGEuc2Vzc2lvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmFjY2Vzc190b2tlbixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGlzQXV0aEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBfZW5yb2xsKHBhcmFtcykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3VzZVNlc3Npb24oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhOiBzZXNzaW9uRGF0YSwgZXJyb3I6IHNlc3Npb25FcnJvciB9ID0gcmVzdWx0O1xuICAgICAgICAgICAgICAgIGlmIChzZXNzaW9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IHNlc3Npb25FcnJvciB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBib2R5ID0gT2JqZWN0LmFzc2lnbih7IGZyaWVuZGx5X25hbWU6IHBhcmFtcy5mcmllbmRseU5hbWUsIGZhY3Rvcl90eXBlOiBwYXJhbXMuZmFjdG9yVHlwZSB9LCAocGFyYW1zLmZhY3RvclR5cGUgPT09ICdwaG9uZScgPyB7IHBob25lOiBwYXJhbXMucGhvbmUgfSA6IHsgaXNzdWVyOiBwYXJhbXMuaXNzdWVyIH0pKTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBfcmVxdWVzdCh0aGlzLmZldGNoLCAnUE9TVCcsIGAke3RoaXMudXJsfS9mYWN0b3JzYCwge1xuICAgICAgICAgICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgIGp3dDogKF9hID0gc2Vzc2lvbkRhdGEgPT09IG51bGwgfHwgc2Vzc2lvbkRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlc3Npb25EYXRhLnNlc3Npb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hY2Nlc3NfdG9rZW4sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwYXJhbXMuZmFjdG9yVHlwZSA9PT0gJ3RvdHAnICYmICgoX2IgPSBkYXRhID09PSBudWxsIHx8IGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRhdGEudG90cCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnFyX2NvZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEudG90cC5xcl9jb2RlID0gYGRhdGE6aW1hZ2Uvc3ZnK3htbDt1dGYtOCwke2RhdGEudG90cC5xcl9jb2RlfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChpc0F1dGhFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICoge0BzZWUgR29UcnVlTUZBQXBpI3ZlcmlmeX1cbiAgICAgKi9cbiAgICBhc3luYyBfdmVyaWZ5KHBhcmFtcykge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWNxdWlyZUxvY2soLTEsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3VzZVNlc3Npb24oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogc2Vzc2lvbkRhdGEsIGVycm9yOiBzZXNzaW9uRXJyb3IgfSA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlc3Npb25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IHNlc3Npb25FcnJvciB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IF9yZXF1ZXN0KHRoaXMuZmV0Y2gsICdQT1NUJywgYCR7dGhpcy51cmx9L2ZhY3RvcnMvJHtwYXJhbXMuZmFjdG9ySWR9L3ZlcmlmeWAsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IHsgY29kZTogcGFyYW1zLmNvZGUsIGNoYWxsZW5nZV9pZDogcGFyYW1zLmNoYWxsZW5nZUlkIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBqd3Q6IChfYSA9IHNlc3Npb25EYXRhID09PSBudWxsIHx8IHNlc3Npb25EYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZXNzaW9uRGF0YS5zZXNzaW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYWNjZXNzX3Rva2VuLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX3NhdmVTZXNzaW9uKE9iamVjdC5hc3NpZ24oeyBleHBpcmVzX2F0OiBNYXRoLnJvdW5kKERhdGUubm93KCkgLyAxMDAwKSArIGRhdGEuZXhwaXJlc19pbiB9LCBkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX25vdGlmeUFsbFN1YnNjcmliZXJzKCdNRkFfQ0hBTExFTkdFX1ZFUklGSUVEJywgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGEsIGVycm9yIH07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNBdXRoRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICoge0BzZWUgR29UcnVlTUZBQXBpI2NoYWxsZW5nZX1cbiAgICAgKi9cbiAgICBhc3luYyBfY2hhbGxlbmdlKHBhcmFtcykge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWNxdWlyZUxvY2soLTEsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3VzZVNlc3Npb24oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogc2Vzc2lvbkRhdGEsIGVycm9yOiBzZXNzaW9uRXJyb3IgfSA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlc3Npb25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IHNlc3Npb25FcnJvciB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBfcmVxdWVzdCh0aGlzLmZldGNoLCAnUE9TVCcsIGAke3RoaXMudXJsfS9mYWN0b3JzLyR7cGFyYW1zLmZhY3RvcklkfS9jaGFsbGVuZ2VgLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5OiB7IGNoYW5uZWw6IHBhcmFtcy5jaGFubmVsIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBqd3Q6IChfYSA9IHNlc3Npb25EYXRhID09PSBudWxsIHx8IHNlc3Npb25EYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZXNzaW9uRGF0YS5zZXNzaW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYWNjZXNzX3Rva2VuLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChpc0F1dGhFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB7QHNlZSBHb1RydWVNRkFBcGkjY2hhbGxlbmdlQW5kVmVyaWZ5fVxuICAgICAqL1xuICAgIGFzeW5jIF9jaGFsbGVuZ2VBbmRWZXJpZnkocGFyYW1zKSB7XG4gICAgICAgIC8vIGJvdGggX2NoYWxsZW5nZSBhbmQgX3ZlcmlmeSBpbmRlcGVuZGVudGx5IGFjcXVpcmUgdGhlIGxvY2ssIHNvIG5vIG5lZWRcbiAgICAgICAgLy8gdG8gYWNxdWlyZSBpdCBoZXJlXG4gICAgICAgIGNvbnN0IHsgZGF0YTogY2hhbGxlbmdlRGF0YSwgZXJyb3I6IGNoYWxsZW5nZUVycm9yIH0gPSBhd2FpdCB0aGlzLl9jaGFsbGVuZ2Uoe1xuICAgICAgICAgICAgZmFjdG9ySWQ6IHBhcmFtcy5mYWN0b3JJZCxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChjaGFsbGVuZ2VFcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3I6IGNoYWxsZW5nZUVycm9yIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3ZlcmlmeSh7XG4gICAgICAgICAgICBmYWN0b3JJZDogcGFyYW1zLmZhY3RvcklkLFxuICAgICAgICAgICAgY2hhbGxlbmdlSWQ6IGNoYWxsZW5nZURhdGEuaWQsXG4gICAgICAgICAgICBjb2RlOiBwYXJhbXMuY29kZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHtAc2VlIEdvVHJ1ZU1GQUFwaSNsaXN0RmFjdG9yc31cbiAgICAgKi9cbiAgICBhc3luYyBfbGlzdEZhY3RvcnMoKSB7XG4gICAgICAgIC8vIHVzZSAjZ2V0VXNlciBpbnN0ZWFkIG9mICNfZ2V0VXNlciBhcyB0aGUgZm9ybWVyIGFjcXVpcmVzIGEgbG9ja1xuICAgICAgICBjb25zdCB7IGRhdGE6IHsgdXNlciB9LCBlcnJvcjogdXNlckVycm9yLCB9ID0gYXdhaXQgdGhpcy5nZXRVc2VyKCk7XG4gICAgICAgIGlmICh1c2VyRXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yOiB1c2VyRXJyb3IgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmYWN0b3JzID0gKHVzZXIgPT09IG51bGwgfHwgdXNlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogdXNlci5mYWN0b3JzKSB8fCBbXTtcbiAgICAgICAgY29uc3QgdG90cCA9IGZhY3RvcnMuZmlsdGVyKChmYWN0b3IpID0+IGZhY3Rvci5mYWN0b3JfdHlwZSA9PT0gJ3RvdHAnICYmIGZhY3Rvci5zdGF0dXMgPT09ICd2ZXJpZmllZCcpO1xuICAgICAgICBjb25zdCBwaG9uZSA9IGZhY3RvcnMuZmlsdGVyKChmYWN0b3IpID0+IGZhY3Rvci5mYWN0b3JfdHlwZSA9PT0gJ3Bob25lJyAmJiBmYWN0b3Iuc3RhdHVzID09PSAndmVyaWZpZWQnKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBhbGw6IGZhY3RvcnMsXG4gICAgICAgICAgICAgICAgdG90cCxcbiAgICAgICAgICAgICAgICBwaG9uZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICoge0BzZWUgR29UcnVlTUZBQXBpI2dldEF1dGhlbnRpY2F0b3JBc3N1cmFuY2VMZXZlbH1cbiAgICAgKi9cbiAgICBhc3luYyBfZ2V0QXV0aGVudGljYXRvckFzc3VyYW5jZUxldmVsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWNxdWlyZUxvY2soLTEsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl91c2VTZXNzaW9uKGFzeW5jIChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogeyBzZXNzaW9uIH0sIGVycm9yOiBzZXNzaW9uRXJyb3IsIH0gPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgaWYgKHNlc3Npb25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvcjogc2Vzc2lvbkVycm9yIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghc2Vzc2lvbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogeyBjdXJyZW50TGV2ZWw6IG51bGwsIG5leHRMZXZlbDogbnVsbCwgY3VycmVudEF1dGhlbnRpY2F0aW9uTWV0aG9kczogW10gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB7IHBheWxvYWQgfSA9IGRlY29kZUpXVChzZXNzaW9uLmFjY2Vzc190b2tlbik7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRMZXZlbCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuYWFsKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRMZXZlbCA9IHBheWxvYWQuYWFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgbmV4dExldmVsID0gY3VycmVudExldmVsO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZlcmlmaWVkRmFjdG9ycyA9IChfYiA9IChfYSA9IHNlc3Npb24udXNlci5mYWN0b3JzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZmlsdGVyKChmYWN0b3IpID0+IGZhY3Rvci5zdGF0dXMgPT09ICd2ZXJpZmllZCcpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBbXTtcbiAgICAgICAgICAgICAgICBpZiAodmVyaWZpZWRGYWN0b3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dExldmVsID0gJ2FhbDInO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50QXV0aGVudGljYXRpb25NZXRob2RzID0gcGF5bG9hZC5hbXIgfHwgW107XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogeyBjdXJyZW50TGV2ZWwsIG5leHRMZXZlbCwgY3VycmVudEF1dGhlbnRpY2F0aW9uTWV0aG9kcyB9LCBlcnJvcjogbnVsbCB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBmZXRjaEp3ayhraWQsIGp3a3MgPSB7IGtleXM6IFtdIH0pIHtcbiAgICAgICAgLy8gdHJ5IGZldGNoaW5nIGZyb20gdGhlIHN1cHBsaWVkIGp3a3NcbiAgICAgICAgbGV0IGp3ayA9IGp3a3Mua2V5cy5maW5kKChrZXkpID0+IGtleS5raWQgPT09IGtpZCk7XG4gICAgICAgIGlmIChqd2spIHtcbiAgICAgICAgICAgIHJldHVybiBqd2s7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdHJ5IGZldGNoaW5nIGZyb20gY2FjaGVcbiAgICAgICAgandrID0gdGhpcy5qd2tzLmtleXMuZmluZCgoa2V5KSA9PiBrZXkua2lkID09PSBraWQpO1xuICAgICAgICAvLyBqd2sgZXhpc3RzIGFuZCBqd2tzIGlzbid0IHN0YWxlXG4gICAgICAgIGlmIChqd2sgJiYgdGhpcy5qd2tzX2NhY2hlZF9hdCArIEpXS1NfVFRMID4gRGF0ZS5ub3coKSkge1xuICAgICAgICAgICAgcmV0dXJuIGp3aztcbiAgICAgICAgfVxuICAgICAgICAvLyBqd2sgaXNuJ3QgY2FjaGVkIGluIG1lbW9yeSBzbyB3ZSBuZWVkIHRvIGZldGNoIGl0IGZyb20gdGhlIHdlbGwta25vd24gZW5kcG9pbnRcbiAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgX3JlcXVlc3QodGhpcy5mZXRjaCwgJ0dFVCcsIGAke3RoaXMudXJsfS8ud2VsbC1rbm93bi9qd2tzLmpzb25gLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGF0YS5rZXlzIHx8IGRhdGEua2V5cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBdXRoSW52YWxpZEp3dEVycm9yKCdKV0tTIGlzIGVtcHR5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5qd2tzID0gZGF0YTtcbiAgICAgICAgdGhpcy5qd2tzX2NhY2hlZF9hdCA9IERhdGUubm93KCk7XG4gICAgICAgIC8vIEZpbmQgdGhlIHNpZ25pbmcga2V5XG4gICAgICAgIGp3ayA9IGRhdGEua2V5cy5maW5kKChrZXkpID0+IGtleS5raWQgPT09IGtpZCk7XG4gICAgICAgIGlmICghandrKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQXV0aEludmFsaWRKd3RFcnJvcignTm8gbWF0Y2hpbmcgc2lnbmluZyBrZXkgZm91bmQgaW4gSldLUycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBqd2s7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBleHBlcmltZW50YWwgVGhpcyBtZXRob2QgbWF5IGNoYW5nZSBpbiBmdXR1cmUgdmVyc2lvbnMuXG4gICAgICogQGRlc2NyaXB0aW9uIEdldHMgdGhlIGNsYWltcyBmcm9tIGEgSldULiBJZiB0aGUgSldUIGlzIHN5bW1ldHJpYyBKV1RzLCBpdCB3aWxsIGNhbGwgZ2V0VXNlcigpIHRvIHZlcmlmeSBhZ2FpbnN0IHRoZSBzZXJ2ZXIuIElmIHRoZSBKV1QgaXMgYXN5bW1ldHJpYywgaXQgd2lsbCBiZSB2ZXJpZmllZCBhZ2FpbnN0IHRoZSBKV0tTIHVzaW5nIHRoZSBXZWJDcnlwdG8gQVBJLlxuICAgICAqL1xuICAgIGFzeW5jIGdldENsYWltcyhqd3QsIGp3a3MgPSB7IGtleXM6IFtdIH0pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCB0b2tlbiA9IGp3dDtcbiAgICAgICAgICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCB0aGlzLmdldFNlc3Npb24oKTtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IgfHwgIWRhdGEuc2Vzc2lvbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0b2tlbiA9IGRhdGEuc2Vzc2lvbi5hY2Nlc3NfdG9rZW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IGhlYWRlciwgcGF5bG9hZCwgc2lnbmF0dXJlLCByYXc6IHsgaGVhZGVyOiByYXdIZWFkZXIsIHBheWxvYWQ6IHJhd1BheWxvYWQgfSwgfSA9IGRlY29kZUpXVCh0b2tlbik7XG4gICAgICAgICAgICAvLyBSZWplY3QgZXhwaXJlZCBKV1RzXG4gICAgICAgICAgICB2YWxpZGF0ZUV4cChwYXlsb2FkLmV4cCk7XG4gICAgICAgICAgICAvLyBJZiBzeW1tZXRyaWMgYWxnb3JpdGhtIG9yIFdlYkNyeXB0byBBUEkgaXMgdW5hdmFpbGFibGUsIGZhbGxiYWNrIHRvIGdldFVzZXIoKVxuICAgICAgICAgICAgaWYgKCFoZWFkZXIua2lkIHx8XG4gICAgICAgICAgICAgICAgaGVhZGVyLmFsZyA9PT0gJ0hTMjU2JyB8fFxuICAgICAgICAgICAgICAgICEoJ2NyeXB0bycgaW4gZ2xvYmFsVGhpcyAmJiAnc3VidGxlJyBpbiBnbG9iYWxUaGlzLmNyeXB0bykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCB0aGlzLmdldFVzZXIodG9rZW4pO1xuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZ2V0VXNlciBzdWNjZWVkcyBzbyB0aGUgY2xhaW1zIGluIHRoZSBKV1QgY2FuIGJlIHRydXN0ZWRcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFpbXM6IHBheWxvYWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBhbGdvcml0aG0gPSBnZXRBbGdvcml0aG0oaGVhZGVyLmFsZyk7XG4gICAgICAgICAgICBjb25zdCBzaWduaW5nS2V5ID0gYXdhaXQgdGhpcy5mZXRjaEp3ayhoZWFkZXIua2lkLCBqd2tzKTtcbiAgICAgICAgICAgIC8vIENvbnZlcnQgSldLIHRvIENyeXB0b0tleVxuICAgICAgICAgICAgY29uc3QgcHVibGljS2V5ID0gYXdhaXQgY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoJ2p3aycsIHNpZ25pbmdLZXksIGFsZ29yaXRobSwgdHJ1ZSwgW1xuICAgICAgICAgICAgICAgICd2ZXJpZnknLFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAvLyBWZXJpZnkgdGhlIHNpZ25hdHVyZVxuICAgICAgICAgICAgY29uc3QgaXNWYWxpZCA9IGF3YWl0IGNyeXB0by5zdWJ0bGUudmVyaWZ5KGFsZ29yaXRobSwgcHVibGljS2V5LCBzaWduYXR1cmUsIHN0cmluZ1RvVWludDhBcnJheShgJHtyYXdIZWFkZXJ9LiR7cmF3UGF5bG9hZH1gKSk7XG4gICAgICAgICAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQXV0aEludmFsaWRKd3RFcnJvcignSW52YWxpZCBKV1Qgc2lnbmF0dXJlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiB2ZXJpZmljYXRpb24gc3VjY2VlZHMsIGRlY29kZSBhbmQgcmV0dXJuIGNsYWltc1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGNsYWltczogcGF5bG9hZCxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyLFxuICAgICAgICAgICAgICAgICAgICBzaWduYXR1cmUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoaXNBdXRoRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxufVxuR29UcnVlQ2xpZW50Lm5leHRJbnN0YW5jZUlEID0gMDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdvVHJ1ZUNsaWVudC5qcy5tYXAiLCJpbXBvcnQgR29UcnVlQWRtaW5BcGkgZnJvbSAnLi9Hb1RydWVBZG1pbkFwaSc7XG5jb25zdCBBdXRoQWRtaW5BcGkgPSBHb1RydWVBZG1pbkFwaTtcbmV4cG9ydCBkZWZhdWx0IEF1dGhBZG1pbkFwaTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUF1dGhBZG1pbkFwaS5qcy5tYXAiLCJpbXBvcnQgR29UcnVlQ2xpZW50IGZyb20gJy4vR29UcnVlQ2xpZW50JztcbmNvbnN0IEF1dGhDbGllbnQgPSBHb1RydWVDbGllbnQ7XG5leHBvcnQgZGVmYXVsdCBBdXRoQ2xpZW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXV0aENsaWVudC5qcy5tYXAiLCJpbXBvcnQgeyBBdXRoQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL2F1dGgtanMnO1xuZXhwb3J0IGNsYXNzIFN1cGFiYXNlQXV0aENsaWVudCBleHRlbmRzIEF1dGhDbGllbnQge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3VwYWJhc2VBdXRoQ2xpZW50LmpzLm1hcCIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuaW1wb3J0IHsgRnVuY3Rpb25zQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL2Z1bmN0aW9ucy1qcyc7XG5pbXBvcnQgeyBQb3N0Z3Jlc3RDbGllbnQsIH0gZnJvbSAnQHN1cGFiYXNlL3Bvc3RncmVzdC1qcyc7XG5pbXBvcnQgeyBSZWFsdGltZUNsaWVudCwgfSBmcm9tICdAc3VwYWJhc2UvcmVhbHRpbWUtanMnO1xuaW1wb3J0IHsgU3RvcmFnZUNsaWVudCBhcyBTdXBhYmFzZVN0b3JhZ2VDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3RvcmFnZS1qcyc7XG5pbXBvcnQgeyBERUZBVUxUX0dMT0JBTF9PUFRJT05TLCBERUZBVUxUX0RCX09QVElPTlMsIERFRkFVTFRfQVVUSF9PUFRJT05TLCBERUZBVUxUX1JFQUxUSU1FX09QVElPTlMsIH0gZnJvbSAnLi9saWIvY29uc3RhbnRzJztcbmltcG9ydCB7IGZldGNoV2l0aEF1dGggfSBmcm9tICcuL2xpYi9mZXRjaCc7XG5pbXBvcnQgeyBlbnN1cmVUcmFpbGluZ1NsYXNoLCBhcHBseVNldHRpbmdEZWZhdWx0cyB9IGZyb20gJy4vbGliL2hlbHBlcnMnO1xuaW1wb3J0IHsgU3VwYWJhc2VBdXRoQ2xpZW50IH0gZnJvbSAnLi9saWIvU3VwYWJhc2VBdXRoQ2xpZW50Jztcbi8qKlxuICogU3VwYWJhc2UgQ2xpZW50LlxuICpcbiAqIEFuIGlzb21vcnBoaWMgSmF2YXNjcmlwdCBjbGllbnQgZm9yIGludGVyYWN0aW5nIHdpdGggUG9zdGdyZXMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN1cGFiYXNlQ2xpZW50IHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgY2xpZW50IGZvciB1c2UgaW4gdGhlIGJyb3dzZXIuXG4gICAgICogQHBhcmFtIHN1cGFiYXNlVXJsIFRoZSB1bmlxdWUgU3VwYWJhc2UgVVJMIHdoaWNoIGlzIHN1cHBsaWVkIHdoZW4geW91IGNyZWF0ZSBhIG5ldyBwcm9qZWN0IGluIHlvdXIgcHJvamVjdCBkYXNoYm9hcmQuXG4gICAgICogQHBhcmFtIHN1cGFiYXNlS2V5IFRoZSB1bmlxdWUgU3VwYWJhc2UgS2V5IHdoaWNoIGlzIHN1cHBsaWVkIHdoZW4geW91IGNyZWF0ZSBhIG5ldyBwcm9qZWN0IGluIHlvdXIgcHJvamVjdCBkYXNoYm9hcmQuXG4gICAgICogQHBhcmFtIG9wdGlvbnMuZGIuc2NoZW1hIFlvdSBjYW4gc3dpdGNoIGluIGJldHdlZW4gc2NoZW1hcy4gVGhlIHNjaGVtYSBuZWVkcyB0byBiZSBvbiB0aGUgbGlzdCBvZiBleHBvc2VkIHNjaGVtYXMgaW5zaWRlIFN1cGFiYXNlLlxuICAgICAqIEBwYXJhbSBvcHRpb25zLmF1dGguYXV0b1JlZnJlc2hUb2tlbiBTZXQgdG8gXCJ0cnVlXCIgaWYgeW91IHdhbnQgdG8gYXV0b21hdGljYWxseSByZWZyZXNoIHRoZSB0b2tlbiBiZWZvcmUgZXhwaXJpbmcuXG4gICAgICogQHBhcmFtIG9wdGlvbnMuYXV0aC5wZXJzaXN0U2Vzc2lvbiBTZXQgdG8gXCJ0cnVlXCIgaWYgeW91IHdhbnQgdG8gYXV0b21hdGljYWxseSBzYXZlIHRoZSB1c2VyIHNlc3Npb24gaW50byBsb2NhbCBzdG9yYWdlLlxuICAgICAqIEBwYXJhbSBvcHRpb25zLmF1dGguZGV0ZWN0U2Vzc2lvbkluVXJsIFNldCB0byBcInRydWVcIiBpZiB5b3Ugd2FudCB0byBhdXRvbWF0aWNhbGx5IGRldGVjdHMgT0F1dGggZ3JhbnRzIGluIHRoZSBVUkwgYW5kIHNpZ25zIGluIHRoZSB1c2VyLlxuICAgICAqIEBwYXJhbSBvcHRpb25zLnJlYWx0aW1lIE9wdGlvbnMgcGFzc2VkIGFsb25nIHRvIHJlYWx0aW1lLWpzIGNvbnN0cnVjdG9yLlxuICAgICAqIEBwYXJhbSBvcHRpb25zLmdsb2JhbC5mZXRjaCBBIGN1c3RvbSBmZXRjaCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5nbG9iYWwuaGVhZGVycyBBbnkgYWRkaXRpb25hbCBoZWFkZXJzIHRvIHNlbmQgd2l0aCBlYWNoIG5ldHdvcmsgcmVxdWVzdC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihzdXBhYmFzZVVybCwgc3VwYWJhc2VLZXksIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIHRoaXMuc3VwYWJhc2VVcmwgPSBzdXBhYmFzZVVybDtcbiAgICAgICAgdGhpcy5zdXBhYmFzZUtleSA9IHN1cGFiYXNlS2V5O1xuICAgICAgICBpZiAoIXN1cGFiYXNlVXJsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzdXBhYmFzZVVybCBpcyByZXF1aXJlZC4nKTtcbiAgICAgICAgaWYgKCFzdXBhYmFzZUtleSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc3VwYWJhc2VLZXkgaXMgcmVxdWlyZWQuJyk7XG4gICAgICAgIGNvbnN0IF9zdXBhYmFzZVVybCA9IGVuc3VyZVRyYWlsaW5nU2xhc2goc3VwYWJhc2VVcmwpO1xuICAgICAgICBjb25zdCBiYXNlVXJsID0gbmV3IFVSTChfc3VwYWJhc2VVcmwpO1xuICAgICAgICB0aGlzLnJlYWx0aW1lVXJsID0gbmV3IFVSTCgncmVhbHRpbWUvdjEnLCBiYXNlVXJsKTtcbiAgICAgICAgdGhpcy5yZWFsdGltZVVybC5wcm90b2NvbCA9IHRoaXMucmVhbHRpbWVVcmwucHJvdG9jb2wucmVwbGFjZSgnaHR0cCcsICd3cycpO1xuICAgICAgICB0aGlzLmF1dGhVcmwgPSBuZXcgVVJMKCdhdXRoL3YxJywgYmFzZVVybCk7XG4gICAgICAgIHRoaXMuc3RvcmFnZVVybCA9IG5ldyBVUkwoJ3N0b3JhZ2UvdjEnLCBiYXNlVXJsKTtcbiAgICAgICAgdGhpcy5mdW5jdGlvbnNVcmwgPSBuZXcgVVJMKCdmdW5jdGlvbnMvdjEnLCBiYXNlVXJsKTtcbiAgICAgICAgLy8gZGVmYXVsdCBzdG9yYWdlIGtleSB1c2VzIHRoZSBzdXBhYmFzZSBwcm9qZWN0IHJlZiBhcyBhIG5hbWVzcGFjZVxuICAgICAgICBjb25zdCBkZWZhdWx0U3RvcmFnZUtleSA9IGBzYi0ke2Jhc2VVcmwuaG9zdG5hbWUuc3BsaXQoJy4nKVswXX0tYXV0aC10b2tlbmA7XG4gICAgICAgIGNvbnN0IERFRkFVTFRTID0ge1xuICAgICAgICAgICAgZGI6IERFRkFVTFRfREJfT1BUSU9OUyxcbiAgICAgICAgICAgIHJlYWx0aW1lOiBERUZBVUxUX1JFQUxUSU1FX09QVElPTlMsXG4gICAgICAgICAgICBhdXRoOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfQVVUSF9PUFRJT05TKSwgeyBzdG9yYWdlS2V5OiBkZWZhdWx0U3RvcmFnZUtleSB9KSxcbiAgICAgICAgICAgIGdsb2JhbDogREVGQVVMVF9HTE9CQUxfT1BUSU9OUyxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSBhcHBseVNldHRpbmdEZWZhdWx0cyhvcHRpb25zICE9PSBudWxsICYmIG9wdGlvbnMgIT09IHZvaWQgMCA/IG9wdGlvbnMgOiB7fSwgREVGQVVMVFMpO1xuICAgICAgICB0aGlzLnN0b3JhZ2VLZXkgPSAoX2EgPSBzZXR0aW5ncy5hdXRoLnN0b3JhZ2VLZXkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICcnO1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSAoX2IgPSBzZXR0aW5ncy5nbG9iYWwuaGVhZGVycykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDoge307XG4gICAgICAgIGlmICghc2V0dGluZ3MuYWNjZXNzVG9rZW4pIHtcbiAgICAgICAgICAgIHRoaXMuYXV0aCA9IHRoaXMuX2luaXRTdXBhYmFzZUF1dGhDbGllbnQoKF9jID0gc2V0dGluZ3MuYXV0aCkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDoge30sIHRoaXMuaGVhZGVycywgc2V0dGluZ3MuZ2xvYmFsLmZldGNoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWNjZXNzVG9rZW4gPSBzZXR0aW5ncy5hY2Nlc3NUb2tlbjtcbiAgICAgICAgICAgIHRoaXMuYXV0aCA9IG5ldyBQcm94eSh7fSwge1xuICAgICAgICAgICAgICAgIGdldDogKF8sIHByb3ApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBAc3VwYWJhc2Uvc3VwYWJhc2UtanM6IFN1cGFiYXNlIENsaWVudCBpcyBjb25maWd1cmVkIHdpdGggdGhlIGFjY2Vzc1Rva2VuIG9wdGlvbiwgYWNjZXNzaW5nIHN1cGFiYXNlLmF1dGguJHtTdHJpbmcocHJvcCl9IGlzIG5vdCBwb3NzaWJsZWApO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZldGNoID0gZmV0Y2hXaXRoQXV0aChzdXBhYmFzZUtleSwgdGhpcy5fZ2V0QWNjZXNzVG9rZW4uYmluZCh0aGlzKSwgc2V0dGluZ3MuZ2xvYmFsLmZldGNoKTtcbiAgICAgICAgdGhpcy5yZWFsdGltZSA9IHRoaXMuX2luaXRSZWFsdGltZUNsaWVudChPYmplY3QuYXNzaWduKHsgaGVhZGVyczogdGhpcy5oZWFkZXJzLCBhY2Nlc3NUb2tlbjogdGhpcy5fZ2V0QWNjZXNzVG9rZW4uYmluZCh0aGlzKSB9LCBzZXR0aW5ncy5yZWFsdGltZSkpO1xuICAgICAgICB0aGlzLnJlc3QgPSBuZXcgUG9zdGdyZXN0Q2xpZW50KG5ldyBVUkwoJ3Jlc3QvdjEnLCBiYXNlVXJsKS5ocmVmLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICAgICAgICBzY2hlbWE6IHNldHRpbmdzLmRiLnNjaGVtYSxcbiAgICAgICAgICAgIGZldGNoOiB0aGlzLmZldGNoLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFzZXR0aW5ncy5hY2Nlc3NUb2tlbikge1xuICAgICAgICAgICAgdGhpcy5fbGlzdGVuRm9yQXV0aEV2ZW50cygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN1cGFiYXNlIEZ1bmN0aW9ucyBhbGxvd3MgeW91IHRvIGRlcGxveSBhbmQgaW52b2tlIGVkZ2UgZnVuY3Rpb25zLlxuICAgICAqL1xuICAgIGdldCBmdW5jdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRnVuY3Rpb25zQ2xpZW50KHRoaXMuZnVuY3Rpb25zVXJsLmhyZWYsIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgICAgIGN1c3RvbUZldGNoOiB0aGlzLmZldGNoLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3VwYWJhc2UgU3RvcmFnZSBhbGxvd3MgeW91IHRvIG1hbmFnZSB1c2VyLWdlbmVyYXRlZCBjb250ZW50LCBzdWNoIGFzIHBob3RvcyBvciB2aWRlb3MuXG4gICAgICovXG4gICAgZ2V0IHN0b3JhZ2UoKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3VwYWJhc2VTdG9yYWdlQ2xpZW50KHRoaXMuc3RvcmFnZVVybC5ocmVmLCB0aGlzLmhlYWRlcnMsIHRoaXMuZmV0Y2gpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtIGEgcXVlcnkgb24gYSB0YWJsZSBvciBhIHZpZXcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVsYXRpb24gLSBUaGUgdGFibGUgb3IgdmlldyBuYW1lIHRvIHF1ZXJ5XG4gICAgICovXG4gICAgZnJvbShyZWxhdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXN0LmZyb20ocmVsYXRpb24pO1xuICAgIH1cbiAgICAvLyBOT1RFOiBzaWduYXR1cmVzIG11c3QgYmUga2VwdCBpbiBzeW5jIHdpdGggUG9zdGdyZXN0Q2xpZW50LnNjaGVtYVxuICAgIC8qKlxuICAgICAqIFNlbGVjdCBhIHNjaGVtYSB0byBxdWVyeSBvciBwZXJmb3JtIGFuIGZ1bmN0aW9uIChycGMpIGNhbGwuXG4gICAgICpcbiAgICAgKiBUaGUgc2NoZW1hIG5lZWRzIHRvIGJlIG9uIHRoZSBsaXN0IG9mIGV4cG9zZWQgc2NoZW1hcyBpbnNpZGUgU3VwYWJhc2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc2NoZW1hIC0gVGhlIHNjaGVtYSB0byBxdWVyeVxuICAgICAqL1xuICAgIHNjaGVtYShzY2hlbWEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdC5zY2hlbWEoc2NoZW1hKTtcbiAgICB9XG4gICAgLy8gTk9URTogc2lnbmF0dXJlcyBtdXN0IGJlIGtlcHQgaW4gc3luYyB3aXRoIFBvc3RncmVzdENsaWVudC5ycGNcbiAgICAvKipcbiAgICAgKiBQZXJmb3JtIGEgZnVuY3Rpb24gY2FsbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmbiAtIFRoZSBmdW5jdGlvbiBuYW1lIHRvIGNhbGxcbiAgICAgKiBAcGFyYW0gYXJncyAtIFRoZSBhcmd1bWVudHMgdG8gcGFzcyB0byB0aGUgZnVuY3Rpb24gY2FsbFxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gTmFtZWQgcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSBvcHRpb25zLmhlYWQgLSBXaGVuIHNldCB0byBgdHJ1ZWAsIGBkYXRhYCB3aWxsIG5vdCBiZSByZXR1cm5lZC5cbiAgICAgKiBVc2VmdWwgaWYgeW91IG9ubHkgbmVlZCB0aGUgY291bnQuXG4gICAgICogQHBhcmFtIG9wdGlvbnMuZ2V0IC0gV2hlbiBzZXQgdG8gYHRydWVgLCB0aGUgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgd2l0aFxuICAgICAqIHJlYWQtb25seSBhY2Nlc3MgbW9kZS5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5jb3VudCAtIENvdW50IGFsZ29yaXRobSB0byB1c2UgdG8gY291bnQgcm93cyByZXR1cm5lZCBieSB0aGVcbiAgICAgKiBmdW5jdGlvbi4gT25seSBhcHBsaWNhYmxlIGZvciBbc2V0LXJldHVybmluZ1xuICAgICAqIGZ1bmN0aW9uc10oaHR0cHM6Ly93d3cucG9zdGdyZXNxbC5vcmcvZG9jcy9jdXJyZW50L2Z1bmN0aW9ucy1zcmYuaHRtbCkuXG4gICAgICpcbiAgICAgKiBgXCJleGFjdFwiYDogRXhhY3QgYnV0IHNsb3cgY291bnQgYWxnb3JpdGhtLiBQZXJmb3JtcyBhIGBDT1VOVCgqKWAgdW5kZXIgdGhlXG4gICAgICogaG9vZC5cbiAgICAgKlxuICAgICAqIGBcInBsYW5uZWRcImA6IEFwcHJveGltYXRlZCBidXQgZmFzdCBjb3VudCBhbGdvcml0aG0uIFVzZXMgdGhlIFBvc3RncmVzXG4gICAgICogc3RhdGlzdGljcyB1bmRlciB0aGUgaG9vZC5cbiAgICAgKlxuICAgICAqIGBcImVzdGltYXRlZFwiYDogVXNlcyBleGFjdCBjb3VudCBmb3IgbG93IG51bWJlcnMgYW5kIHBsYW5uZWQgY291bnQgZm9yIGhpZ2hcbiAgICAgKiBudW1iZXJzLlxuICAgICAqL1xuICAgIHJwYyhmbiwgYXJncyA9IHt9LCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdC5ycGMoZm4sIGFyZ3MsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgUmVhbHRpbWUgY2hhbm5lbCB3aXRoIEJyb2FkY2FzdCwgUHJlc2VuY2UsIGFuZCBQb3N0Z3JlcyBDaGFuZ2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgUmVhbHRpbWUgY2hhbm5lbC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIFRoZSBvcHRpb25zIHRvIHBhc3MgdG8gdGhlIFJlYWx0aW1lIGNoYW5uZWwuXG4gICAgICpcbiAgICAgKi9cbiAgICBjaGFubmVsKG5hbWUsIG9wdHMgPSB7IGNvbmZpZzoge30gfSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWFsdGltZS5jaGFubmVsKG5hbWUsIG9wdHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFsbCBSZWFsdGltZSBjaGFubmVscy5cbiAgICAgKi9cbiAgICBnZXRDaGFubmVscygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhbHRpbWUuZ2V0Q2hhbm5lbHMoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVW5zdWJzY3JpYmVzIGFuZCByZW1vdmVzIFJlYWx0aW1lIGNoYW5uZWwgZnJvbSBSZWFsdGltZSBjbGllbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1JlYWx0aW1lQ2hhbm5lbH0gY2hhbm5lbCAtIFRoZSBuYW1lIG9mIHRoZSBSZWFsdGltZSBjaGFubmVsLlxuICAgICAqXG4gICAgICovXG4gICAgcmVtb3ZlQ2hhbm5lbChjaGFubmVsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlYWx0aW1lLnJlbW92ZUNoYW5uZWwoY2hhbm5lbCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVuc3Vic2NyaWJlcyBhbmQgcmVtb3ZlcyBhbGwgUmVhbHRpbWUgY2hhbm5lbHMgZnJvbSBSZWFsdGltZSBjbGllbnQuXG4gICAgICovXG4gICAgcmVtb3ZlQWxsQ2hhbm5lbHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlYWx0aW1lLnJlbW92ZUFsbENoYW5uZWxzKCk7XG4gICAgfVxuICAgIF9nZXRBY2Nlc3NUb2tlbigpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFjY2Vzc1Rva2VuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHlpZWxkIHRoaXMuYWNjZXNzVG9rZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0geWllbGQgdGhpcy5hdXRoLmdldFNlc3Npb24oKTtcbiAgICAgICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSBkYXRhLnNlc3Npb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hY2Nlc3NfdG9rZW4pICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IG51bGw7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfaW5pdFN1cGFiYXNlQXV0aENsaWVudCh7IGF1dG9SZWZyZXNoVG9rZW4sIHBlcnNpc3RTZXNzaW9uLCBkZXRlY3RTZXNzaW9uSW5VcmwsIHN0b3JhZ2UsIHN0b3JhZ2VLZXksIGZsb3dUeXBlLCBsb2NrLCBkZWJ1ZywgfSwgaGVhZGVycywgZmV0Y2gpIHtcbiAgICAgICAgY29uc3QgYXV0aEhlYWRlcnMgPSB7XG4gICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy5zdXBhYmFzZUtleX1gLFxuICAgICAgICAgICAgYXBpa2V5OiBgJHt0aGlzLnN1cGFiYXNlS2V5fWAsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBuZXcgU3VwYWJhc2VBdXRoQ2xpZW50KHtcbiAgICAgICAgICAgIHVybDogdGhpcy5hdXRoVXJsLmhyZWYsXG4gICAgICAgICAgICBoZWFkZXJzOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGF1dGhIZWFkZXJzKSwgaGVhZGVycyksXG4gICAgICAgICAgICBzdG9yYWdlS2V5OiBzdG9yYWdlS2V5LFxuICAgICAgICAgICAgYXV0b1JlZnJlc2hUb2tlbixcbiAgICAgICAgICAgIHBlcnNpc3RTZXNzaW9uLFxuICAgICAgICAgICAgZGV0ZWN0U2Vzc2lvbkluVXJsLFxuICAgICAgICAgICAgc3RvcmFnZSxcbiAgICAgICAgICAgIGZsb3dUeXBlLFxuICAgICAgICAgICAgbG9jayxcbiAgICAgICAgICAgIGRlYnVnLFxuICAgICAgICAgICAgZmV0Y2gsXG4gICAgICAgICAgICAvLyBhdXRoIGNoZWNrcyBpZiB0aGVyZSBpcyBhIGN1c3RvbSBhdXRob3JpemFpdG9uIGhlYWRlciB1c2luZyB0aGlzIGZsYWdcbiAgICAgICAgICAgIC8vIHNvIGl0IGtub3dzIHdoZXRoZXIgdG8gcmV0dXJuIGFuIGVycm9yIHdoZW4gZ2V0VXNlciBpcyBjYWxsZWQgd2l0aCBubyBzZXNzaW9uXG4gICAgICAgICAgICBoYXNDdXN0b21BdXRob3JpemF0aW9uSGVhZGVyOiAnQXV0aG9yaXphdGlvbicgaW4gdGhpcy5oZWFkZXJzLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2luaXRSZWFsdGltZUNsaWVudChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVhbHRpbWVDbGllbnQodGhpcy5yZWFsdGltZVVybC5ocmVmLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpLCB7IHBhcmFtczogT2JqZWN0LmFzc2lnbih7IGFwaWtleTogdGhpcy5zdXBhYmFzZUtleSB9LCBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucGFyYW1zKSB9KSk7XG4gICAgfVxuICAgIF9saXN0ZW5Gb3JBdXRoRXZlbnRzKCkge1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuYXV0aC5vbkF1dGhTdGF0ZUNoYW5nZSgoZXZlbnQsIHNlc3Npb24pID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZVRva2VuQ2hhbmdlZChldmVudCwgJ0NMSUVOVCcsIHNlc3Npb24gPT09IG51bGwgfHwgc2Vzc2lvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2Vzc2lvbi5hY2Nlc3NfdG9rZW4pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIF9oYW5kbGVUb2tlbkNoYW5nZWQoZXZlbnQsIHNvdXJjZSwgdG9rZW4pIHtcbiAgICAgICAgaWYgKChldmVudCA9PT0gJ1RPS0VOX1JFRlJFU0hFRCcgfHwgZXZlbnQgPT09ICdTSUdORURfSU4nKSAmJlxuICAgICAgICAgICAgdGhpcy5jaGFuZ2VkQWNjZXNzVG9rZW4gIT09IHRva2VuKSB7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZWRBY2Nlc3NUb2tlbiA9IHRva2VuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50ID09PSAnU0lHTkVEX09VVCcpIHtcbiAgICAgICAgICAgIHRoaXMucmVhbHRpbWUuc2V0QXV0aCgpO1xuICAgICAgICAgICAgaWYgKHNvdXJjZSA9PSAnU1RPUkFHRScpXG4gICAgICAgICAgICAgICAgdGhpcy5hdXRoLnNpZ25PdXQoKTtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZEFjY2Vzc1Rva2VuID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3VwYWJhc2VDbGllbnQuanMubWFwIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5leHBvcnQgZnVuY3Rpb24gdXVpZCgpIHtcbiAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xuICAgICAgICB2YXIgciA9IChNYXRoLnJhbmRvbSgpICogMTYpIHwgMCwgdiA9IGMgPT0gJ3gnID8gciA6IChyICYgMHgzKSB8IDB4ODtcbiAgICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZVRyYWlsaW5nU2xhc2godXJsKSB7XG4gICAgcmV0dXJuIHVybC5lbmRzV2l0aCgnLycpID8gdXJsIDogdXJsICsgJy8nO1xufVxuZXhwb3J0IGNvbnN0IGlzQnJvd3NlciA9ICgpID0+IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5U2V0dGluZ0RlZmF1bHRzKG9wdGlvbnMsIGRlZmF1bHRzKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCB7IGRiOiBkYk9wdGlvbnMsIGF1dGg6IGF1dGhPcHRpb25zLCByZWFsdGltZTogcmVhbHRpbWVPcHRpb25zLCBnbG9iYWw6IGdsb2JhbE9wdGlvbnMsIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IHsgZGI6IERFRkFVTFRfREJfT1BUSU9OUywgYXV0aDogREVGQVVMVF9BVVRIX09QVElPTlMsIHJlYWx0aW1lOiBERUZBVUxUX1JFQUxUSU1FX09QVElPTlMsIGdsb2JhbDogREVGQVVMVF9HTE9CQUxfT1BUSU9OUywgfSA9IGRlZmF1bHRzO1xuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgZGI6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9EQl9PUFRJT05TKSwgZGJPcHRpb25zKSxcbiAgICAgICAgYXV0aDogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX0FVVEhfT1BUSU9OUyksIGF1dGhPcHRpb25zKSxcbiAgICAgICAgcmVhbHRpbWU6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9SRUFMVElNRV9PUFRJT05TKSwgcmVhbHRpbWVPcHRpb25zKSxcbiAgICAgICAgZ2xvYmFsOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9HTE9CQUxfT1BUSU9OUyksIGdsb2JhbE9wdGlvbnMpLCB7IGhlYWRlcnM6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgKChfYSA9IERFRkFVTFRfR0xPQkFMX09QVElPTlMgPT09IG51bGwgfHwgREVGQVVMVF9HTE9CQUxfT1BUSU9OUyA9PT0gdm9pZCAwID8gdm9pZCAwIDogREVGQVVMVF9HTE9CQUxfT1BUSU9OUy5oZWFkZXJzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7fSkpLCAoKF9iID0gZ2xvYmFsT3B0aW9ucyA9PT0gbnVsbCB8fCBnbG9iYWxPcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBnbG9iYWxPcHRpb25zLmhlYWRlcnMpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHt9KSkgfSksXG4gICAgICAgIGFjY2Vzc1Rva2VuOiAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7IHJldHVybiAnJzsgfSksXG4gICAgfTtcbiAgICBpZiAob3B0aW9ucy5hY2Nlc3NUb2tlbikge1xuICAgICAgICByZXN1bHQuYWNjZXNzVG9rZW4gPSBvcHRpb25zLmFjY2Vzc1Rva2VuO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gaGFjayBhcm91bmQgUmVxdWlyZWQ8PlxuICAgICAgICBkZWxldGUgcmVzdWx0LmFjY2Vzc1Rva2VuO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGVscGVycy5qcy5tYXAiLCJpbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnO1xuXG4vLyBDdXN0b20gc3RvcmFnZSBhZGFwdGVyIGZvciBDaHJvbWUgZXh0ZW5zaW9uXG5jb25zdCBjdXN0b21TdG9yYWdlQWRhcHRlciA9IHtcbiAgYXN5bmMgZ2V0SXRlbShrZXk6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNocm9tZS5zdG9yYWdlLmxvY2FsLmdldChrZXkpO1xuICAgIHJldHVybiByZXN1bHRba2V5XSB8fCBudWxsO1xuICB9LFxuICBhc3luYyBzZXRJdGVtKGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHsgW2tleV06IHZhbHVlIH0pO1xuICB9LFxuICBhc3luYyByZW1vdmVJdGVtKGtleTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgY2hyb21lLnN0b3JhZ2UubG9jYWwucmVtb3ZlKGtleSk7XG4gIH0sXG59O1xuXG5jb25zdCBzdXBhYmFzZVVybCA9ICdodHRwczovL3Rwam55aXl2cHl6emJ6aGFqYmpoLnN1cGFiYXNlLmNvJztcbmNvbnN0IHN1cGFiYXNlQW5vbktleSA9ICdleUpoYkdjaU9pSklVekkxTmlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKcGMzTWlPaUp6ZFhCaFltRnpaU0lzSW5KbFppSTZJblJ3YW01NWFYbDJjSGw2ZW1KNmFHRnFZbXBvSWl3aWNtOXNaU0k2SW1GdWIyNGlMQ0pwWVhRaU9qRTNOVEUyTkRBMU5UUXNJbVY0Y0NJNk1qQTJOekl4TmpVMU5IMC5jZmxGZEh5dGxUVUFfSF9BUDdFM0tyeTktUy14dzQ1cElSb0pRdGZrNEFFJztcblxuZXhwb3J0IGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZUFub25LZXksIHtcbiAgYXV0aDoge1xuICAgIHN0b3JhZ2U6IGN1c3RvbVN0b3JhZ2VBZGFwdGVyLFxuICAgIGF1dG9SZWZyZXNoVG9rZW46IHRydWUsXG4gICAgcGVyc2lzdFNlc3Npb246IHRydWUsXG4gICAgZGV0ZWN0U2Vzc2lvbkluVXJsOiB0cnVlLFxuICB9LFxufSk7ICIsImltcG9ydCBTdXBhYmFzZUNsaWVudCBmcm9tICcuL1N1cGFiYXNlQ2xpZW50JztcbmV4cG9ydCAqIGZyb20gJ0BzdXBhYmFzZS9hdXRoLWpzJztcbmV4cG9ydCB7IFBvc3RncmVzdEVycm9yLCB9IGZyb20gJ0BzdXBhYmFzZS9wb3N0Z3Jlc3QtanMnO1xuZXhwb3J0IHsgRnVuY3Rpb25zSHR0cEVycm9yLCBGdW5jdGlvbnNGZXRjaEVycm9yLCBGdW5jdGlvbnNSZWxheUVycm9yLCBGdW5jdGlvbnNFcnJvciwgRnVuY3Rpb25SZWdpb24sIH0gZnJvbSAnQHN1cGFiYXNlL2Z1bmN0aW9ucy1qcyc7XG5leHBvcnQgKiBmcm9tICdAc3VwYWJhc2UvcmVhbHRpbWUtanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBTdXBhYmFzZUNsaWVudCB9IGZyb20gJy4vU3VwYWJhc2VDbGllbnQnO1xuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFN1cGFiYXNlIENsaWVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUNsaWVudCA9IChzdXBhYmFzZVVybCwgc3VwYWJhc2VLZXksIG9wdGlvbnMpID0+IHtcbiAgICByZXR1cm4gbmV3IFN1cGFiYXNlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZUtleSwgb3B0aW9ucyk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiaW1wb3J0IHsgc3VwYWJhc2UgfSBmcm9tICcuL3N1cGFiYXNlJztcbmltcG9ydCB7IFNhdmVkTGluaywgQ29sbGVjdGlvbiwgU3RvcmFnZURhdGEsIENhdGVnb3J5IH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5jbGFzcyBTdG9yYWdlTWFuYWdlciB7XG4gIGFzeW5jIGdldERhdGEoKTogUHJvbWlzZTxTdG9yYWdlRGF0YT4ge1xuICAgIGNvbnN0IHsgZGF0YTogc2Vzc2lvbkRhdGEsIGVycm9yOiBzZXNzaW9uRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpO1xuICAgIGlmIChzZXNzaW9uRXJyb3IgfHwgIXNlc3Npb25EYXRhLnNlc3Npb24pIHtcbiAgICAgIC8vIE5vIGFjdGl2ZSBzZXNzaW9uLCByZXR1cm4gZGVmYXVsdCBlbXB0eSBkYXRhLlxuICAgICAgcmV0dXJuIHRoaXMuZ2V0RGVmYXVsdERhdGEoKTtcbiAgICB9XG5cbiAgICBjb25zdCB1c2VyID0gc2Vzc2lvbkRhdGEuc2Vzc2lvbi51c2VyO1xuICAgIGNvbnNvbGUubG9nKCdGZXRjaGluZyBkYXRhIGZvciB1c2VyOicsIHVzZXIuaWQpO1xuXG4gICAgY29uc3QgW2xpbmtzUmVzLCBjb2xsZWN0aW9uc1Jlc10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICBzdXBhYmFzZS5mcm9tKCdsaW5rcycpLnNlbGVjdCgnKicpLmVxKCd1c2VyX2lkJywgdXNlci5pZCksXG4gICAgICBzdXBhYmFzZS5mcm9tKCdjb2xsZWN0aW9ucycpLnNlbGVjdCgnKicpLmVxKCd1c2VyX2lkJywgdXNlci5pZClcbiAgICBdKTtcblxuICAgIGlmIChsaW5rc1Jlcy5lcnJvcikgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgbGlua3M6JywgbGlua3NSZXMuZXJyb3IpO1xuICAgIGlmIChjb2xsZWN0aW9uc1Jlcy5lcnJvcikgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgY29sbGVjdGlvbnM6JywgY29sbGVjdGlvbnNSZXMuZXJyb3IpO1xuXG4gICAgLy8gTWFwIGRhdGFiYXNlIGZpZWxkcyB0byBUeXBlU2NyaXB0IGNhbWVsQ2FzZVxuICAgIGNvbnN0IGxpbmtzID0gKGxpbmtzUmVzLmRhdGEgfHwgW10pLm1hcCgoZGJMaW5rOiBhbnkpID0+ICh7XG4gICAgICBpZDogZGJMaW5rLmlkLFxuICAgICAgdXJsOiBkYkxpbmsudXJsLFxuICAgICAgdGl0bGU6IGRiTGluay50aXRsZSxcbiAgICAgIGZhdmljb246IGRiTGluay5mYXZpY29uLFxuICAgICAgdXNlck5vdGU6IGRiTGluay51c2VyX25vdGUgfHwgJycsXG4gICAgICBhaVN1bW1hcnk6IGRiTGluay5haV9zdW1tYXJ5LFxuICAgICAgY2F0ZWdvcnk6IGRiTGluay5jYXRlZ29yeSxcbiAgICAgIGNvbGxlY3Rpb25JZDogZGJMaW5rLmNvbGxlY3Rpb25faWQsXG4gICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKGRiTGluay5jcmVhdGVkX2F0KSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoZGJMaW5rLnVwZGF0ZWRfYXQpLFxuICAgICAgZG9tYWluOiBkYkxpbmsuZG9tYWluLFxuICAgIH0pKTtcblxuICAgIGNvbnN0IGNvbGxlY3Rpb25zID0gKGNvbGxlY3Rpb25zUmVzLmRhdGEgfHwgW10pLm1hcCgoZGJDb2w6IGFueSkgPT4gKHtcbiAgICAgIGlkOiBkYkNvbC5pZCxcbiAgICAgIG5hbWU6IGRiQ29sLm5hbWUsXG4gICAgICBkZXNjcmlwdGlvbjogZGJDb2wuZGVzY3JpcHRpb24sXG4gICAgICBjb2xvcjogZGJDb2wuY29sb3IsXG4gICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKGRiQ29sLmNyZWF0ZWRfYXQpLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZShkYkNvbC51cGRhdGVkX2F0KSxcbiAgICB9KSk7XG5cbiAgICBjb25zdCBkYXRhOiBTdG9yYWdlRGF0YSA9IHtcbiAgICAgIGxpbmtzLFxuICAgICAgY29sbGVjdGlvbnMsXG4gICAgICBjYXRlZ29yaWVzOiB0aGlzLmdldERlZmF1bHRDYXRlZ29yaWVzKCksXG4gICAgICBzZXR0aW5nczoge1xuICAgICAgICBkZWZhdWx0Q2F0ZWdvcnk6ICdnZW5lcmFsJyxcbiAgICAgICAgYXV0b1N1bW1hcml6ZTogdHJ1ZSxcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc29sZS5sb2coJ0RhdGEgZmV0Y2hlZCBmcm9tIFN1cGFiYXNlOicsIGRhdGEpO1xuICAgIHJldHVybiBkYXRhO1xuICB9XG4gIFxuICBhc3luYyBhZGRMaW5rKGxpbms6IE9taXQ8U2F2ZWRMaW5rLCAnaWQnIHwgJ2NyZWF0ZWRBdCcgfCAndXBkYXRlZEF0JyB8ICd1c2VyX2lkJz4pOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbiwgZXJyb3I/OiBzdHJpbmcgfT4ge1xuICAgIGNvbnN0IHsgZGF0YTogc2Vzc2lvbkRhdGEgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpO1xuICAgIGNvbnN0IHVzZXIgPSBzZXNzaW9uRGF0YS5zZXNzaW9uPy51c2VyO1xuICAgIGlmICghdXNlcikge1xuICAgICAgY29uc29sZS5lcnJvcignVXNlciBub3QgbG9nZ2VkIGluJyk7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdVc2VyIG5vdCBsb2dnZWQgaW4uJyB9O1xuICAgIH1cblxuICAgIC8vIE1hcCBjYW1lbENhc2UgdG8gc25ha2VfY2FzZSBmb3IgZGF0YWJhc2UgaW5zZXJ0aW9uXG4gICAgY29uc3QgZGJMaW5rID0ge1xuICAgICAgdXNlcl9pZDogdXNlci5pZCxcbiAgICAgIGNvbGxlY3Rpb25faWQ6IGxpbmsuY29sbGVjdGlvbklkIHx8IG51bGwsXG4gICAgICB1cmw6IGxpbmsudXJsLFxuICAgICAgdGl0bGU6IGxpbmsudGl0bGUsXG4gICAgICBmYXZpY29uOiBsaW5rLmZhdmljb24sXG4gICAgICBkb21haW46IGxpbmsuZG9tYWluLFxuICAgICAgdXNlcl9ub3RlOiBsaW5rLnVzZXJOb3RlLFxuICAgICAgYWlfc3VtbWFyeTogbGluay5haVN1bW1hcnksXG4gICAgICBjYXRlZ29yeTogbGluay5jYXRlZ29yeSxcbiAgICB9O1xuXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuZnJvbSgnbGlua3MnKS5pbnNlcnQoZGJMaW5rKTtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1N1cGFiYXNlIGFkZExpbmsgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIHx8ICdEYXRhYmFzZSBlcnJvciBvY2N1cnJlZC4nIH07XG4gICAgfVxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZUxpbmsobGlua0lkOiBzdHJpbmcsIHVwZGF0ZXM6IFBhcnRpYWw8U2F2ZWRMaW5rPik6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmZyb20oJ2xpbmtzJykudXBkYXRlKHsgLi4udXBkYXRlcywgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpIH0pLmVxKCdpZCcsIGxpbmtJZCk7XG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZUxpbmsobGlua0lkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5mcm9tKCdsaW5rcycpLmRlbGV0ZSgpLmVxKCdpZCcsIGxpbmtJZCk7XG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgfVxuXG4gIGFzeW5jIGFkZENvbGxlY3Rpb24oY29sbGVjdGlvbjogT21pdDxDb2xsZWN0aW9uLCAnaWQnIHwgJ2NyZWF0ZWRBdCcgfCAndXBkYXRlZEF0JyB8ICd1c2VyX2lkJz4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCB7IGRhdGE6IHNlc3Npb25EYXRhIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFNlc3Npb24oKTtcbiAgICBjb25zdCB1c2VyID0gc2Vzc2lvbkRhdGEuc2Vzc2lvbj8udXNlcjtcbiAgICBpZiAoIXVzZXIpIHRocm93IG5ldyBFcnJvcignVXNlciBub3QgbG9nZ2VkIGluLicpO1xuICAgIFxuICAgIC8vIE1hcCBjYW1lbENhc2UgdG8gc25ha2VfY2FzZSBmb3IgZGF0YWJhc2UgaW5zZXJ0aW9uXG4gICAgY29uc3QgZGJDb2xsZWN0aW9uID0ge1xuICAgICAgdXNlcl9pZDogdXNlci5pZCxcbiAgICAgIG5hbWU6IGNvbGxlY3Rpb24ubmFtZSxcbiAgICAgIGRlc2NyaXB0aW9uOiBjb2xsZWN0aW9uLmRlc2NyaXB0aW9uLFxuICAgICAgY29sb3I6IGNvbGxlY3Rpb24uY29sb3IsXG4gICAgfTtcbiAgICBcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5mcm9tKCdjb2xsZWN0aW9ucycpLmluc2VydChkYkNvbGxlY3Rpb24pO1xuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gIH1cblxuICBhc3luYyB1cGRhdGVDb2xsZWN0aW9uKGNvbGxlY3Rpb25JZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPENvbGxlY3Rpb24+KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuZnJvbSgnY29sbGVjdGlvbnMnKS51cGRhdGUoeyAuLi51cGRhdGVzLCB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkgfSkuZXEoJ2lkJywgY29sbGVjdGlvbklkKTtcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICB9XG5cbiAgYXN5bmMgZGVsZXRlQ29sbGVjdGlvbihjb2xsZWN0aW9uSWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIC8vIFdlIGNhbiBhZGQgbG9naWMgaGVyZSB0byByZWFzc2lnbiBsaW5rcyBpZiBuZWVkZWQsIGZvciBub3cganVzdCBkZWxldGVcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5mcm9tKCdjb2xsZWN0aW9ucycpLmRlbGV0ZSgpLmVxKCdpZCcsIGNvbGxlY3Rpb25JZCk7XG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgfVxuXG4gIGFzeW5jIHNlYXJjaExpbmtzKHF1ZXJ5OiBzdHJpbmcpOiBQcm9taXNlPFNhdmVkTGlua1tdPiB7XG4gICAgY29uc3QgeyBkYXRhOiBzZXNzaW9uRGF0YSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uKCk7XG4gICAgY29uc3QgdXNlciA9IHNlc3Npb25EYXRhLnNlc3Npb24/LnVzZXI7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdVc2VyIG5vdCBsb2dnZWQgaW4nKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBpZiAoIXF1ZXJ5LnRyaW0oKSkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5ycGMoJ3NlYXJjaF91c2VyX2xpbmtzJywge1xuICAgICAgICBzZWFyY2hfcXVlcnk6IHF1ZXJ5LnRyaW0oKSxcbiAgICAgICAgdXNlcl91dWlkOiB1c2VyLmlkLFxuICAgICAgICByZXN1bHRfbGltaXQ6IDUwXG4gICAgICB9KTtcblxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1NlYXJjaCBlcnJvcjonLCBlcnJvcik7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cblxuICAgICAgLy8gTWFwIGRhdGFiYXNlIHJlc3VsdHMgdG8gVHlwZVNjcmlwdCBvYmplY3RzXG4gICAgICByZXR1cm4gKGRhdGEgfHwgW10pLm1hcCgocmVzdWx0OiBhbnkpID0+ICh7XG4gICAgICAgIGlkOiByZXN1bHQuaWQsXG4gICAgICAgIHVybDogcmVzdWx0LnVybCxcbiAgICAgICAgdGl0bGU6IHJlc3VsdC50aXRsZSxcbiAgICAgICAgZmF2aWNvbjogcmVzdWx0LmZhdmljb24sXG4gICAgICAgIHVzZXJOb3RlOiByZXN1bHQudXNlcl9ub3RlIHx8ICcnLFxuICAgICAgICBhaVN1bW1hcnk6IHJlc3VsdC5haV9zdW1tYXJ5LFxuICAgICAgICBjYXRlZ29yeTogcmVzdWx0LmNhdGVnb3J5LFxuICAgICAgICBjb2xsZWN0aW9uSWQ6IHJlc3VsdC5jb2xsZWN0aW9uX2lkLFxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKHJlc3VsdC5jcmVhdGVkX2F0KSxcbiAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZShyZXN1bHQudXBkYXRlZF9hdCksXG4gICAgICAgIGRvbWFpbjogcmVzdWx0LmRvbWFpbixcbiAgICAgICAgLy8gQWRkIHNlYXJjaC1zcGVjaWZpYyBwcm9wZXJ0aWVzXG4gICAgICAgIHNlYXJjaFJhbms6IHJlc3VsdC5yYW5rLFxuICAgICAgICBzZWFyY2hIZWFkbGluZTogcmVzdWx0LmhlYWRsaW5lLFxuICAgICAgfSkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdTZWFyY2ggZmFpbGVkOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRVc2VyVGFncygpOiBQcm9taXNlPHsgaWQ6IHN0cmluZzsgbmFtZTogc3RyaW5nOyB1c2FnZUNvdW50OiBudW1iZXIgfVtdPiB7XG4gICAgY29uc3QgeyBkYXRhOiBzZXNzaW9uRGF0YSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uKCk7XG4gICAgY29uc3QgdXNlciA9IHNlc3Npb25EYXRhLnNlc3Npb24/LnVzZXI7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdVc2VyIG5vdCBsb2dnZWQgaW4nKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UucnBjKCdnZXRfdXNlcl90YWdzX3dpdGhfY291bnRzJywge1xuICAgICAgICB1c2VyX3V1aWQ6IHVzZXIuaWRcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgdXNlciB0YWdzOicsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gKGRhdGEgfHwgW10pLm1hcCgodGFnOiBhbnkpID0+ICh7XG4gICAgICAgIGlkOiB0YWcuaWQsXG4gICAgICAgIG5hbWU6IHRhZy5uYW1lLFxuICAgICAgICB1c2FnZUNvdW50OiB0YWcudXNhZ2VfY291bnQgfHwgMFxuICAgICAgfSkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZ2V0IHVzZXIgdGFnczonLCBlcnJvcik7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0TGlua1RhZ3MobGlua0lkOiBzdHJpbmcpOiBQcm9taXNlPHsgaWQ6IHN0cmluZzsgbmFtZTogc3RyaW5nIH1bXT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5ycGMoJ2dldF9saW5rX3RhZ3MnLCB7XG4gICAgICAgIGxpbmtfdXVpZDogbGlua0lkXG4gICAgICB9KTtcblxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGxpbmsgdGFnczonLCBlcnJvcik7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRhdGEgfHwgW107XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBnZXQgbGluayB0YWdzOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBhZGRUYWdzVG9MaW5rKGxpbmtJZDogc3RyaW5nLCB0YWdOYW1lczogc3RyaW5nW10pOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgZXJyb3I/OiBzdHJpbmcgfT4ge1xuICAgIGNvbnN0IHsgZGF0YTogc2Vzc2lvbkRhdGEgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpO1xuICAgIGNvbnN0IHVzZXIgPSBzZXNzaW9uRGF0YS5zZXNzaW9uPy51c2VyO1xuICAgIGlmICghdXNlcikge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnVXNlciBub3QgbG9nZ2VkIGluLicgfTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UucnBjKCdhZGRfdGFnc190b19saW5rJywge1xuICAgICAgICBsaW5rX3V1aWQ6IGxpbmtJZCxcbiAgICAgICAgdGFnX25hbWVzOiB0YWdOYW1lcyxcbiAgICAgICAgdXNlcl91dWlkOiB1c2VyLmlkXG4gICAgICB9KTtcblxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFkZGluZyB0YWdzIHRvIGxpbms6JywgZXJyb3IpO1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBhZGQgdGFncy4nIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGFkZCB0YWdzIHRvIGxpbms6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAoZXJyb3IgYXMgRXJyb3IpLm1lc3NhZ2UgfTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRMaW5rc0J5VGFnKHRhZ05hbWU6IHN0cmluZyk6IFByb21pc2U8U2F2ZWRMaW5rW10+IHtcbiAgICBjb25zdCB7IGRhdGE6IHNlc3Npb25EYXRhIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFNlc3Npb24oKTtcbiAgICBjb25zdCB1c2VyID0gc2Vzc2lvbkRhdGEuc2Vzc2lvbj8udXNlcjtcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1VzZXIgbm90IGxvZ2dlZCBpbicpO1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5ycGMoJ2dldF9saW5rc19ieV90YWcnLCB7XG4gICAgICAgIHVzZXJfdXVpZDogdXNlci5pZCxcbiAgICAgICAgdGFnX25hbWU6IHRhZ05hbWVcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgbGlua3MgYnkgdGFnOicsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuXG4gICAgICAvLyBNYXAgZGF0YWJhc2UgcmVzdWx0cyB0byBUeXBlU2NyaXB0IG9iamVjdHNcbiAgICAgIHJldHVybiAoZGF0YSB8fCBbXSkubWFwKChkYkxpbms6IGFueSkgPT4gKHtcbiAgICAgICAgaWQ6IGRiTGluay5pZCxcbiAgICAgICAgdXJsOiBkYkxpbmsudXJsLFxuICAgICAgICB0aXRsZTogZGJMaW5rLnRpdGxlLFxuICAgICAgICBmYXZpY29uOiBkYkxpbmsuZmF2aWNvbixcbiAgICAgICAgdXNlck5vdGU6IGRiTGluay51c2VyX25vdGUgfHwgJycsXG4gICAgICAgIGFpU3VtbWFyeTogZGJMaW5rLmFpX3N1bW1hcnksXG4gICAgICAgIGNhdGVnb3J5OiBkYkxpbmsuY2F0ZWdvcnksXG4gICAgICAgIGNvbGxlY3Rpb25JZDogZGJMaW5rLmNvbGxlY3Rpb25faWQsXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoZGJMaW5rLmNyZWF0ZWRfYXQpLFxuICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKGRiTGluay51cGRhdGVkX2F0KSxcbiAgICAgICAgZG9tYWluOiBkYkxpbmsuZG9tYWluLFxuICAgICAgfSkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZ2V0IGxpbmtzIGJ5IHRhZzonLCBlcnJvcik7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgY2xlYW51cFVudXNlZFRhZ3MoKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICBjb25zdCB7IGRhdGE6IHNlc3Npb25EYXRhIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFNlc3Npb24oKTtcbiAgICBjb25zdCB1c2VyID0gc2Vzc2lvbkRhdGEuc2Vzc2lvbj8udXNlcjtcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5ycGMoJ2NsZWFudXBfdW51c2VkX3RhZ3MnLCB7XG4gICAgICAgIHVzZXJfdXVpZDogdXNlci5pZFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjbGVhbmluZyB1cCB1bnVzZWQgdGFnczonLCBlcnJvcik7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGF0YSB8fCAwO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gY2xlYW51cCB1bnVzZWQgdGFnczonLCBlcnJvcik7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gIH1cblxuICBhc3luYyB0b2dnbGVDb2xsZWN0aW9uU2hhcmluZyhjb2xsZWN0aW9uSWQ6IHN0cmluZywgbWFrZVB1YmxpYzogYm9vbGVhbik6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBzaGFyZVRva2VuPzogc3RyaW5nOyBtZXNzYWdlOiBzdHJpbmcgfT4ge1xuICAgIGNvbnN0IHsgZGF0YTogc2Vzc2lvbkRhdGEgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpO1xuICAgIGNvbnN0IHVzZXIgPSBzZXNzaW9uRGF0YS5zZXNzaW9uPy51c2VyO1xuICAgIGlmICghdXNlcikge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6ICdVc2VyIG5vdCBsb2dnZWQgaW4uJyB9O1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5ycGMoJ3RvZ2dsZV9jb2xsZWN0aW9uX3NoYXJpbmcnLCB7XG4gICAgICAgIGNvbGxlY3Rpb25fdXVpZDogY29sbGVjdGlvbklkLFxuICAgICAgICB1c2VyX3V1aWQ6IHVzZXIuaWQsXG4gICAgICAgIG1ha2VfcHVibGljOiBtYWtlUHVibGljXG4gICAgICB9KTtcblxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHRvZ2dsaW5nIGNvbGxlY3Rpb24gc2hhcmluZzonLCBlcnJvcik7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gdXBkYXRlIHNoYXJpbmcgc2V0dGluZ3MuJyB9O1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBkYXRhPy5bMF07XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiByZXN1bHQ/LnN1Y2Nlc3MgfHwgZmFsc2UsXG4gICAgICAgIHNoYXJlVG9rZW46IHJlc3VsdD8uc2hhcmVfdG9rZW4sXG4gICAgICAgIG1lc3NhZ2U6IHJlc3VsdD8ubWVzc2FnZSB8fCAnU2hhcmluZyBzZXR0aW5ncyB1cGRhdGVkLidcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byB0b2dnbGUgY29sbGVjdGlvbiBzaGFyaW5nOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAoZXJyb3IgYXMgRXJyb3IpLm1lc3NhZ2UgfTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRDb2xsZWN0aW9uU2hhcmluZ0luZm8oY29sbGVjdGlvbklkOiBzdHJpbmcpOiBQcm9taXNlPHsgaXNQdWJsaWM6IGJvb2xlYW47IHNoYXJlVG9rZW4/OiBzdHJpbmc7IHZpZXdDb3VudDogbnVtYmVyIH0gfCBudWxsPiB7XG4gICAgY29uc3QgeyBkYXRhOiBzZXNzaW9uRGF0YSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uKCk7XG4gICAgY29uc3QgdXNlciA9IHNlc3Npb25EYXRhLnNlc3Npb24/LnVzZXI7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2NvbGxlY3Rpb25zJylcbiAgICAgICAgLnNlbGVjdCgnaXNfcHVibGljLCBzaGFyZV90b2tlbiwgdmlld19jb3VudCcpXG4gICAgICAgIC5lcSgnaWQnLCBjb2xsZWN0aW9uSWQpXG4gICAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXIuaWQpXG4gICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGNvbGxlY3Rpb24gc2hhcmluZyBpbmZvOicsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzUHVibGljOiBkYXRhLmlzX3B1YmxpYyB8fCBmYWxzZSxcbiAgICAgICAgc2hhcmVUb2tlbjogZGF0YS5zaGFyZV90b2tlbixcbiAgICAgICAgdmlld0NvdW50OiBkYXRhLnZpZXdfY291bnQgfHwgMFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGdldCBjb2xsZWN0aW9uIHNoYXJpbmcgaW5mbzonLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvLyBQdWJsaWMgbWV0aG9kcyBmb3Igdmlld2luZyBzaGFyZWQgY29sbGVjdGlvbnMgKG5vIGF1dGggcmVxdWlyZWQpXG4gIHN0YXRpYyBhc3luYyBnZXRQdWJsaWNDb2xsZWN0aW9uKHNoYXJlVG9rZW46IHN0cmluZyk6IFByb21pc2U8e1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICAgIHZpZXdDb3VudDogbnVtYmVyO1xuICAgIGNyZWF0ZWRBdDogRGF0ZTtcbiAgICBvd25lckVtYWlsOiBzdHJpbmc7XG4gIH0gfCBudWxsPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYygnZ2V0X3B1YmxpY19jb2xsZWN0aW9uJywge1xuICAgICAgICB0b2tlbjogc2hhcmVUb2tlblxuICAgICAgfSk7XG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBwdWJsaWMgY29sbGVjdGlvbjonLCBlcnJvcik7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBjb2xsZWN0aW9uID0gZGF0YT8uWzBdO1xuICAgICAgaWYgKCFjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogY29sbGVjdGlvbi5pZCxcbiAgICAgICAgbmFtZTogY29sbGVjdGlvbi5uYW1lLFxuICAgICAgICBkZXNjcmlwdGlvbjogY29sbGVjdGlvbi5kZXNjcmlwdGlvbixcbiAgICAgICAgdmlld0NvdW50OiBjb2xsZWN0aW9uLnZpZXdfY291bnQgfHwgMCxcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZShjb2xsZWN0aW9uLmNyZWF0ZWRfYXQpLFxuICAgICAgICBvd25lckVtYWlsOiBjb2xsZWN0aW9uLm93bmVyX2VtYWlsXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZ2V0IHB1YmxpYyBjb2xsZWN0aW9uOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBnZXRQdWJsaWNDb2xsZWN0aW9uTGlua3Moc2hhcmVUb2tlbjogc3RyaW5nKTogUHJvbWlzZTxBcnJheTx7XG4gICAgaWQ6IHN0cmluZztcbiAgICB1cmw6IHN0cmluZztcbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIGZhdmljb24/OiBzdHJpbmc7XG4gICAgZG9tYWluOiBzdHJpbmc7XG4gICAgdXNlck5vdGU/OiBzdHJpbmc7XG4gICAgYWlTdW1tYXJ5Pzogc3RyaW5nO1xuICAgIGNhdGVnb3J5OiBzdHJpbmc7XG4gICAgY3JlYXRlZEF0OiBEYXRlO1xuICAgIHRhZ3M6IHN0cmluZ1tdO1xuICB9Pj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5ycGMoJ2dldF9wdWJsaWNfY29sbGVjdGlvbl9saW5rcycsIHtcbiAgICAgICAgdG9rZW46IHNoYXJlVG9rZW5cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcHVibGljIGNvbGxlY3Rpb24gbGlua3M6JywgZXJyb3IpO1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAoZGF0YSB8fCBbXSkubWFwKChsaW5rOiBhbnkpID0+ICh7XG4gICAgICAgIGlkOiBsaW5rLmlkLFxuICAgICAgICB1cmw6IGxpbmsudXJsLFxuICAgICAgICB0aXRsZTogbGluay50aXRsZSxcbiAgICAgICAgZmF2aWNvbjogbGluay5mYXZpY29uLFxuICAgICAgICBkb21haW46IGxpbmsuZG9tYWluLFxuICAgICAgICB1c2VyTm90ZTogbGluay51c2VyX25vdGUsXG4gICAgICAgIGFpU3VtbWFyeTogbGluay5haV9zdW1tYXJ5LFxuICAgICAgICBjYXRlZ29yeTogbGluay5jYXRlZ29yeSxcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZShsaW5rLmNyZWF0ZWRfYXQpLFxuICAgICAgICB0YWdzOiBsaW5rLnRhZ19uYW1lcyB8fCBbXVxuICAgICAgfSkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZ2V0IHB1YmxpYyBjb2xsZWN0aW9uIGxpbmtzOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgaW5jcmVtZW50Vmlld0NvdW50KHNoYXJlVG9rZW46IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5ycGMoJ2luY3JlbWVudF9jb2xsZWN0aW9uX3ZpZXdzJywge1xuICAgICAgICB0b2tlbjogc2hhcmVUb2tlblxuICAgICAgfSk7XG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbmNyZW1lbnRpbmcgdmlldyBjb3VudDonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBpbmNyZW1lbnQgdmlldyBjb3VudDonLCBlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXREZWZhdWx0Q2F0ZWdvcmllcygpOiBDYXRlZ29yeVtdIHtcbiAgICByZXR1cm4gW1xuICAgICAgeyBpZDogJ2dlbmVyYWwnLCBuYW1lOiAnR2VuZXJhbCcsIGNvbG9yOiAnIzZiNzI4MCcsIGlzRGVmYXVsdDogdHJ1ZSB9LFxuICAgICAgeyBpZDogJ3dvcmsnLCBuYW1lOiAnV29yaycsIGNvbG9yOiAnIzNiODJmNicgfSxcbiAgICAgIHsgaWQ6ICdwZXJzb25hbCcsIG5hbWU6ICdQZXJzb25hbCcsIGNvbG9yOiAnIzEwYjk4MScgfSxcbiAgICAgIHsgaWQ6ICdsZWFybmluZycsIG5hbWU6ICdMZWFybmluZycsIGNvbG9yOiAnI2Y1OWUwYicgfVxuICAgIF07XG4gIH1cblxuICBwcml2YXRlIGdldERlZmF1bHREYXRhKCk6IFN0b3JhZ2VEYXRhIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGlua3M6IFtdLFxuICAgICAgY29sbGVjdGlvbnM6IFtdLFxuICAgICAgY2F0ZWdvcmllczogdGhpcy5nZXREZWZhdWx0Q2F0ZWdvcmllcygpLFxuICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgZGVmYXVsdENhdGVnb3J5OiAnZ2VuZXJhbCcsXG4gICAgICAgIGF1dG9TdW1tYXJpemU6IHRydWVcbiAgICAgIH1cbiAgICB9O1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBzdG9yYWdlID0gbmV3IFN0b3JhZ2VNYW5hZ2VyKCk7ICIsIi8vIEFJIFN1bW1hcnkgdXRpbGl0eSBmdW5jdGlvbnNcbmV4cG9ydCBpbnRlcmZhY2UgQUlDb25maWcge1xuICBhcGlLZXk/OiBzdHJpbmc7XG4gIG1vZGVsPzogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgQUlTZXJ2aWNlIHtcbiAgcHJpdmF0ZSBhcGlLZXk6IHN0cmluZztcbiAgcHJpdmF0ZSBtb2RlbDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogQUlDb25maWcgPSB7fSkge1xuICAgIHRoaXMuYXBpS2V5ID0gY29uZmlnLmFwaUtleSB8fCAnJztcbiAgICB0aGlzLm1vZGVsID0gY29uZmlnLm1vZGVsIHx8ICdncHQtMy41LXR1cmJvJztcbiAgfVxuXG4gIGFzeW5jIGdlbmVyYXRlU3VtbWFyeShjb250ZW50OiBzdHJpbmcsIHRpdGxlOiBzdHJpbmcsIHVybDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAvLyBGb3Igbm93LCByZXR1cm4gYSBwbGFjZWhvbGRlciBzdW1tYXJ5XG4gICAgLy8gVGhpcyBjYW4gYmUgcmVwbGFjZWQgd2l0aCBhY3R1YWwgT3BlbkFJIEFQSSBjYWxsc1xuICAgIGlmICghdGhpcy5hcGlLZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRlUGxhY2Vob2xkZXJTdW1tYXJ5KGNvbnRlbnQsIHRpdGxlLCB1cmwpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyBQbGFjZWhvbGRlciBmb3IgT3BlbkFJIEFQSSBpbnRlZ3JhdGlvblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNhbGxPcGVuQUkoY29udGVudCwgdGl0bGUsIHVybCk7XG4gICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0FJIHN1bW1hcnkgZ2VuZXJhdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVQbGFjZWhvbGRlclN1bW1hcnkoY29udGVudCwgdGl0bGUsIHVybCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZVBsYWNlaG9sZGVyU3VtbWFyeShjb250ZW50OiBzdHJpbmcsIHRpdGxlOiBzdHJpbmcsIHVybDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBkb21haW4gPSBuZXcgVVJMKHVybCkuaG9zdG5hbWU7XG4gICAgY29uc3QgY29udGVudExlbmd0aCA9IGNvbnRlbnQubGVuZ3RoO1xuICAgIFxuICAgIC8vIEdlbmVyYXRlIGEgc2ltcGxlIHJ1bGUtYmFzZWQgc3VtbWFyeVxuICAgIGlmIChkb21haW4uaW5jbHVkZXMoJ2dpdGh1Yi5jb20nKSkge1xuICAgICAgcmV0dXJuIGBHaXRIdWIgcmVwb3NpdG9yeSBvciBwcm9qZWN0IHBhZ2U6ICR7dGl0bGV9YDtcbiAgICB9IGVsc2UgaWYgKGRvbWFpbi5pbmNsdWRlcygnc3RhY2tvdmVyZmxvdy5jb20nKSkge1xuICAgICAgcmV0dXJuIGBTdGFjayBPdmVyZmxvdyBkaXNjdXNzaW9uIGFib3V0IHByb2dyYW1taW5nIG9yIHRlY2huaWNhbCB0b3BpY3NgO1xuICAgIH0gZWxzZSBpZiAoZG9tYWluLmluY2x1ZGVzKCdtZWRpdW0uY29tJykgfHwgZG9tYWluLmluY2x1ZGVzKCdibG9nJykpIHtcbiAgICAgIHJldHVybiBgQmxvZyBhcnRpY2xlOiAke3RpdGxlLnN1YnN0cmluZygwLCA1MCl9Li4uYDtcbiAgICB9IGVsc2UgaWYgKGRvbWFpbi5pbmNsdWRlcygneW91dHViZS5jb20nKSkge1xuICAgICAgcmV0dXJuIGBWaWRlbyBjb250ZW50OiAke3RpdGxlfWA7XG4gICAgfSBlbHNlIGlmIChkb21haW4uaW5jbHVkZXMoJ25ld3MnKSB8fCBkb21haW4uaW5jbHVkZXMoJ2FydGljbGUnKSkge1xuICAgICAgcmV0dXJuIGBOZXdzIGFydGljbGUgZnJvbSAke2RvbWFpbn1gO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYFdlYiBwYWdlIGZyb20gJHtkb21haW59ICgke01hdGgucm91bmQoY29udGVudExlbmd0aCAvIDEwMCl9IHBhcmFncmFwaHMpYDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGNhbGxPcGVuQUkoY29udGVudDogc3RyaW5nLCB0aXRsZTogc3RyaW5nLCB1cmw6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgLy8gUGxhY2Vob2xkZXIgZm9yIGFjdHVhbCBPcGVuQUkgQVBJIGltcGxlbWVudGF0aW9uXG4gICAgY29uc3QgcHJvbXB0ID0gYFN1bW1hcml6ZSB0aGlzIHdlYiBwYWdlIGluIDEtMiBzZW50ZW5jZXM6XG5UaXRsZTogJHt0aXRsZX1cblVSTDogJHt1cmx9XG5Db250ZW50OiAke2NvbnRlbnQuc3Vic3RyaW5nKDAsIDEwMDApfS4uLmA7XG5cbiAgICAvLyBUaGlzIHdvdWxkIGJlIHJlcGxhY2VkIHdpdGggYWN0dWFsIE9wZW5BSSBBUEkgY2FsbFxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLm9wZW5haS5jb20vdjEvY2hhdC9jb21wbGV0aW9ucycsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0aGlzLmFwaUtleX1gLFxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbW9kZWw6IHRoaXMubW9kZWwsXG4gICAgICAgIG1lc3NhZ2VzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgICAgICAgY29udGVudDogcHJvbXB0XG4gICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBtYXhfdG9rZW5zOiAxMDAsXG4gICAgICAgIHRlbXBlcmF0dXJlOiAwLjNcbiAgICAgIH0pXG4gICAgfSk7XG5cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIHJldHVybiBkYXRhLmNob2ljZXNbMF0/Lm1lc3NhZ2U/LmNvbnRlbnQgfHwgdGhpcy5nZW5lcmF0ZVBsYWNlaG9sZGVyU3VtbWFyeShjb250ZW50LCB0aXRsZSwgdXJsKTtcbiAgfVxuXG4gIHVwZGF0ZUFwaUtleShhcGlLZXk6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuYXBpS2V5ID0gYXBpS2V5O1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBhaVNlcnZpY2UgPSBuZXcgQUlTZXJ2aWNlKCk7ICIsImltcG9ydCB7IHN0b3JhZ2UgfSBmcm9tICcuLi91dGlscy9zdG9yYWdlJztcbmltcG9ydCB7IGFpU2VydmljZSB9IGZyb20gJy4uL3V0aWxzL2FpJztcbmltcG9ydCB7IFNhdmVkTGluayB9IGZyb20gJy4uL3R5cGVzJztcblxuLy8gSW5pdGlhbGl6ZSBleHRlbnNpb25cbmNocm9tZS5ydW50aW1lLm9uSW5zdGFsbGVkLmFkZExpc3RlbmVyKCgpID0+IHtcbiAgLy8gQ3JlYXRlIGNvbnRleHQgbWVudVxuICBjaHJvbWUuY29udGV4dE1lbnVzLmNyZWF0ZSh7XG4gICAgaWQ6ICdzYXZlVG9OZXN0JyxcbiAgICB0aXRsZTogJ1NhdmUgdG8gTmVzdCcsXG4gICAgY29udGV4dHM6IFsncGFnZScsICdsaW5rJ11cbiAgfSk7XG5cbiAgY29uc29sZS5sb2coJ05lc3QgZXh0ZW5zaW9uIGluc3RhbGxlZCcpO1xufSk7XG5cbi8vIEhhbmRsZSBjb250ZXh0IG1lbnUgY2xpY2tzXG5jaHJvbWUuY29udGV4dE1lbnVzLm9uQ2xpY2tlZC5hZGRMaXN0ZW5lcihhc3luYyAoaW5mbywgdGFiKSA9PiB7XG4gIGlmIChpbmZvLm1lbnVJdGVtSWQgPT09ICdzYXZlVG9OZXN0JyAmJiB0YWIpIHtcbiAgICBhd2FpdCBzYXZlQ3VycmVudFBhZ2UodGFiLCBpbmZvLmxpbmtVcmwpO1xuICB9XG59KTtcblxuLy8gSGFuZGxlIGJyb3dzZXIgYWN0aW9uIGNsaWNrcyAodGhpcyB3b24ndCBmaXJlIGlmIHRoZXJlJ3MgYSBwb3B1cCwgYnV0IGtlZXBpbmcgZm9yIHJlZmVyZW5jZSlcbmNocm9tZS5hY3Rpb24ub25DbGlja2VkLmFkZExpc3RlbmVyKGFzeW5jICh0YWIpID0+IHtcbiAgLy8gVGhpcyBoYW5kbGVyIHdvbid0IGZpcmUgd2hlbiBhIHBvcHVwIGlzIGRlZmluZWQgaW4gdGhlIG1hbmlmZXN0XG4gIC8vIFRoZSBwb3B1cCB3aWxsIGhhbmRsZSBvcGVuaW5nIHRoZSBzaWRlIHBhbmVsIGluc3RlYWRcbiAgY29uc29sZS5sb2coJ0FjdGlvbiBjbGlja2VkLCBidXQgcG9wdXAgc2hvdWxkIGhhbmRsZSB0aGlzJyk7XG59KTtcblxuLy8gSGFuZGxlIG1lc3NhZ2VzIGZyb20gY29udGVudCBzY3JpcHQgYW5kIHBvcHVwXG5jaHJvbWUucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoKHJlcXVlc3QsIHNlbmRlciwgc2VuZFJlc3BvbnNlKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdCYWNrZ3JvdW5kOiBNZXNzYWdlIHJlY2VpdmVkOicsIHJlcXVlc3QpO1xuICBcbiAgKGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHJlcXVlc3QuYWN0aW9uID09PSAnc2F2ZUN1cnJlbnRQYWdlJykge1xuICAgICAgICBjb25zdCB0YWJzID0gYXdhaXQgY2hyb21lLnRhYnMucXVlcnkoeyBhY3RpdmU6IHRydWUsIGN1cnJlbnRXaW5kb3c6IHRydWUgfSk7XG4gICAgICAgIGlmICh0YWJzWzBdKSB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2F2ZUN1cnJlbnRQYWdlKHRhYnNbMF0pO1xuICAgICAgICAgIHNlbmRSZXNwb25zZShyZXN1bHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbmRSZXNwb25zZSh7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ05vIGFjdGl2ZSB0YWIgZm91bmQuJyB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChyZXF1ZXN0LmFjdGlvbiA9PT0gJ2dldFBhZ2VDb250ZW50Jykge1xuICAgICAgICBpZiAoc2VuZGVyLnRhYiAmJiBzZW5kZXIudGFiLmlkKSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZXRQYWdlQ29udGVudChzZW5kZXIudGFiLmlkKTtcbiAgICAgICAgICBzZW5kUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbmRSZXNwb25zZSh7IGNvbnRlbnQ6ICcnIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZW5kUmVzcG9uc2UoeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdVbmtub3duIGFjdGlvbicgfSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0JhY2tncm91bmQgc2NyaXB0IGVycm9yOicsIGVycm9yKTtcbiAgICAgIHNlbmRSZXNwb25zZSh7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogKGVycm9yIGFzIEVycm9yKS5tZXNzYWdlIH0pO1xuICAgIH1cbiAgfSkoKTtcbiAgXG4gIHJldHVybiB0cnVlOyAvLyBLZWVwIG1lc3NhZ2UgY2hhbm5lbCBvcGVuIGZvciBhc3luYyByZXNwb25zZVxufSk7XG5cbmFzeW5jIGZ1bmN0aW9uIHNhdmVDdXJyZW50UGFnZSh0YWI6IGNocm9tZS50YWJzLlRhYiwgbGlua1VybD86IHN0cmluZyk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBlcnJvcj86IHN0cmluZyB9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXJsID0gbGlua1VybCB8fCB0YWIudXJsO1xuICAgIGNvbnN0IHRpdGxlID0gdGFiLnRpdGxlIHx8ICdVbnRpdGxlZCc7XG4gICAgXG4gICAgaWYgKCF1cmwgfHwgdXJsLnN0YXJ0c1dpdGgoJ2Nocm9tZTovLycpIHx8IHVybC5zdGFydHNXaXRoKCdjaHJvbWUtZXh0ZW5zaW9uOi8vJykpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0Nhbm5vdCBzYXZlIHRoaXMgdHlwZSBvZiBwYWdlLicgfTtcbiAgICB9XG5cbiAgICBsZXQgcGFnZUNvbnRlbnQgPSAnJztcbiAgICBpZiAodGFiLmlkKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNocm9tZS50YWJzLnNlbmRNZXNzYWdlKHRhYi5pZCwgeyBhY3Rpb246ICdnZXRQYWdlQ29udGVudCcgfSk7XG4gICAgICAgIHBhZ2VDb250ZW50ID0gcmVzcG9uc2U/LmNvbnRlbnQgfHwgJyc7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZygnQ291bGQgbm90IGV4dHJhY3QgcGFnZSBjb250ZW50OicsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBkb21haW4gPSBuZXcgVVJMKHVybCkuaG9zdG5hbWU7XG4gICAgY29uc3QgYWlTdW1tYXJ5ID0gYXdhaXQgYWlTZXJ2aWNlLmdlbmVyYXRlU3VtbWFyeShwYWdlQ29udGVudCwgdGl0bGUsIHVybCk7XG5cbiAgICBjb25zdCBuZXdMaW5rID0ge1xuICAgICAgdXJsLFxuICAgICAgdGl0bGUsXG4gICAgICBmYXZpY29uOiB0YWIuZmF2SWNvblVybCB8fCBgaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9zMi9mYXZpY29ucz9kb21haW49JHtkb21haW59JnN6PTMyYCxcbiAgICAgIHVzZXJOb3RlOiAnJyxcbiAgICAgIGFpU3VtbWFyeSxcbiAgICAgIGNhdGVnb3J5OiAnZ2VuZXJhbCcsXG4gICAgICBkb21haW46IGRvbWFpbixcbiAgICB9O1xuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3RvcmFnZS5hZGRMaW5rKG5ld0xpbmspO1xuXG4gICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5lcnJvciB8fCAnRmFpbGVkIHRvIHNhdmUgbGluayB0byBkYXRhYmFzZS4nKTtcbiAgICB9XG5cbiAgICBjaHJvbWUubm90aWZpY2F0aW9ucy5jcmVhdGUoe1xuICAgICAgdHlwZTogJ2Jhc2ljJyxcbiAgICAgIGljb25Vcmw6ICdpY29ucy9pY29uNDgucG5nJyxcbiAgICAgIHRpdGxlOiAnU2F2ZWQgdG8gTmVzdCcsXG4gICAgICBtZXNzYWdlOiBgXCIke3RpdGxlfVwiIGhhcyBiZWVuIHNhdmVkLmBcbiAgICB9KTtcblxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2F2ZSBwYWdlOicsIGVycm9yKTtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAoZXJyb3IgYXMgRXJyb3IpLm1lc3NhZ2UgfHwgJ0FuIHVua25vd24gZXJyb3Igb2NjdXJyZWQuJztcbiAgICBjaHJvbWUubm90aWZpY2F0aW9ucy5jcmVhdGUoe1xuICAgICAgdHlwZTogJ2Jhc2ljJyxcbiAgICAgIGljb25Vcmw6ICdpY29ucy9pY29uNDgucG5nJyxcbiAgICAgIHRpdGxlOiAnTmVzdCBFcnJvcicsXG4gICAgICBtZXNzYWdlOiBgRmFpbGVkIHRvIHNhdmUgcGFnZTogJHtlcnJvck1lc3NhZ2V9YFxuICAgIH0pO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3JNZXNzYWdlIH07XG4gIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0UGFnZUNvbnRlbnQodGFiSWQ6IG51bWJlcik6IFByb21pc2U8eyBjb250ZW50OiBzdHJpbmcgfT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgY2hyb21lLnRhYnMuc2VuZE1lc3NhZ2UodGFiSWQsIHsgYWN0aW9uOiAnZ2V0UGFnZUNvbnRlbnQnIH0pO1xuICAgIHJldHVybiByZXNwb25zZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZ2V0IHBhZ2UgY29udGVudDonLCBlcnJvcik7XG4gICAgcmV0dXJuIHsgY29udGVudDogJycgfTtcbiAgfVxufVxuXG4vLyBIYW5kbGUga2V5Ym9hcmQgc2hvcnRjdXRzIChpZiBjb25maWd1cmVkIGluIG1hbmlmZXN0KVxuY2hyb21lLmNvbW1hbmRzLm9uQ29tbWFuZC5hZGRMaXN0ZW5lcihhc3luYyAoY29tbWFuZCkgPT4ge1xuICBpZiAoY29tbWFuZCA9PT0gJ3NhdmUtcGFnZScpIHtcbiAgICBjb25zdCB0YWJzID0gYXdhaXQgY2hyb21lLnRhYnMucXVlcnkoeyBhY3RpdmU6IHRydWUsIGN1cnJlbnRXaW5kb3c6IHRydWUgfSk7XG4gICAgaWYgKHRhYnNbMF0pIHtcbiAgICAgIGF3YWl0IHNhdmVDdXJyZW50UGFnZSh0YWJzWzBdKTtcbiAgICB9XG4gIH1cbn0pOyAiXSwibmFtZXMiOlsiRnVuY3Rpb25SZWdpb24iLCJfX2ltcG9ydERlZmF1bHQiLCJ0aGlzIiwibW9kIiwiX19lc01vZHVsZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiUG9zdGdyZXN0RmlsdGVyQnVpbGRlcl8xIiwiY29uc3RydWN0b3IiLCJ1cmwiLCJoZWFkZXJzIiwic2NoZW1hIiwiZmV0Y2giLCJzZWxlY3QiLCJjb2x1bW5zIiwiaGVhZCIsImNvdW50IiwibWV0aG9kIiwicXVvdGVkIiwiY2xlYW5lZENvbHVtbnMiLCJzcGxpdCIsIm1hcCIsImMiLCJ0ZXN0Iiwiam9pbiIsInNlYXJjaFBhcmFtcyIsInNldCIsImRlZmF1bHQiLCJhbGxvd0VtcHR5IiwiaW5zZXJ0IiwidmFsdWVzIiwiZGVmYXVsdFRvTnVsbCIsInByZWZlcnNIZWFkZXJzIiwicHVzaCIsIkFycmF5IiwiaXNBcnJheSIsInJlZHVjZSIsImFjYyIsIngiLCJjb25jYXQiLCJrZXlzIiwibGVuZ3RoIiwidW5pcXVlQ29sdW1ucyIsIlNldCIsImNvbHVtbiIsImJvZHkiLCJ1cHNlcnQiLCJvbkNvbmZsaWN0IiwiaWdub3JlRHVwbGljYXRlcyIsInVuZGVmaW5lZCIsInVwZGF0ZSIsInVuc2hpZnQiLCJQb3N0Z3Jlc3RCdWlsZGVyXzEiLCJQb3N0Z3Jlc3RUcmFuc2Zvcm1CdWlsZGVyIiwib3JkZXIiLCJhc2NlbmRpbmciLCJudWxsc0ZpcnN0IiwiZm9yZWlnblRhYmxlIiwicmVmZXJlbmNlZFRhYmxlIiwia2V5IiwiZXhpc3RpbmdPcmRlciIsImdldCIsImxpbWl0IiwicmFuZ2UiLCJmcm9tIiwidG8iLCJrZXlPZmZzZXQiLCJrZXlMaW1pdCIsImFib3J0U2lnbmFsIiwic2lnbmFsIiwic2luZ2xlIiwibWF5YmVTaW5nbGUiLCJpc01heWJlU2luZ2xlIiwiY3N2IiwiZ2VvanNvbiIsImV4cGxhaW4iLCJhbmFseXplIiwidmVyYm9zZSIsInNldHRpbmdzIiwiYnVmZmVycyIsIndhbCIsImZvcm1hdCIsIl9hIiwib3B0aW9ucyIsImZpbHRlciIsIkJvb2xlYW4iLCJmb3JNZWRpYXR5cGUiLCJyb2xsYmFjayIsInRyaW0iLCJyZXR1cm5zIiwiUG9zdGdyZXN0RXJyb3IiLCJQb3N0Z3Jlc3RCdWlsZGVyIiwiUG9zdGdyZXN0RmlsdGVyQnVpbGRlciIsIlBvc3RncmVzdFF1ZXJ5QnVpbGRlciIsIlBvc3RncmVzdENsaWVudCIsIlBvc3RncmVzdENsaWVudF8xIiwiUG9zdGdyZXN0UXVlcnlCdWlsZGVyXzEiLCJQb3N0Z3Jlc3RUcmFuc2Zvcm1CdWlsZGVyXzEiLCJQb3N0Z3Jlc3RFcnJvcl8xIiwiY29uc3RhbnRzXzEiLCJhc3NpZ24iLCJERUZBVUxUX0hFQURFUlMiLCJzY2hlbWFOYW1lIiwicmVsYXRpb24iLCJVUkwiLCJycGMiLCJmbiIsImFyZ3MiLCJlbnRyaWVzIiwiXyIsIm5hbWUiLCJmb3JFYWNoIiwiYXBwZW5kIiwidmVyc2lvbiIsInZlcnNpb25fMSIsIm5vZGVfZmV0Y2hfMSIsImJ1aWxkZXIiLCJzaG91bGRUaHJvd09uRXJyb3IiLCJ0aHJvd09uRXJyb3IiLCJzZXRIZWFkZXIiLCJ0aGVuIiwib25mdWxmaWxsZWQiLCJvbnJlamVjdGVkIiwiaW5jbHVkZXMiLCJyZXMiLCJfZmV0Y2giLCJ0b1N0cmluZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJhc3luYyIsIl9iIiwiX2MiLCJlcnJvciIsImRhdGEiLCJzdGF0dXMiLCJzdGF0dXNUZXh0Iiwib2siLCJ0ZXh0IiwicGFyc2UiLCJjb3VudEhlYWRlciIsIm1hdGNoIiwiY29udGVudFJhbmdlIiwicGFyc2VJbnQiLCJjb2RlIiwiZGV0YWlscyIsImhpbnQiLCJtZXNzYWdlIiwiX2QiLCJjYXRjaCIsImZldGNoRXJyb3IiLCJzdGFjayIsIm92ZXJyaWRlVHlwZXMiLCJFcnJvciIsImNvbnRleHQiLCJzdXBlciIsImVxIiwibmVxIiwiZ3QiLCJndGUiLCJsdCIsImx0ZSIsImxpa2UiLCJwYXR0ZXJuIiwibGlrZUFsbE9mIiwicGF0dGVybnMiLCJsaWtlQW55T2YiLCJpbGlrZSIsImlsaWtlQWxsT2YiLCJpbGlrZUFueU9mIiwiaXMiLCJjbGVhbmVkVmFsdWVzIiwicyIsIlJlZ0V4cCIsImNvbnRhaW5zIiwiY29udGFpbmVkQnkiLCJyYW5nZUd0IiwicmFuZ2VHdGUiLCJyYW5nZUx0IiwicmFuZ2VMdGUiLCJyYW5nZUFkamFjZW50Iiwib3ZlcmxhcHMiLCJ0ZXh0U2VhcmNoIiwicXVlcnkiLCJjb25maWciLCJ0eXBlIiwidHlwZVBhcnQiLCJjb25maWdQYXJ0Iiwibm90Iiwib3BlcmF0b3IiLCJvciIsImZpbHRlcnMiLCJnbG9iYWxPYmplY3QiLCJzZWxmIiwid2luZG93IiwiZyIsImdldEdsb2JhbCIsImJpbmQiLCJIZWFkZXJzIiwiUmVxdWVzdCIsIlJlc3BvbnNlIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImNhbGwiLCJkIiwiZGVmaW5pdGlvbiIsIm8iLCJlbnVtZXJhYmxlIiwiZ2xvYmFsVGhpcyIsIkZ1bmN0aW9uIiwiZSIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsIkZ1bmN0aW9uc0Vycm9yIiwiRnVuY3Rpb25zRmV0Y2hFcnJvciIsIkZ1bmN0aW9uc1JlbGF5RXJyb3IiLCJGdW5jdGlvbnNIdHRwRXJyb3IiLCJGdW5jdGlvbnNDbGllbnQiLCJjdXN0b21GZXRjaCIsInJlZ2lvbiIsIkFueSIsInJlc29sdmVGZXRjaCIsInNldEF1dGgiLCJ0b2tlbiIsIkF1dGhvcml6YXRpb24iLCJpbnZva2UiLCJmdW5jdGlvbk5hbWUiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsIlAiLCJnZW5lcmF0b3IiLCJmdW5jdGlvbkFyZ3MiLCJfaGVhZGVycyIsIkJsb2IiLCJBcnJheUJ1ZmZlciIsIkZvcm1EYXRhIiwicmVzcG9uc2UiLCJpc1JlbGF5RXJyb3IiLCJyZXNwb25zZVR5cGUiLCJqc29uIiwiYmxvYiIsImZvcm1EYXRhIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJzdGVwIiwibmV4dCIsInJlamVjdGVkIiwicmVzdWx0IiwiZG9uZSIsImFwcGx5IiwiV2ViU29ja2V0IiwiZ2xvYmFsIiwiZ2V0TmF0aXZlV2ViU29ja2V0IiwiU09DS0VUX1NUQVRFUyIsIkNIQU5ORUxfRVZFTlRTIiwiVFJBTlNQT1JUUyIsIkNPTk5FQ1RJT05fU1RBVEUiLCJQb3N0Z3Jlc1R5cGVzIiwiQ0hBTk5FTF9TVEFURVMiLCJTZXJpYWxpemVyIiwiSEVBREVSX0xFTkdUSCIsImRlY29kZSIsInJhd1BheWxvYWQiLCJjYWxsYmFjayIsIl9iaW5hcnlEZWNvZGUiLCJidWZmZXIiLCJ2aWV3IiwiRGF0YVZpZXciLCJkZWNvZGVyIiwiVGV4dERlY29kZXIiLCJfZGVjb2RlQnJvYWRjYXN0IiwidG9waWNTaXplIiwiZ2V0VWludDgiLCJldmVudFNpemUiLCJvZmZzZXQiLCJ0b3BpYyIsInNsaWNlIiwiZXZlbnQiLCJyZWYiLCJwYXlsb2FkIiwiYnl0ZUxlbmd0aCIsIlRpbWVyIiwidGltZXJDYWxjIiwidGltZXIiLCJ0cmllcyIsInJlc2V0IiwiY2xlYXJUaW1lb3V0Iiwic2NoZWR1bGVUaW1lb3V0Iiwic2V0VGltZW91dCIsImNvbnZlcnRDaGFuZ2VEYXRhIiwicmVjb3JkIiwic2tpcFR5cGVzIiwicmVjX2tleSIsImNvbnZlcnRDb2x1bW4iLCJjb2x1bW5OYW1lIiwiZmluZCIsImNvbFR5cGUiLCJjb252ZXJ0Q2VsbCIsIm5vb3AiLCJjaGFyQXQiLCJkYXRhVHlwZSIsInRvQXJyYXkiLCJib29sIiwidG9Cb29sZWFuIiwiZmxvYXQ0IiwiZmxvYXQ4IiwiaW50MiIsImludDQiLCJpbnQ4IiwibnVtZXJpYyIsIm9pZCIsInRvTnVtYmVyIiwianNvbmIiLCJ0b0pzb24iLCJ0aW1lc3RhbXAiLCJ0b1RpbWVzdGFtcFN0cmluZyIsImFic3RpbWUiLCJkYXRlIiwiZGF0ZXJhbmdlIiwiaW50NHJhbmdlIiwiaW50OHJhbmdlIiwibW9uZXkiLCJyZWx0aW1lIiwidGltZSIsInRpbWVzdGFtcHR6IiwidGltZXR6IiwidHNyYW5nZSIsInRzdHpyYW5nZSIsInBhcnNlZFZhbHVlIiwicGFyc2VGbG9hdCIsIk51bWJlciIsImlzTmFOIiwiY29uc29sZSIsImxvZyIsImxhc3RJZHgiLCJjbG9zZUJyYWNlIiwiYXJyIiwidmFsVHJpbSIsInZhbCIsInJlcGxhY2UiLCJodHRwRW5kcG9pbnRVUkwiLCJzb2NrZXRVcmwiLCJQdXNoIiwiY2hhbm5lbCIsInRpbWVvdXQiLCJzZW50IiwidGltZW91dFRpbWVyIiwicmVjZWl2ZWRSZXNwIiwicmVjSG9va3MiLCJyZWZFdmVudCIsInJlc2VuZCIsIl9jYW5jZWxSZWZFdmVudCIsInNlbmQiLCJfaGFzUmVjZWl2ZWQiLCJzdGFydFRpbWVvdXQiLCJzb2NrZXQiLCJqb2luX3JlZiIsIl9qb2luUmVmIiwidXBkYXRlUGF5bG9hZCIsInJlY2VpdmUiLCJfbWFrZVJlZiIsIl9yZXBseUV2ZW50TmFtZSIsIl9vbiIsIl9jYW5jZWxUaW1lb3V0IiwiX21hdGNoUmVjZWl2ZSIsInRyaWdnZXIiLCJfdHJpZ2dlciIsImRlc3Ryb3kiLCJfb2ZmIiwiaCIsIlJFQUxUSU1FX1BSRVNFTkNFX0xJU1RFTl9FVkVOVFMiLCJSRUFMVElNRV9QT1NUR1JFU19DSEFOR0VTX0xJU1RFTl9FVkVOVCIsIlJFQUxUSU1FX0xJU1RFTl9UWVBFUyIsIlJFQUxUSU1FX1NVQlNDUklCRV9TVEFURVMiLCJSZWFsdGltZVByZXNlbmNlIiwib3B0cyIsInN0YXRlIiwicGVuZGluZ0RpZmZzIiwiam9pblJlZiIsImNhbGxlciIsIm9uSm9pbiIsIm9uTGVhdmUiLCJvblN5bmMiLCJldmVudHMiLCJkaWZmIiwibmV3U3RhdGUiLCJzeW5jU3RhdGUiLCJzeW5jRGlmZiIsImluUGVuZGluZ1N5bmNTdGF0ZSIsImN1cnJlbnRQcmVzZW5jZXMiLCJuZXdQcmVzZW5jZXMiLCJsZWZ0UHJlc2VuY2VzIiwiY3VycmVudFN0YXRlIiwiY2xvbmVEZWVwIiwidHJhbnNmb3JtZWRTdGF0ZSIsInRyYW5zZm9ybVN0YXRlIiwiam9pbnMiLCJsZWF2ZXMiLCJwcmVzZW5jZXMiLCJuZXdQcmVzZW5jZVJlZnMiLCJtIiwicHJlc2VuY2VfcmVmIiwiY3VyUHJlc2VuY2VSZWZzIiwiam9pbmVkUHJlc2VuY2VzIiwiaW5kZXhPZiIsImpvaW5lZFByZXNlbmNlUmVmcyIsImN1clByZXNlbmNlcyIsInByZXNlbmNlUmVmc1RvUmVtb3ZlIiwiZnVuYyIsImdldE93blByb3BlcnR5TmFtZXMiLCJtZXRhcyIsInByZXNlbmNlIiwiUmVhbHRpbWVDaGFubmVsIiwicGFyYW1zIiwiYmluZGluZ3MiLCJjbG9zZWQiLCJqb2luZWRPbmNlIiwicHVzaEJ1ZmZlciIsInN1YlRvcGljIiwiYnJvYWRjYXN0IiwiYWNrIiwicHJpdmF0ZSIsImpvaW5QdXNoIiwicmVqb2luVGltZXIiLCJfcmVqb2luVW50aWxDb25uZWN0ZWQiLCJyZWNvbm5lY3RBZnRlck1zIiwiam9pbmVkIiwicHVzaEV2ZW50IiwiX29uQ2xvc2UiLCJfcmVtb3ZlIiwiX29uRXJyb3IiLCJyZWFzb24iLCJfaXNMZWF2aW5nIiwiX2lzQ2xvc2VkIiwiZXJyb3JlZCIsIl9pc0pvaW5pbmciLCJyZXBseSIsImJyb2FkY2FzdEVuZHBvaW50VVJMIiwiZW5kUG9pbnQiLCJzdWJzY3JpYmUiLCJpc0Nvbm5lY3RlZCIsImNvbm5lY3QiLCJpc1ByaXZhdGUiLCJDSEFOTkVMX0VSUk9SIiwiQ0xPU0VEIiwiYWNjZXNzVG9rZW5QYXlsb2FkIiwicG9zdGdyZXNfY2hhbmdlcyIsImFjY2Vzc1Rva2VuVmFsdWUiLCJhY2Nlc3NfdG9rZW4iLCJ1cGRhdGVKb2luUGF5bG9hZCIsIl9yZWpvaW4iLCJjbGllbnRQb3N0Z3Jlc0JpbmRpbmdzIiwiYmluZGluZ3NMZW4iLCJuZXdQb3N0Z3Jlc0JpbmRpbmdzIiwiaSIsImNsaWVudFBvc3RncmVzQmluZGluZyIsInRhYmxlIiwic2VydmVyUG9zdGdyZXNGaWx0ZXIiLCJ1bnN1YnNjcmliZSIsImlkIiwiU1VCU0NSSUJFRCIsIlRJTUVEX09VVCIsInByZXNlbmNlU3RhdGUiLCJ0cmFjayIsInVudHJhY2siLCJvbiIsIl9jYW5QdXNoIiwiX3B1c2giLCJlbmRwb2ludF9wYXlsb2FkIiwiYXBpa2V5IiwiYXBpS2V5IiwibWVzc2FnZXMiLCJfZmV0Y2hXaXRoVGltZW91dCIsImNhbmNlbCIsImxlYXZpbmciLCJvbkNsb3NlIiwiY2xvc2UiLCJsZWF2ZVB1c2giLCJsZWF2ZSIsImZpbmFsbHkiLCJ0ZWFyZG93biIsImNvbnRyb2xsZXIiLCJBYm9ydENvbnRyb2xsZXIiLCJhYm9ydCIsIl9vbk1lc3NhZ2UiLCJfZXZlbnQiLCJfcmVmIiwiX2lzTWVtYmVyIiwidHlwZUxvd2VyIiwidG9Mb2NhbGVMb3dlckNhc2UiLCJoYW5kbGVkUGF5bG9hZCIsIl9lIiwiX2YiLCJiaW5kSWQiLCJiaW5kRXZlbnQiLCJpZHMiLCJwb3N0Z3Jlc0NoYW5nZXMiLCJjb21taXRfdGltZXN0YW1wIiwiZXJyb3JzIiwiZW5yaWNoZWRQYXlsb2FkIiwiZXZlbnRUeXBlIiwibmV3Iiwib2xkIiwiX2dldFBheWxvYWRSZWNvcmRzIiwiX2lzSm9pbmVkIiwiam9pbmluZyIsImJpbmRpbmciLCJpc0VxdWFsIiwib2JqMSIsIm9iajIiLCJrIiwiX2xlYXZlT3BlblRvcGljIiwicmVjb3JkcyIsIm9sZF9yZWNvcmQiLCJSZWFsdGltZUNsaWVudCIsImNoYW5uZWxzIiwiaHR0cEVuZHBvaW50IiwiaGVhcnRiZWF0SW50ZXJ2YWxNcyIsImhlYXJ0YmVhdFRpbWVyIiwicGVuZGluZ0hlYXJ0YmVhdFJlZiIsImhlYXJ0YmVhdENhbGxiYWNrIiwibG9nZ2VyIiwiY29ubiIsInNlbmRCdWZmZXIiLCJzZXJpYWxpemVyIiwic3RhdGVDaGFuZ2VDYWxsYmFja3MiLCJvcGVuIiwiYWNjZXNzVG9rZW4iLCJfcmVzb2x2ZUZldGNoIiwid2Vic29ja2V0IiwidHJhbnNwb3J0IiwibG9nTGV2ZWwiLCJsb2dfbGV2ZWwiLCJlbmNvZGUiLCJyZWNvbm5lY3RUaW1lciIsImRpc2Nvbm5lY3QiLCJ3b3JrZXIiLCJXb3JrZXIiLCJ3b3JrZXJVcmwiLCJlbmRwb2ludFVSTCIsInNldHVwQ29ubmVjdGlvbiIsIl9hcHBlbmRQYXJhbXMiLCJ2c24iLCJvbmNsb3NlIiwiY2xlYXJJbnRlcnZhbCIsImdldENoYW5uZWxzIiwicmVtb3ZlQ2hhbm5lbCIsInJlbW92ZUFsbENoYW5uZWxzIiwidmFsdWVzXzEiLCJhbGwiLCJraW5kIiwibXNnIiwiY29ubmVjdGlvblN0YXRlIiwicmVhZHlTdGF0ZSIsImNvbm5lY3RpbmciLCJDb25uZWN0aW5nIiwiT3BlbiIsImNsb3NpbmciLCJDbG9zaW5nIiwiQ2xvc2VkIiwicmVhbHRpbWVUb3BpYyIsImV4aXN0cyIsImNoYW4iLCJ0b2tlblRvU2VuZCIsInNlbmRIZWFydGJlYXQiLCJvbkhlYXJ0YmVhdCIsImZsdXNoU2VuZEJ1ZmZlciIsIm5ld1JlZiIsImR1cENoYW5uZWwiLCJiaW5hcnlUeXBlIiwib25vcGVuIiwiX29uQ29ubk9wZW4iLCJvbmVycm9yIiwiX29uQ29ubkVycm9yIiwib25tZXNzYWdlIiwiX29uQ29ubk1lc3NhZ2UiLCJfb25Db25uQ2xvc2UiLCJyYXdNZXNzYWdlIiwid29ya2VyUmVmIiwiX3N0YXJ0V29ya2VySGVhcnRiZWF0IiwiX3N0YXJ0SGVhcnRiZWF0Iiwic2V0SW50ZXJ2YWwiLCJvYmplY3RVcmwiLCJfd29ya2VyT2JqZWN0VXJsIiwidGVybWluYXRlIiwicG9zdE1lc3NhZ2UiLCJpbnRlcnZhbCIsIl90cmlnZ2VyQ2hhbkVycm9yIiwicHJlZml4IiwiVVJMU2VhcmNoUGFyYW1zIiwicmVzdWx0X3VybCIsImNyZWF0ZU9iamVjdFVSTCIsIlN0b3JhZ2VFcnJvciIsIl9faXNTdG9yYWdlRXJyb3IiLCJpc1N0b3JhZ2VFcnJvciIsIlN0b3JhZ2VBcGlFcnJvciIsInRvSlNPTiIsIlN0b3JhZ2VVbmtub3duRXJyb3IiLCJvcmlnaW5hbEVycm9yIiwicmVjdXJzaXZlVG9DYW1lbCIsIml0ZW0iLCJlbCIsIm5ld0tleSIsInRvVXBwZXJDYXNlIiwiX2dldEVycm9yTWVzc2FnZSIsImVyciIsImVycm9yX2Rlc2NyaXB0aW9uIiwiaGFuZGxlRXJyb3IiLCJSZXMiLCJub1Jlc29sdmVKc29uIiwiX2hhbmRsZVJlcXVlc3QiLCJmZXRjaGVyIiwicGFyYW1ldGVycyIsIl9nZXRSZXF1ZXN0UGFyYW1zIiwicG9zdCIsInJlbW92ZSIsIkRFRkFVTFRfU0VBUkNIX09QVElPTlMiLCJzb3J0QnkiLCJERUZBVUxUX0ZJTEVfT1BUSU9OUyIsImNhY2hlQ29udHJvbCIsImNvbnRlbnRUeXBlIiwiU3RvcmFnZUZpbGVBcGkiLCJidWNrZXRJZCIsInVwbG9hZE9yVXBkYXRlIiwicGF0aCIsImZpbGVCb2R5IiwiZmlsZU9wdGlvbnMiLCJTdHJpbmciLCJtZXRhZGF0YSIsImVuY29kZU1ldGFkYXRhIiwidG9CYXNlNjQiLCJjbGVhblBhdGgiLCJfcmVtb3ZlRW1wdHlGb2xkZXJzIiwiX3BhdGgiLCJfZ2V0RmluYWxQYXRoIiwiZHVwbGV4IiwiSWQiLCJmdWxsUGF0aCIsIktleSIsInVwbG9hZCIsInVwbG9hZFRvU2lnbmVkVXJsIiwiY3JlYXRlU2lnbmVkVXBsb2FkVXJsIiwic2lnbmVkVXJsIiwibW92ZSIsImZyb21QYXRoIiwidG9QYXRoIiwic291cmNlS2V5IiwiZGVzdGluYXRpb25LZXkiLCJkZXN0aW5hdGlvbkJ1Y2tldCIsImNvcHkiLCJjcmVhdGVTaWduZWRVcmwiLCJleHBpcmVzSW4iLCJ0cmFuc2Zvcm0iLCJkb3dubG9hZFF1ZXJ5UGFyYW0iLCJkb3dubG9hZCIsImVuY29kZVVSSSIsInNpZ25lZFVSTCIsImNyZWF0ZVNpZ25lZFVybHMiLCJwYXRocyIsImRhdHVtIiwicmVuZGVyUGF0aCIsInRyYW5zZm9ybWF0aW9uUXVlcnkiLCJ0cmFuc2Zvcm1PcHRzVG9RdWVyeVN0cmluZyIsInF1ZXJ5U3RyaW5nIiwiaW5mbyIsImdldFB1YmxpY1VybCIsIl9xdWVyeVN0cmluZyIsInB1YmxpY1VybCIsInByZWZpeGVzIiwibGlzdCIsIkJ1ZmZlciIsImJ0b2EiLCJ3aWR0aCIsImhlaWdodCIsInJlc2l6ZSIsInF1YWxpdHkiLCJTdG9yYWdlQnVja2V0QXBpIiwibGlzdEJ1Y2tldHMiLCJnZXRCdWNrZXQiLCJjcmVhdGVCdWNrZXQiLCJwdWJsaWMiLCJmaWxlX3NpemVfbGltaXQiLCJmaWxlU2l6ZUxpbWl0IiwiYWxsb3dlZF9taW1lX3R5cGVzIiwiYWxsb3dlZE1pbWVUeXBlcyIsInVwZGF0ZUJ1Y2tldCIsInB1dCIsImVtcHR5QnVja2V0IiwiZGVsZXRlQnVja2V0IiwiU3RvcmFnZUNsaWVudCIsIkpTX0VOViIsIkRlbm8iLCJkb2N1bWVudCIsIm5hdmlnYXRvciIsInByb2R1Y3QiLCJERUZBVUxUX0dMT0JBTF9PUFRJT05TIiwiREVGQVVMVF9EQl9PUFRJT05TIiwiREVGQVVMVF9BVVRIX09QVElPTlMiLCJhdXRvUmVmcmVzaFRva2VuIiwicGVyc2lzdFNlc3Npb24iLCJkZXRlY3RTZXNzaW9uSW5VcmwiLCJmbG93VHlwZSIsIkRFRkFVTFRfUkVBTFRJTUVfT1BUSU9OUyIsImZldGNoV2l0aEF1dGgiLCJzdXBhYmFzZUtleSIsImdldEFjY2Vzc1Rva2VuIiwiSGVhZGVyc0NvbnN0cnVjdG9yIiwiaW5wdXQiLCJpbml0IiwiaGFzIiwiQVVUT19SRUZSRVNIX1RJQ0tfRFVSQVRJT05fTVMiLCJBUElfVkVSU0lPTl9IRUFERVJfTkFNRSIsIkFQSV9WRVJTSU9OUyIsIkRhdGUiLCJCQVNFNjRVUkxfUkVHRVgiLCJBdXRoRXJyb3IiLCJfX2lzQXV0aEVycm9yIiwiaXNBdXRoRXJyb3IiLCJBdXRoQXBpRXJyb3IiLCJBdXRoVW5rbm93bkVycm9yIiwiQ3VzdG9tQXV0aEVycm9yIiwiQXV0aFNlc3Npb25NaXNzaW5nRXJyb3IiLCJBdXRoSW52YWxpZFRva2VuUmVzcG9uc2VFcnJvciIsIkF1dGhJbnZhbGlkQ3JlZGVudGlhbHNFcnJvciIsIkF1dGhJbXBsaWNpdEdyYW50UmVkaXJlY3RFcnJvciIsIkF1dGhQS0NFR3JhbnRDb2RlRXhjaGFuZ2VFcnJvciIsIkF1dGhSZXRyeWFibGVGZXRjaEVycm9yIiwiaXNBdXRoUmV0cnlhYmxlRmV0Y2hFcnJvciIsIkF1dGhXZWFrUGFzc3dvcmRFcnJvciIsInJlYXNvbnMiLCJBdXRoSW52YWxpZEp3dEVycm9yIiwiVE9fQkFTRTY0VVJMIiwiSUdOT1JFX0JBU0U2NFVSTCIsIkZST01fQkFTRTY0VVJMIiwiY2hhck1hcCIsImNoYXJDb2RlQXQiLCJieXRlVG9CYXNlNjRVUkwiLCJieXRlIiwiZW1pdCIsInF1ZXVlIiwicXVldWVkQml0cyIsInBvcyIsImJ5dGVGcm9tQmFzZTY0VVJMIiwiY2hhckNvZGUiLCJiaXRzIiwiZnJvbUNoYXJDb2RlIiwic3RyaW5nRnJvbUJhc2U2NFVSTCIsInN0ciIsImNvbnYiLCJ1dGY4RW1pdCIsImNvZGVwb2ludCIsImZyb21Db2RlUG9pbnQiLCJ1dGY4U3RhdGUiLCJ1dGY4c2VxIiwiYjY0U3RhdGUiLCJieXRlRW1pdCIsImxlYWRpbmdCaXQiLCJzdHJpbmdGcm9tVVRGOCIsImNvZGVwb2ludFRvVVRGOCIsImJhc2U2NFVybFRvVWludDhBcnJheSIsIm9uQnl0ZSIsIlVpbnQ4QXJyYXkiLCJieXRlc1RvQmFzZTY0VVJMIiwiYnl0ZXMiLCJvbkNoYXIiLCJjaGFyIiwibG9jYWxTdG9yYWdlV3JpdGVUZXN0cyIsInRlc3RlZCIsIndyaXRhYmxlIiwic3VwcG9ydHNMb2NhbFN0b3JhZ2UiLCJsb2NhbFN0b3JhZ2UiLCJyYW5kb21LZXkiLCJNYXRoIiwicmFuZG9tIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJzZXRJdGVtQXN5bmMiLCJzdG9yYWdlIiwiZ2V0SXRlbUFzeW5jIiwiZ2V0SXRlbSIsInJlbW92ZUl0ZW1Bc3luYyIsIkRlZmVycmVkIiwicHJvbWlzZSIsInByb21pc2VDb25zdHJ1Y3RvciIsInJlaiIsImRlY29kZUpXVCIsInBhcnRzIiwiaGVhZGVyIiwic2lnbmF0dXJlIiwicmF3IiwiZGVjMmhleCIsImRlYyIsInN1YnN0ciIsImdldENvZGVDaGFsbGVuZ2VBbmRNZXRob2QiLCJzdG9yYWdlS2V5IiwiaXNQYXNzd29yZFJlY292ZXJ5IiwiY29kZVZlcmlmaWVyIiwiYXJyYXkiLCJVaW50MzJBcnJheSIsImNyeXB0byIsImNoYXJTZXQiLCJjaGFyU2V0TGVuIiwidmVyaWZpZXIiLCJmbG9vciIsImdldFJhbmRvbVZhbHVlcyIsImdlbmVyYXRlUEtDRVZlcmlmaWVyIiwic3RvcmVkQ29kZVZlcmlmaWVyIiwiY29kZUNoYWxsZW5nZSIsInN1YnRsZSIsIlRleHRFbmNvZGVyIiwid2FybiIsImhhc2hlZCIsInJhbmRvbVN0cmluZyIsImVuY29kZWREYXRhIiwiaGFzaCIsImRpZ2VzdCIsInNoYTI1NiIsImdlbmVyYXRlUEtDRUNoYWxsZW5nZSIsIkFQSV9WRVJTSU9OX1JFR0VYIiwiVVVJRF9SRUdFWCIsInZhbGlkYXRlVVVJRCIsIk5FVFdPUktfRVJST1JfQ09ERVMiLCJtYXliZVJlc3BvbnNlIiwiZXJyb3JDb2RlIiwicmVzcG9uc2VBUElWZXJzaW9uIiwiYXBpVmVyc2lvbiIsInBhcnNlUmVzcG9uc2VBUElWZXJzaW9uIiwiZ2V0VGltZSIsImVycm9yX2NvZGUiLCJ3ZWFrX3Bhc3N3b3JkIiwiYSIsIl9yZXF1ZXN0Iiwiand0IiwicXMiLCJyZWRpcmVjdFRvIiwicmVxdWVzdFBhcmFtcyIsInhmb3JtIiwiX3Nlc3Npb25SZXNwb25zZSIsInNlc3Npb24iLCJyZWZyZXNoX3Rva2VuIiwiZXhwaXJlc19pbiIsImhhc1Nlc3Npb24iLCJleHBpcmVzX2F0Iiwicm91bmQiLCJub3ciLCJ1c2VyIiwiX3Nlc3Npb25SZXNwb25zZVBhc3N3b3JkIiwiX3VzZXJSZXNwb25zZSIsIl9zc29SZXNwb25zZSIsIl9nZW5lcmF0ZUxpbmtSZXNwb25zZSIsImFjdGlvbl9saW5rIiwiZW1haWxfb3RwIiwiaGFzaGVkX3Rva2VuIiwicmVkaXJlY3RfdG8iLCJ2ZXJpZmljYXRpb25fdHlwZSIsInJlc3QiLCJ0IiwicCIsImdldE93blByb3BlcnR5U3ltYm9scyIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwiX19yZXN0IiwicHJvcGVydGllcyIsIl9ub1Jlc29sdmVKc29uUmVzcG9uc2UiLCJTSUdOX09VVF9TQ09QRVMiLCJtZmEiLCJsaXN0RmFjdG9ycyIsIl9saXN0RmFjdG9ycyIsImRlbGV0ZUZhY3RvciIsIl9kZWxldGVGYWN0b3IiLCJzaWduT3V0Iiwic2NvcGUiLCJpbnZpdGVVc2VyQnlFbWFpbCIsImVtYWlsIiwiZ2VuZXJhdGVMaW5rIiwibmV3X2VtYWlsIiwibmV3RW1haWwiLCJjcmVhdGVVc2VyIiwiYXR0cmlidXRlcyIsImxpc3RVc2VycyIsIl9nIiwicGFnaW5hdGlvbiIsIm5leHRQYWdlIiwibGFzdFBhZ2UiLCJ0b3RhbCIsInBhZ2UiLCJwZXJfcGFnZSIsInBlclBhZ2UiLCJ1c2VycyIsImxpbmtzIiwibGluayIsInN1YnN0cmluZyIsInJlbCIsImdldFVzZXJCeUlkIiwidWlkIiwidXBkYXRlVXNlckJ5SWQiLCJkZWxldGVVc2VyIiwic2hvdWxkU29mdERlbGV0ZSIsInNob3VsZF9zb2Z0X2RlbGV0ZSIsInVzZXJJZCIsImZhY3RvcnMiLCJsb2NhbFN0b3JhZ2VBZGFwdGVyIiwibWVtb3J5TG9jYWxTdG9yYWdlQWRhcHRlciIsInN0b3JlIiwiaW50ZXJuYWxzIiwiTG9ja0FjcXVpcmVUaW1lb3V0RXJyb3IiLCJpc0FjcXVpcmVUaW1lb3V0IiwiTmF2aWdhdG9yTG9ja0FjcXVpcmVUaW1lb3V0RXJyb3IiLCJuYXZpZ2F0b3JMb2NrIiwiYWNxdWlyZVRpbWVvdXQiLCJhYm9ydENvbnRyb2xsZXIiLCJsb2NrcyIsInJlcXVlc3QiLCJtb2RlIiwiaWZBdmFpbGFibGUiLCJsb2NrIiwiY29uZmlndXJhYmxlIiwiX19tYWdpY19fIiwicG9seWZpbGxHbG9iYWxUaGlzIiwiREVGQVVMVF9PUFRJT05TIiwiZGVidWciLCJoYXNDdXN0b21BdXRob3JpemF0aW9uSGVhZGVyIiwibG9ja05vT3AiLCJHb1RydWVDbGllbnQiLCJtZW1vcnlTdG9yYWdlIiwic3RhdGVDaGFuZ2VFbWl0dGVycyIsIk1hcCIsImF1dG9SZWZyZXNoVGlja2VyIiwidmlzaWJpbGl0eUNoYW5nZWRDYWxsYmFjayIsInJlZnJlc2hpbmdEZWZlcnJlZCIsImluaXRpYWxpemVQcm9taXNlIiwic3VwcHJlc3NHZXRTZXNzaW9uV2FybmluZyIsImxvY2tBY3F1aXJlZCIsInBlbmRpbmdJbkxvY2siLCJicm9hZGNhc3RDaGFubmVsIiwiaW5zdGFuY2VJRCIsIm5leHRJbnN0YW5jZUlEIiwibG9nRGVidWdNZXNzYWdlcyIsImFkbWluIiwiandrcyIsImp3a3NfY2FjaGVkX2F0IiwiTUlOX1NBRkVfSU5URUdFUiIsInZlcmlmeSIsIl92ZXJpZnkiLCJlbnJvbGwiLCJfZW5yb2xsIiwidW5lbnJvbGwiLCJfdW5lbnJvbGwiLCJjaGFsbGVuZ2UiLCJfY2hhbGxlbmdlIiwiY2hhbGxlbmdlQW5kVmVyaWZ5IiwiX2NoYWxsZW5nZUFuZFZlcmlmeSIsImdldEF1dGhlbnRpY2F0b3JBc3N1cmFuY2VMZXZlbCIsIl9nZXRBdXRoZW50aWNhdG9yQXNzdXJhbmNlTGV2ZWwiLCJCcm9hZGNhc3RDaGFubmVsIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9kZWJ1ZyIsIl9ub3RpZnlBbGxTdWJzY3JpYmVycyIsImluaXRpYWxpemUiLCJ0b0lTT1N0cmluZyIsIl9hY3F1aXJlTG9jayIsIl9pbml0aWFsaXplIiwiaHJlZiIsInBhcnNlUGFyYW1ldGVyc0Zyb21VUkwiLCJsb2NhdGlvbiIsImNhbGxiYWNrVXJsVHlwZSIsIl9pc0ltcGxpY2l0R3JhbnRDYWxsYmFjayIsIl9pc1BLQ0VDYWxsYmFjayIsIl9nZXRTZXNzaW9uRnJvbVVSTCIsImlzQXV0aEltcGxpY2l0R3JhbnRSZWRpcmVjdEVycm9yIiwiX3JlbW92ZVNlc3Npb24iLCJyZWRpcmVjdFR5cGUiLCJfc2F2ZVNlc3Npb24iLCJfcmVjb3ZlckFuZFJlZnJlc2giLCJfaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSIsInNpZ25JbkFub255bW91c2x5IiwiY3JlZGVudGlhbHMiLCJnb3RydWVfbWV0YV9zZWN1cml0eSIsImNhcHRjaGFfdG9rZW4iLCJjYXB0Y2hhVG9rZW4iLCJzaWduVXAiLCJwYXNzd29yZCIsImNvZGVDaGFsbGVuZ2VNZXRob2QiLCJlbWFpbFJlZGlyZWN0VG8iLCJjb2RlX2NoYWxsZW5nZSIsImNvZGVfY2hhbGxlbmdlX21ldGhvZCIsInBob25lIiwic2lnbkluV2l0aFBhc3N3b3JkIiwid2Vha1Bhc3N3b3JkIiwic2lnbkluV2l0aE9BdXRoIiwiX2hhbmRsZVByb3ZpZGVyU2lnbkluIiwicHJvdmlkZXIiLCJzY29wZXMiLCJxdWVyeVBhcmFtcyIsInNraXBCcm93c2VyUmVkaXJlY3QiLCJleGNoYW5nZUNvZGVGb3JTZXNzaW9uIiwiYXV0aENvZGUiLCJfZXhjaGFuZ2VDb2RlRm9yU2Vzc2lvbiIsInNpZ25JbldpdGhXZWIzIiwiY2hhaW4iLCJzaWduSW5XaXRoU29sYW5hIiwiX2giLCJfaiIsIl9rIiwiX2wiLCJfbSIsIndhbGxldCIsInN0YXRlbWVudCIsInJlc29sdmVkV2FsbGV0Iiwid2luZG93QW55Iiwic29sYW5hIiwic2lnbkluIiwic2lnbk1lc3NhZ2UiLCJvdXRwdXQiLCJpc3N1ZWRBdCIsImRvbWFpbiIsImhvc3QiLCJ1cmkiLCJvdXRwdXRUb1Byb2Nlc3MiLCJzaWduZWRNZXNzYWdlIiwicHVibGljS2V5IiwidG9CYXNlNTgiLCJub3RCZWZvcmUiLCJleHBpcmF0aW9uVGltZSIsImNoYWluSWQiLCJub25jZSIsInJlcXVlc3RJZCIsInJlc291cmNlcyIsInJlc291cmNlIiwibWF5YmVTaWduYXR1cmUiLCJzdG9yYWdlSXRlbSIsImF1dGhfY29kZSIsImNvZGVfdmVyaWZpZXIiLCJzaWduSW5XaXRoSWRUb2tlbiIsImlkX3Rva2VuIiwic2lnbkluV2l0aE90cCIsImNyZWF0ZV91c2VyIiwic2hvdWxkQ3JlYXRlVXNlciIsIm1lc3NhZ2VJZCIsIm1lc3NhZ2VfaWQiLCJ2ZXJpZnlPdHAiLCJzaWduSW5XaXRoU1NPIiwicHJvdmlkZXJfaWQiLCJwcm92aWRlcklkIiwic2tpcF9odHRwX3JlZGlyZWN0IiwicmVhdXRoZW50aWNhdGUiLCJfcmVhdXRoZW50aWNhdGUiLCJfdXNlU2Vzc2lvbiIsInNlc3Npb25FcnJvciIsImVuZHBvaW50IiwiZ2V0U2Vzc2lvbiIsImxhc3QiLCJ3YWl0T24iLCJzcGxpY2UiLCJfX2xvYWRTZXNzaW9uIiwiY3VycmVudFNlc3Npb24iLCJtYXliZVNlc3Npb24iLCJfaXNWYWxpZFNlc3Npb24iLCJoYXNFeHBpcmVkIiwiQVVUT19SRUZSRVNIX1RJQ0tfVEhSRVNIT0xEIiwiaXNTZXJ2ZXIiLCJzdXBwcmVzc1dhcm5pbmciLCJQcm94eSIsInRhcmdldCIsInJlY2VpdmVyIiwiUmVmbGVjdCIsIl9jYWxsUmVmcmVzaFRva2VuIiwiZ2V0VXNlciIsIl9nZXRVc2VyIiwiaXNBdXRoU2Vzc2lvbk1pc3NpbmdFcnJvciIsInVwZGF0ZVVzZXIiLCJfdXBkYXRlVXNlciIsInNlc3Npb25EYXRhIiwidXNlckVycm9yIiwic2V0U2Vzc2lvbiIsIl9zZXRTZXNzaW9uIiwidGltZU5vdyIsImV4cGlyZXNBdCIsImV4cCIsInJlZnJlc2hlZFNlc3Npb24iLCJ0b2tlbl90eXBlIiwicmVmcmVzaFNlc3Npb24iLCJfcmVmcmVzaFNlc3Npb24iLCJkZWxldGUiLCJoaXN0b3J5IiwicmVwbGFjZVN0YXRlIiwicHJvdmlkZXJfdG9rZW4iLCJwcm92aWRlcl9yZWZyZXNoX3Rva2VuIiwiYWN0dWFsbHlFeHBpcmVzSW4iLCJjdXJyZW50U3RvcmFnZUNvbnRlbnQiLCJfc2lnbk91dCIsImlzQXV0aEFwaUVycm9yIiwib25BdXRoU3RhdGVDaGFuZ2UiLCJzdWJzY3JpcHRpb24iLCJfZW1pdEluaXRpYWxTZXNzaW9uIiwicmVzZXRQYXNzd29yZEZvckVtYWlsIiwiZ2V0VXNlcklkZW50aXRpZXMiLCJpZGVudGl0aWVzIiwibGlua0lkZW50aXR5IiwiX2dldFVybEZvclByb3ZpZGVyIiwidW5saW5rSWRlbnRpdHkiLCJpZGVudGl0eSIsImlkZW50aXR5X2lkIiwiX3JlZnJlc2hBY2Nlc3NUb2tlbiIsInJlZnJlc2hUb2tlbiIsImRlYnVnTmFtZSIsInN0YXJ0ZWRBdCIsImF0dGVtcHQiLCJhY2NlcHQiLCJzbGVlcCIsInBvdyIsImlzUmV0cnlhYmxlIiwibmV4dEJhY2tPZmZJbnRlcnZhbCIsIkluZmluaXR5IiwiZXhwaXJlc1dpdGhNYXJnaW4iLCJwcm9taXNlcyIsIl9yZW1vdmVWaXNpYmlsaXR5Q2hhbmdlZENhbGxiYWNrIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl9zdGFydEF1dG9SZWZyZXNoIiwiX3N0b3BBdXRvUmVmcmVzaCIsInRpY2tlciIsIl9hdXRvUmVmcmVzaFRva2VuVGljayIsInVucmVmIiwidW5yZWZUaW1lciIsInN0YXJ0QXV0b1JlZnJlc2giLCJzdG9wQXV0b1JlZnJlc2giLCJleHBpcmVzSW5UaWNrcyIsIl9vblZpc2liaWxpdHlDaGFuZ2VkIiwiY2FsbGVkRnJvbUluaXRpYWxpemUiLCJtZXRob2ROYW1lIiwidmlzaWJpbGl0eVN0YXRlIiwidXJsUGFyYW1zIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZmxvd1BhcmFtcyIsImZhY3RvcklkIiwiZnJpZW5kbHlfbmFtZSIsImZyaWVuZGx5TmFtZSIsImZhY3Rvcl90eXBlIiwiZmFjdG9yVHlwZSIsImlzc3VlciIsInRvdHAiLCJxcl9jb2RlIiwiY2hhbGxlbmdlX2lkIiwiY2hhbGxlbmdlSWQiLCJjaGFsbGVuZ2VEYXRhIiwiY2hhbGxlbmdlRXJyb3IiLCJmYWN0b3IiLCJjdXJyZW50TGV2ZWwiLCJuZXh0TGV2ZWwiLCJjdXJyZW50QXV0aGVudGljYXRpb25NZXRob2RzIiwiYWFsIiwiYW1yIiwiZmV0Y2hKd2siLCJraWQiLCJqd2siLCJnZXRDbGFpbXMiLCJyYXdIZWFkZXIiLCJ2YWxpZGF0ZUV4cCIsImFsZyIsImNsYWltcyIsImFsZ29yaXRobSIsIm5hbWVkQ3VydmUiLCJnZXRBbGdvcml0aG0iLCJzaWduaW5nS2V5IiwiaW1wb3J0S2V5IiwiaGlnaFN1cnJvZ2F0ZSIsInN0cmluZ1RvVVRGOCIsInN0cmluZ1RvVWludDhBcnJheSIsIlN1cGFiYXNlQXV0aENsaWVudCIsIlN1cGFiYXNlQ2xpZW50Iiwic3VwYWJhc2VVcmwiLCJfc3VwYWJhc2VVcmwiLCJlbmRzV2l0aCIsImJhc2VVcmwiLCJyZWFsdGltZVVybCIsInByb3RvY29sIiwiYXV0aFVybCIsInN0b3JhZ2VVcmwiLCJmdW5jdGlvbnNVcmwiLCJkZWZhdWx0U3RvcmFnZUtleSIsImhvc3RuYW1lIiwiZGVmYXVsdHMiLCJkYiIsImRiT3B0aW9ucyIsImF1dGgiLCJhdXRoT3B0aW9ucyIsInJlYWx0aW1lIiwicmVhbHRpbWVPcHRpb25zIiwiZ2xvYmFsT3B0aW9ucyIsImFwcGx5U2V0dGluZ0RlZmF1bHRzIiwiX2luaXRTdXBhYmFzZUF1dGhDbGllbnQiLCJfZ2V0QWNjZXNzVG9rZW4iLCJfaW5pdFJlYWx0aW1lQ2xpZW50IiwiX2xpc3RlbkZvckF1dGhFdmVudHMiLCJmdW5jdGlvbnMiLCJhdXRoSGVhZGVycyIsIl9oYW5kbGVUb2tlbkNoYW5nZWQiLCJzb3VyY2UiLCJjaGFuZ2VkQWNjZXNzVG9rZW4iLCJuIiwiaXRlcmF0b3IiLCJHZW5lcmF0b3IiLCJ1IiwiY3JlYXRlIiwiX3JlZ2VuZXJhdG9yRGVmaW5lMiIsImYiLCJ5IiwiRyIsInYiLCJsIiwiVHlwZUVycm9yIiwiR2VuZXJhdG9yRnVuY3Rpb24iLCJHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSIsImdldFByb3RvdHlwZU9mIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJkaXNwbGF5TmFtZSIsIl9yZWdlbmVyYXRvciIsInciLCJfaW52b2tlIiwiYXN5bmNHZW5lcmF0b3JTdGVwIiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJhcmd1bWVudHMiLCJfbmV4dCIsIl90aHJvdyIsInN1cGFiYXNlIiwiX2NhbGxlZSIsIl9jb250ZXh0IiwiY2hyb21lIiwibG9jYWwiLCJfY2FsbGVlMiIsIl9jb250ZXh0MiIsIl9kZWZpbmVQcm9wZXJ0eSIsIl9jYWxsZWUzIiwiX2NvbnRleHQzIiwiX3NsaWNlZFRvQXJyYXkiLCJfYXJyYXlXaXRoSG9sZXMiLCJfaXRlcmFibGVUb0FycmF5TGltaXQiLCJfYXJyYXlMaWtlVG9BcnJheSIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIl9ub25JdGVyYWJsZVJlc3QiLCJfZGVmaW5lUHJvcGVydGllcyIsIl90b1Byb3BlcnR5S2V5IiwiX3R5cGVvZiIsInRvUHJpbWl0aXZlIiwiX3RvUHJpbWl0aXZlIiwiU3RvcmFnZU1hbmFnZXIiLCJfY2xhc3NDYWxsQ2hlY2siLCJfZ2V0RGF0YSIsIl95aWVsZCRzdXBhYmFzZSRhdXRoJCIsIl95aWVsZCRQcm9taXNlJGFsbCIsIl95aWVsZCRQcm9taXNlJGFsbDIiLCJsaW5rc1JlcyIsImNvbGxlY3Rpb25zUmVzIiwiY29sbGVjdGlvbnMiLCJnZXREZWZhdWx0RGF0YSIsImRiTGluayIsInRpdGxlIiwiZmF2aWNvbiIsInVzZXJOb3RlIiwidXNlcl9ub3RlIiwiYWlTdW1tYXJ5IiwiYWlfc3VtbWFyeSIsImNhdGVnb3J5IiwiY29sbGVjdGlvbklkIiwiY29sbGVjdGlvbl9pZCIsImNyZWF0ZWRBdCIsImNyZWF0ZWRfYXQiLCJ1cGRhdGVkQXQiLCJ1cGRhdGVkX2F0IiwiZGJDb2wiLCJkZXNjcmlwdGlvbiIsImNvbG9yIiwiY2F0ZWdvcmllcyIsImdldERlZmF1bHRDYXRlZ29yaWVzIiwiZGVmYXVsdENhdGVnb3J5IiwiYXV0b1N1bW1hcml6ZSIsIl9hZGRMaW5rIiwiX3Nlc3Npb25EYXRhJHNlc3Npb24iLCJfeWllbGQkc3VwYWJhc2UkYXV0aCQyIiwiX3lpZWxkJHN1cGFiYXNlJGZyb20kIiwic3VjY2VzcyIsInVzZXJfaWQiLCJfeCIsIl91cGRhdGVMaW5rIiwibGlua0lkIiwidXBkYXRlcyIsIl95aWVsZCRzdXBhYmFzZSRmcm9tJDIiLCJfb2JqZWN0U3ByZWFkIiwiX3gyIiwiX3gzIiwiX2RlbGV0ZUxpbmsiLCJfY2FsbGVlNCIsIl95aWVsZCRzdXBhYmFzZSRmcm9tJDMiLCJfY29udGV4dDQiLCJfeDQiLCJfYWRkQ29sbGVjdGlvbiIsIl9jYWxsZWU1IiwiY29sbGVjdGlvbiIsIl9zZXNzaW9uRGF0YSRzZXNzaW9uMiIsIl95aWVsZCRzdXBhYmFzZSRhdXRoJDMiLCJkYkNvbGxlY3Rpb24iLCJfeWllbGQkc3VwYWJhc2UkZnJvbSQ0IiwiX2NvbnRleHQ1IiwiX3g1IiwiX3VwZGF0ZUNvbGxlY3Rpb24iLCJfY2FsbGVlNiIsIl95aWVsZCRzdXBhYmFzZSRmcm9tJDUiLCJfY29udGV4dDYiLCJfeDYiLCJfeDciLCJfZGVsZXRlQ29sbGVjdGlvbiIsIl9jYWxsZWU3IiwiX3lpZWxkJHN1cGFiYXNlJGZyb20kNiIsIl9jb250ZXh0NyIsIl94OCIsIl9zZWFyY2hMaW5rcyIsIl9jYWxsZWU4IiwiX3Nlc3Npb25EYXRhJHNlc3Npb24zIiwiX3lpZWxkJHN1cGFiYXNlJGF1dGgkNCIsIl95aWVsZCRzdXBhYmFzZSRycGMiLCJfdCIsIl9jb250ZXh0OCIsInNlYXJjaF9xdWVyeSIsInVzZXJfdXVpZCIsInJlc3VsdF9saW1pdCIsInNlYXJjaFJhbmsiLCJyYW5rIiwic2VhcmNoSGVhZGxpbmUiLCJoZWFkbGluZSIsIl94OSIsIl9nZXRVc2VyVGFncyIsIl9jYWxsZWU5IiwiX3Nlc3Npb25EYXRhJHNlc3Npb240IiwiX3lpZWxkJHN1cGFiYXNlJGF1dGgkNSIsIl95aWVsZCRzdXBhYmFzZSRycGMyIiwiX3QyIiwiX2NvbnRleHQ5IiwidGFnIiwidXNhZ2VDb3VudCIsInVzYWdlX2NvdW50IiwiX2dldExpbmtUYWdzIiwiX2NhbGxlZTAiLCJfeWllbGQkc3VwYWJhc2UkcnBjMyIsIl90MyIsIl9jb250ZXh0MCIsImxpbmtfdXVpZCIsIl94MCIsIl9hZGRUYWdzVG9MaW5rIiwiX2NhbGxlZTEiLCJ0YWdOYW1lcyIsIl9zZXNzaW9uRGF0YSRzZXNzaW9uNSIsIl95aWVsZCRzdXBhYmFzZSRhdXRoJDYiLCJfeWllbGQkc3VwYWJhc2UkcnBjNCIsIl90NCIsIl9jb250ZXh0MSIsInRhZ19uYW1lcyIsIl94MSIsIl94MTAiLCJfZ2V0TGlua3NCeVRhZyIsIl9jYWxsZWUxMCIsInRhZ05hbWUiLCJfc2Vzc2lvbkRhdGEkc2Vzc2lvbjYiLCJfeWllbGQkc3VwYWJhc2UkYXV0aCQ3IiwiX3lpZWxkJHN1cGFiYXNlJHJwYzUiLCJfdDUiLCJfY29udGV4dDEwIiwidGFnX25hbWUiLCJfeDExIiwiX2NsZWFudXBVbnVzZWRUYWdzIiwiX2NhbGxlZTExIiwiX3Nlc3Npb25EYXRhJHNlc3Npb243IiwiX3lpZWxkJHN1cGFiYXNlJGF1dGgkOCIsIl95aWVsZCRzdXBhYmFzZSRycGM2IiwiX3Q2IiwiX2NvbnRleHQxMSIsIl90b2dnbGVDb2xsZWN0aW9uU2hhcmluZyIsIl9jYWxsZWUxMiIsIm1ha2VQdWJsaWMiLCJfc2Vzc2lvbkRhdGEkc2Vzc2lvbjgiLCJfeWllbGQkc3VwYWJhc2UkYXV0aCQ5IiwiX3lpZWxkJHN1cGFiYXNlJHJwYzciLCJfdDciLCJfY29udGV4dDEyIiwiY29sbGVjdGlvbl91dWlkIiwibWFrZV9wdWJsaWMiLCJzaGFyZVRva2VuIiwic2hhcmVfdG9rZW4iLCJfeDEyIiwiX3gxMyIsIl9nZXRDb2xsZWN0aW9uU2hhcmluZ0luZm8iLCJfY2FsbGVlMTMiLCJfc2Vzc2lvbkRhdGEkc2Vzc2lvbjkiLCJfeWllbGQkc3VwYWJhc2UkYXV0aCQwIiwiX3lpZWxkJHN1cGFiYXNlJGZyb20kNyIsIl90OCIsIl9jb250ZXh0MTMiLCJpc1B1YmxpYyIsImlzX3B1YmxpYyIsInZpZXdDb3VudCIsInZpZXdfY291bnQiLCJfeDE0IiwiaXNEZWZhdWx0IiwiX2dldFB1YmxpY0NvbGxlY3Rpb24iLCJfY2FsbGVlMTQiLCJfeWllbGQkc3VwYWJhc2UkcnBjOCIsIl90OSIsIl9jb250ZXh0MTQiLCJvd25lckVtYWlsIiwib3duZXJfZW1haWwiLCJfeDE1IiwiX2dldFB1YmxpY0NvbGxlY3Rpb25MaW5rcyIsIl9jYWxsZWUxNSIsIl95aWVsZCRzdXBhYmFzZSRycGM5IiwiX3QwIiwiX2NvbnRleHQxNSIsInRhZ3MiLCJfeDE2IiwiX2luY3JlbWVudFZpZXdDb3VudCIsIl9jYWxsZWUxNiIsIl95aWVsZCRzdXBhYmFzZSRycGMwIiwiX3QxIiwiX2NvbnRleHQxNiIsIl94MTciLCJhaVNlcnZpY2UiLCJBSVNlcnZpY2UiLCJtb2RlbCIsIl9nZW5lcmF0ZVN1bW1hcnkiLCJjb250ZW50IiwiZ2VuZXJhdGVQbGFjZWhvbGRlclN1bW1hcnkiLCJjYWxsT3BlbkFJIiwiY29udGVudExlbmd0aCIsIl9jYWxsT3BlbkFJIiwiX2RhdGEkY2hvaWNlcyQiLCJwcm9tcHQiLCJyb2xlIiwibWF4X3Rva2VucyIsInRlbXBlcmF0dXJlIiwiY2hvaWNlcyIsInNhdmVDdXJyZW50UGFnZSIsIl9zYXZlQ3VycmVudFBhZ2UiLCJ0YWIiLCJsaW5rVXJsIiwicGFnZUNvbnRlbnQiLCJuZXdMaW5rIiwiZXJyb3JNZXNzYWdlIiwic3RhcnRzV2l0aCIsInRhYnMiLCJzZW5kTWVzc2FnZSIsImFjdGlvbiIsImdlbmVyYXRlU3VtbWFyeSIsImZhdkljb25VcmwiLCJhZGRMaW5rIiwibm90aWZpY2F0aW9ucyIsImljb25VcmwiLCJnZXRQYWdlQ29udGVudCIsIl9nZXRQYWdlQ29udGVudCIsInRhYklkIiwicnVudGltZSIsIm9uSW5zdGFsbGVkIiwiYWRkTGlzdGVuZXIiLCJjb250ZXh0TWVudXMiLCJjb250ZXh0cyIsIm9uQ2xpY2tlZCIsIm1lbnVJdGVtSWQiLCJfcmVmMiIsIm9uTWVzc2FnZSIsInNlbmRlciIsInNlbmRSZXNwb25zZSIsImFjdGl2ZSIsImN1cnJlbnRXaW5kb3ciLCJjb21tYW5kcyIsIm9uQ29tbWFuZCIsIl9yZWY0IiwiY29tbWFuZCJdLCJzb3VyY2VSb290IjoiIn0=